!function(a){"use strict";function b(a){var b=this.internal=new c(this);b.loadConfig(a),b.init(),function d(a,b,c){Object.keys(a).forEach(function(e){b[e]=a[e].bind(c),Object.keys(a[e]).length>0&&d(a[e],b[e],c)})}(e,this,this)}function c(b){var c=this;c.d3=a.d3?a.d3:"undefined"!=typeof require?require("d3"):void 0,c.api=b,c.config=c.getDefaultConfig(),c.data={},c.cache={},c.axes={}}function d(a,b){function c(a,b){a.attr("transform",function(a){return"translate("+Math.ceil(b(a)+t)+", 0)"})}function d(a,b){a.attr("transform",function(a){return"translate(0,"+Math.ceil(b(a))+")"})}function e(a){var b=a[0],c=a[a.length-1];return c>b?[b,c]:[c,b]}function f(a){var b,c,d=[];if(a.ticks)return a.ticks.apply(a,m);for(c=a.domain(),b=Math.ceil(c[0]);b<c[1];b++)d.push(b);return d.length>0&&d[0]>0&&d.unshift(d[0]-(d[1]-d[0])),d}function g(){var a,c=o.copy();return b.isCategory&&(a=o.domain(),c.domain([a[0],a[1]-1])),c}function h(a){return l?l(a):a}function i(a){if(w)return w;var b={h:11.5,w:5.5};return a.select("text").text(h).each(function(a){var c=this.getBoundingClientRect(),d=h(a),e=c.height,f=d?c.width/d.length:void 0;e&&f&&(b.h=e,b.w=f)}).text(""),w=b,b}function j(j){j.each(function(){function j(a,c){function d(a,b){f=void 0;for(var h=1;h<b.length;h++)if(" "===b.charAt(h)&&(f=h),e=b.substr(0,h+1),g=O.w*e.length,g>c)return d(a.concat(b.substr(0,f?f:h)),b.slice(f?f+1:h));return a.concat(b)}var e,f,g,i=h(a),j=[];return"[object Array]"===Object.prototype.toString.call(i)?i:((!c||0>=c)&&(c=R?95:b.isCategory?Math.ceil(z(A[1])-z(A[0]))-12:110),d(j,i+""))}function l(a,b){var c=O.h;return 0===b&&(c="left"===p||"right"===p?-((P[a.index]-1)*(O.h/2)-3):".71em"),c}function m(a){var b=o(a)+(n?0:t);return F[0]<b&&b<F[1]?q:0}var u,v,w,x=a.select(this),y=this.__chart__||o,z=this.__chart__=g(),A=s?s:f(z),B=x.selectAll(".tick").data(A,z),C=B.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),D=B.exit().remove(),E=a.transition(B).style("opacity",1),F=o.rangeExtent?o.rangeExtent():e(o.range()),G=x.selectAll(".domain").data([0]),H=(G.enter().append("path").attr("class","domain"),a.transition(G));C.append("line"),C.append("text");var I=C.select("line"),J=E.select("line"),K=C.select("text"),L=E.select("text");b.isCategory?(t=Math.ceil((z(1)-z(0))/2),v=n?0:t,w=n?t:0):t=v=0;var M,N,O=i(x.select(".tick")),P=[],Q=Math.max(q,0)+r,R="left"===p||"right"===p;switch(M=B.select("text"),N=M.selectAll("tspan").data(function(a,c){var d=b.tickMultiline?j(a,b.tickWidth):[].concat(h(a));return P[c]=d.length,d.map(function(a){return{index:c,splitted:a}})}),N.enter().append("tspan"),N.exit().remove(),N.text(function(a){return a.splitted}),p){case"bottom":u=c,I.attr("y2",q),K.attr("y",Q),J.attr("x1",v).attr("x2",v).attr("y2",m),L.attr("x",0).attr("y",Q),M.style("text-anchor","middle"),N.attr("x",0).attr("dy",l),H.attr("d","M"+F[0]+","+k+"V0H"+F[1]+"V"+k);break;case"top":u=c,I.attr("y2",-q),K.attr("y",-Q),J.attr("x2",0).attr("y2",-q),L.attr("x",0).attr("y",-Q),M.style("text-anchor","middle"),N.attr("x",0).attr("dy","0em"),H.attr("d","M"+F[0]+","+-k+"V0H"+F[1]+"V"+-k);break;case"left":u=d,I.attr("x2",-q),K.attr("x",-Q),J.attr("x2",-q).attr("y1",w).attr("y2",w),L.attr("x",-Q).attr("y",t),M.style("text-anchor","end"),N.attr("x",-Q).attr("dy",l),H.attr("d","M"+-k+","+F[0]+"H0V"+F[1]+"H"+-k);break;case"right":u=d,I.attr("x2",q),K.attr("x",Q),J.attr("x2",q).attr("y2",0),L.attr("x",Q).attr("y",0),M.style("text-anchor","start"),N.attr("x",Q).attr("dy",l),H.attr("d","M"+k+","+F[0]+"H0V"+F[1]+"H"+k)}if(z.rangeBand){var S=z,T=S.rangeBand()/2;y=z=function(a){return S(a)+T}}else y.rangeBand?y=z:D.call(u,z);C.call(u,y),E.call(u,z)})}var k,l,m,n,o=a.scale.linear(),p="bottom",q=6,r=3,s=null,t=0,u=!0;return b=b||{},k=b.withOuterTick?6:0,j.scale=function(a){return arguments.length?(o=a,j):o},j.orient=function(a){return arguments.length?(p=a in{top:1,right:1,bottom:1,left:1}?a+"":"bottom",j):p},j.tickFormat=function(a){return arguments.length?(l=a,j):l},j.tickCentered=function(a){return arguments.length?(n=a,j):n},j.tickOffset=function(){return t},j.ticks=function(){return arguments.length?(m=arguments,j):m},j.tickCulling=function(a){return arguments.length?(u=a,j):u},j.tickValues=function(a){if("function"==typeof a)s=function(){return a(o.domain())};else{if(!arguments.length)return s;s=a}return j},j}var e,f,g={version:"0.4.9"};g.generate=function(a){return new b(a)},g.chart={fn:b.prototype,internal:{fn:c.prototype}},e=g.chart.fn,f=g.chart.internal.fn,f.init=function(){var a=this,b=a.config;if(a.initParams(),b.data_url)a.convertUrlToData(b.data_url,b.data_mimeType,b.data_keys,a.initWithData);else if(b.data_json)a.initWithData(a.convertJsonToData(b.data_json,b.data_keys));else if(b.data_rows)a.initWithData(a.convertRowsToData(b.data_rows));else{if(!b.data_columns)throw Error("url or json or rows or columns is required.");a.initWithData(a.convertColumnsToData(b.data_columns))}},f.initParams=function(){var a=this,b=a.d3,c=a.config;a.clipId="c3-"+ +new Date+"-clip",a.clipIdForXAxis=a.clipId+"-xaxis",a.clipIdForYAxis=a.clipId+"-yaxis",a.clipIdForGrid=a.clipId+"-grid",a.clipIdForSubchart=a.clipId+"-subchart",a.clipPath=a.getClipPath(a.clipId),a.clipPathForXAxis=a.getClipPath(a.clipIdForXAxis),a.clipPathForYAxis=a.getClipPath(a.clipIdForYAxis),a.clipPathForGrid=a.getClipPath(a.clipIdForGrid),a.clipPathForSubchart=a.getClipPath(a.clipIdForSubchart),a.dragStart=null,a.dragging=!1,a.flowing=!1,a.cancelClick=!1,a.mouseover=!1,a.transiting=!1,a.color=a.generateColor(),a.levelColor=a.generateLevelColor(),a.dataTimeFormat=c.data_xLocaltime?b.time.format:b.time.format.utc,a.axisTimeFormat=c.axis_x_localtime?b.time.format:b.time.format.utc,a.defaultAxisTimeFormat=a.axisTimeFormat.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%-m/%-d",function(a){return a.getDay()&&1!==a.getDate()}],["%-m/%-d",function(a){return 1!==a.getDate()}],["%-m/%-d",function(a){return a.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),a.hiddenTargetIds=[],a.hiddenLegendIds=[],a.focusedTargetIds=[],a.defocusedTargetIds=[],a.xOrient=c.axis_rotated?"left":"bottom",a.yOrient=c.axis_rotated?c.axis_y_inner?"top":"bottom":c.axis_y_inner?"right":"left",a.y2Orient=c.axis_rotated?c.axis_y2_inner?"bottom":"top":c.axis_y2_inner?"left":"right",a.subXOrient=c.axis_rotated?"left":"bottom",a.isLegendRight="right"===c.legend_position,a.isLegendInset="inset"===c.legend_position,a.isLegendTop="top-left"===c.legend_inset_anchor||"top-right"===c.legend_inset_anchor,a.isLegendLeft="top-left"===c.legend_inset_anchor||"bottom-left"===c.legend_inset_anchor,a.legendStep=0,a.legendItemWidth=0,a.legendItemHeight=0,a.currentMaxTickWidths={x:0,y:0,y2:0},a.rotated_padding_left=30,a.rotated_padding_right=c.axis_rotated&&!c.axis_x_show?0:30,a.rotated_padding_top=5,a.withoutFadeIn={},a.intervalForObserveInserted=void 0,a.axes.subx=b.selectAll([])},f.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},f.initWithData=function(b){var c,d,e=this,f=e.d3,g=e.config,h=!0;e.initPie&&e.initPie(),e.initBrush&&e.initBrush(),e.initZoom&&e.initZoom(),e.selectChart="function"==typeof g.bindto.node?g.bindto:f.select(g.bindto),e.selectChart.empty()&&(e.selectChart=f.select(document.createElement("div")).style("opacity",0),e.observeInserted(e.selectChart),h=!1),e.selectChart.html("").classed("c3",!0),e.data.xs={},e.data.targets=e.convertDataToTargets(b),g.data_filter&&(e.data.targets=e.data.targets.filter(g.data_filter)),g.data_hide&&e.addHiddenTargetIds(g.data_hide===!0?e.mapToIds(e.data.targets):g.data_hide),g.legend_hide&&e.addHiddenLegendIds(g.legend_hide===!0?e.mapToIds(e.data.targets):g.legend_hide),e.hasType("gauge")&&(g.legend_show=!1),e.updateSizes(),e.updateScales(),e.x.domain(f.extent(e.getXDomain(e.data.targets))),e.y.domain(e.getYDomain(e.data.targets,"y")),e.y2.domain(e.getYDomain(e.data.targets,"y2")),e.subX.domain(e.x.domain()),e.subY.domain(e.y.domain()),e.subY2.domain(e.y2.domain()),e.orgXDomain=e.x.domain(),e.brush&&e.brush.scale(e.subX),g.zoom_enabled&&e.zoom.scale(e.x),e.svg=e.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return g.onmouseover.call(e)}).on("mouseleave",function(){return g.onmouseout.call(e)}),c=e.svg.append("defs"),e.clipChart=e.appendClip(c,e.clipId),e.clipXAxis=e.appendClip(c,e.clipIdForXAxis),e.clipYAxis=e.appendClip(c,e.clipIdForYAxis),e.clipGrid=e.appendClip(c,e.clipIdForGrid),e.clipSubchart=e.appendClip(c,e.clipIdForSubchart),e.updateSvgSize(),d=e.main=e.svg.append("g").attr("transform",e.getTranslate("main")),e.initSubchart&&e.initSubchart(),e.initTooltip&&e.initTooltip(),e.initLegend&&e.initLegend(),d.append("text").attr("class",i.text+" "+i.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),e.initRegion(),e.initGrid(),d.append("g").attr("clip-path",e.clipPath).attr("class",i.chart),g.grid_lines_front&&e.initGridLines(),e.initEventRect(),e.initChartElements(),d.insert("rect",g.zoom_privileged?null:"g."+i.regions).attr("class",i.zoomRect).attr("width",e.width).attr("height",e.height).style("opacity",0).on("dblclick.zoom",null),g.axis_x_extent&&e.brush.extent(e.getDefaultExtent()),e.initAxis(),e.updateTargets(e.data.targets),h&&(e.updateDimension(),e.config.oninit.call(e),e.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),null==a.onresize&&(a.onresize=e.generateResize()),a.onresize.add&&(a.onresize.add(function(){g.onresize.call(e)}),a.onresize.add(function(){e.api.flush()}),a.onresize.add(function(){g.onresized.call(e)})),e.api.element=e.selectChart.node()},f.smoothLines=function(a,b){var c=this;"grid"===b&&a.each(function(){var a=c.d3.select(this),b=a.attr("x1"),d=a.attr("x2"),e=a.attr("y1"),f=a.attr("y2");a.attr({x1:Math.ceil(b),x2:Math.ceil(d),y1:Math.ceil(e),y2:Math.ceil(f)})})},f.updateSizes=function(){var a=this,b=a.config,c=a.legend?a.getLegendHeight():0,d=a.legend?a.getLegendWidth():0,e=a.isLegendRight||a.isLegendInset?0:c,f=a.hasArcType(),g=b.axis_rotated||f?0:a.getHorizontalAxisHeight("x"),h=b.subchart_show&&!f?b.subchart_size_height+g:0;a.currentWidth=a.getCurrentWidth(),a.currentHeight=a.getCurrentHeight(),a.margin=b.axis_rotated?{top:a.getHorizontalAxisHeight("y2")+a.getCurrentPaddingTop(),right:f?0:a.getCurrentPaddingRight(),bottom:a.getHorizontalAxisHeight("y")+e+a.getCurrentPaddingBottom(),left:h+(f?0:a.getCurrentPaddingLeft())}:{top:4+a.getCurrentPaddingTop(),right:f?0:a.getCurrentPaddingRight(),bottom:g+h+e+a.getCurrentPaddingBottom(),left:f?0:a.getCurrentPaddingLeft()},a.margin2=b.axis_rotated?{top:a.margin.top,right:0/0,bottom:20+e,left:a.rotated_padding_left}:{top:a.currentHeight-h-e,right:0/0,bottom:g+e,left:a.margin.left},a.margin3={top:0,right:0/0,bottom:0,left:0},a.updateSizeForLegend&&a.updateSizeForLegend(c,d),a.width=a.currentWidth-a.margin.left-a.margin.right,a.height=a.currentHeight-a.margin.top-a.margin.bottom,a.width<0&&(a.width=0),a.height<0&&(a.height=0),a.width2=b.axis_rotated?a.margin.left-a.rotated_padding_left-a.rotated_padding_right:a.width,a.height2=b.axis_rotated?a.height:a.currentHeight-a.margin2.top-a.margin2.bottom,a.width2<0&&(a.width2=0),a.height2<0&&(a.height2=0),a.arcWidth=a.width-(a.isLegendRight?d+10:0),a.arcHeight=a.height-(a.isLegendRight?0:10),a.hasType("gauge")&&(a.arcHeight+=a.height-a.getGaugeLabelHeight()),a.updateRadius&&a.updateRadius(),a.isLegendRight&&f&&(a.margin3.left=a.arcWidth/2+1.1*a.radiusExpanded)},f.updateTargets=function(a){var b=this;b.updateTargetsForText(a),b.updateTargetsForBar(a),b.updateTargetsForLine(a),b.hasArcType()&&b.updateTargetsForArc&&b.updateTargetsForArc(a),b.updateTargetsForSubchart&&b.updateTargetsForSubchart(a),b.showTargets()},f.showTargets=function(){var a=this;a.svg.selectAll("."+i.target).filter(function(b){return a.isTargetToShow(b.id)}).transition().duration(a.config.transition_duration).style("opacity",1)},f.redraw=function(a,b){var c,d,e,f,g,h,j,k,l,m,n,o,p,q,r,s,u,v,w,x,y,z,A,B,C,D,E,F,G,H=this,I=H.main,J=H.d3,K=H.config,L=H.getShapeIndices(H.isAreaType),M=H.getShapeIndices(H.isBarType),N=H.getShapeIndices(H.isLineType),O=H.hasArcType(),P=H.filterTargetsToShow(H.data.targets),Q=H.xv.bind(H);if(a=a||{},c=t(a,"withY",!0),d=t(a,"withSubchart",!0),e=t(a,"withTransition",!0),h=t(a,"withTransform",!1),j=t(a,"withUpdateXDomain",!1),k=t(a,"withUpdateOrgXDomain",!1),l=t(a,"withTrimXDomain",!0),p=t(a,"withUpdateXAxis",j),m=t(a,"withLegend",!1),n=t(a,"withEventRect",!0),o=t(a,"withDimension",!0),f=t(a,"withTransitionForExit",e),g=t(a,"withTransitionForAxis",e),w=e?K.transition_duration:0,x=f?w:0,y=g?w:0,b=b||H.generateAxisTransitions(y),m&&K.legend_show?H.updateLegend(H.mapToIds(H.data.targets),a,b):o&&H.updateDimension(!0),H.isCategorized()&&0===P.length&&H.x.domain([0,H.axes.x.selectAll(".tick").size()]),P.length?(H.updateXDomain(P,j,k,l),K.axis_x_tick_values||(B=H.updateXAxisTickValues(P))):(H.xAxis.tickValues([]),H.subXAxis.tickValues([])),K.zoom_rescale&&!a.flow&&(E=H.x.orgDomain()),H.y.domain(H.getYDomain(P,"y",E)),H.y2.domain(H.getYDomain(P,"y2",E)),!K.axis_y_tick_values&&K.axis_y_tick_count&&H.yAxis.tickValues(H.generateTickValues(H.y.domain(),K.axis_y_tick_count)),!K.axis_y2_tick_values&&K.axis_y2_tick_count&&H.y2Axis.tickValues(H.generateTickValues(H.y2.domain(),K.axis_y2_tick_count)),H.redrawAxis(b,O),H.updateAxisLabels(e),(j||p)&&P.length)if(K.axis_x_tick_culling&&B){for(C=1;C<B.length;C++)if(B.length/C<K.axis_x_tick_culling_max){D=C;break}H.svg.selectAll("."+i.axisX+" .tick text").each(function(a){var b=B.indexOf(a);b>=0&&J.select(this).style("display",b%D?"none":"block")})}else H.svg.selectAll("."+i.axisX+" .tick text").style("display","block");q=H.generateDrawArea?H.generateDrawArea(L,!1):void 0,r=H.generateDrawBar?H.generateDrawBar(M):void 0,s=H.generateDrawLine?H.generateDrawLine(N,!1):void 0,u=H.generateXYForText(L,M,N,!0),v=H.generateXYForText(L,M,N,!1),c&&(H.subY.domain(H.getYDomain(P,"y")),H.subY2.domain(H.getYDomain(P,"y2"))),H.tooltip.style("display","none"),H.updateXgridFocus(),I.select("text."+i.text+"."+i.empty).attr("x",H.width/2).attr("y",H.height/2).text(K.data_empty_label_text).transition().style("opacity",P.length?0:1),H.updateGrid(w),H.updateRegion(w),H.updateBar(x),H.updateLine(x),H.updateArea(x),H.updateCircle(),H.hasDataLabel()&&H.updateText(x),H.redrawArc&&H.redrawArc(w,x,h),H.redrawSubchart&&H.redrawSubchart(d,b,w,x,L,M,N),I.selectAll("."+i.selectedCircles).filter(H.isBarType.bind(H)).selectAll("circle").remove(),K.interaction_enabled&&!a.flow&&n&&(H.redrawEventRect(),H.updateZoom&&H.updateZoom()),H.updateCircleY(),F=(H.config.axis_rotated?H.circleY:H.circleX).bind(H),G=(H.config.axis_rotated?H.circleX:H.circleY).bind(H),a.flow&&(A=H.generateFlow({targets:P,flow:a.flow,duration:w,drawBar:r,drawLine:s,drawArea:q,cx:F,cy:G,xv:Q,xForText:u,yForText:v})),w?J.transition().duration(w).each(function(){var b=[];[H.redrawBar(r,!0),H.redrawLine(s,!0),H.redrawArea(q,!0),H.redrawCircle(F,G,!0),H.redrawText(u,v,a.flow,!0),H.redrawRegion(!0),H.redrawGrid(!0)].forEach(function(a){a.forEach(function(a){b.push(a)})}),z=H.generateWait(),b.forEach(function(a){z.add(a)})}).call(z,function(){A&&A(),K.onrendered&&K.onrendered.call(H)}):(H.redrawBar(r),H.redrawLine(s),H.redrawArea(q),H.redrawCircle(F,G),K.onrendered&&K.onrendered.call(H)),H.mapToIds(H.data.targets).forEach(function(a){H.withoutFadeIn[a]=!0})},f.updateAndRedraw=function(a){var b,c=this,d=c.config;a=a||{},a.withTransition=t(a,"withTransition",!0),a.withTransform=t(a,"withTransform",!1),a.withLegend=t(a,"withLegend",!1),a.withUpdateXDomain=!0,a.withUpdateOrgXDomain=!0,a.withTransitionForExit=!1,a.withTransitionForTransform=t(a,"withTransitionForTransform",a.withTransition),c.updateSizes(),a.withLegend&&d.legend_show||(b=c.generateAxisTransitions(a.withTransitionForAxis?d.transition_duration:0),c.updateScales(),c.updateSvgSize(),c.transformAll(a.withTransitionForTransform,b)),c.redraw(a,b)},f.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},f.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},f.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},f.isCustomX=function(){var a=this,b=a.config;return!a.isTimeSeries()&&(b.data_x||s(b.data_xs))},f.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},f.getTranslate=function(a){var b,c,d=this,e=d.config;return"main"===a?(b=p(d.margin.left),c=p(d.margin.top)):"context"===a?(b=p(d.margin2.left),c=p(d.margin2.top)):"legend"===a?(b=d.margin3.left,c=d.margin3.top):"x"===a?(b=0,c=e.axis_rotated?0:d.height):"y"===a?(b=0,c=e.axis_rotated?d.height:0):"y2"===a?(b=e.axis_rotated?0:d.width,c=e.axis_rotated?1:0):"subx"===a?(b=0,c=e.axis_rotated?0:d.height2):"arc"===a&&(b=d.arcWidth/2,c=d.arcHeight/2),"translate("+b+","+c+")"},f.initialOpacity=function(a){return null!==a.value&&this.withoutFadeIn[a.id]?1:0},f.initialOpacityForCircle=function(a){return null!==a.value&&this.withoutFadeIn[a.id]?this.opacityForCircle(a):0},f.opacityForCircle=function(a){var b=this.config.point_show?1:0;return j(a.value)?this.isScatterType(a)?.5:b:0},f.opacityForText=function(){return this.hasDataLabel()?1:0},f.xx=function(a){return a?this.x(a.x):null},f.xv=function(a){var b=this,c=a.value;return b.isTimeSeries()?c=b.parseDate(a.value):b.isCategorized()&&"string"==typeof a.value&&(c=b.config.axis_x_categories.indexOf(a.value)),Math.ceil(b.x(c))},f.yv=function(a){var b=this,c=a.axis&&"y2"===a.axis?b.y2:b.y;return Math.ceil(c(a.value))},f.subxx=function(a){return a?this.subX(a.x):null},f.transformMain=function(a,b){var c,d,e,f=this;b&&b.axisX?c=b.axisX:(c=f.main.select("."+i.axisX),a&&(c=c.transition())),b&&b.axisY?d=b.axisY:(d=f.main.select("."+i.axisY),a&&(d=d.transition())),b&&b.axisY2?e=b.axisY2:(e=f.main.select("."+i.axisY2),a&&(e=e.transition())),(a?f.main.transition():f.main).attr("transform",f.getTranslate("main")),c.attr("transform",f.getTranslate("x")),d.attr("transform",f.getTranslate("y")),e.attr("transform",f.getTranslate("y2")),f.main.select("."+i.chartArcs).attr("transform",f.getTranslate("arc"))},f.transformAll=function(a,b){var c=this;c.transformMain(a,b),c.config.subchart_show&&c.transformContext(a,b),c.legend&&c.transformLegend(a)},f.updateSvgSize=function(){var a=this,b=a.svg.select(".c3-brush .background");a.svg.attr("width",a.currentWidth).attr("height",a.currentHeight),a.svg.selectAll(["#"+a.clipId,"#"+a.clipIdForGrid]).select("rect").attr("width",a.width).attr("height",a.height),a.svg.select("#"+a.clipIdForXAxis).select("rect").attr("x",a.getXAxisClipX.bind(a)).attr("y",a.getXAxisClipY.bind(a)).attr("width",a.getXAxisClipWidth.bind(a)).attr("height",a.getXAxisClipHeight.bind(a)),a.svg.select("#"+a.clipIdForYAxis).select("rect").attr("x",a.getYAxisClipX.bind(a)).attr("y",a.getYAxisClipY.bind(a)).attr("width",a.getYAxisClipWidth.bind(a)).attr("height",a.getYAxisClipHeight.bind(a)),a.svg.select("#"+a.clipIdForSubchart).select("rect").attr("width",a.width).attr("height",b.size()?b.attr("height"):0),a.svg.select("."+i.zoomRect).attr("width",a.width).attr("height",a.height),a.selectChart.style("max-height",a.currentHeight+"px")},f.updateDimension=function(a){var b=this;a||(b.config.axis_rotated?(b.axes.x.call(b.xAxis),b.axes.subx.call(b.subXAxis)):(b.axes.y.call(b.yAxis),b.axes.y2.call(b.y2Axis))),b.updateSizes(),b.updateScales(),b.updateSvgSize(),b.transformAll(!1)},f.observeInserted=function(b){var c=this,d=new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.previousSibling&&(d.disconnect(),c.intervalForObserveInserted=a.setInterval(function(){b.node().parentNode&&(a.clearInterval(c.intervalForObserveInserted),c.updateDimension(),c.config.oninit.call(c),c.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),b.transition().style("opacity",1))},10))})});d.observe(b.node(),{attributes:!0,childList:!0,characterData:!0})},f.generateResize=function(){function a(){b.forEach(function(a){a()})}var b=[];return a.add=function(a){b.push(a)},a},f.endall=function(a,b){var c=0;a.each(function(){++c}).each("end",function(){--c||b.apply(this,arguments)})},f.generateWait=function(){var a=[],b=function(b,c){var d=setInterval(function(){var b=0;a.forEach(function(a){if(a.empty())return void(b+=1);try{a.transition()}catch(c){b+=1}}),b===a.length&&(clearInterval(d),c&&c())},10)};return b.add=function(b){a.push(b)},b},f.parseDate=function(b){var c,d=this;return c=b instanceof Date?b:"number"!=typeof b&&isNaN(b)?d.dataTimeFormat(d.config.data_xFormat).parse(b):new Date(+b),(!c||isNaN(+c))&&a.console.error("Failed to parse x '"+b+"' to Date object"),c},f.getDefaultConfig=function(){var a={bindto:"#chart",size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(a){return a},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_expand:!0,gauge_label_show:!0,gauge_label_format:void 0,gauge_expand:!0,gauge_min:0,gauge_max:100,gauge_units:void 0,gauge_width:void 0,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_width:void 0,donut_expand:!0,donut_title:"",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(a,b,c,d){return this.getTooltipContent?this.getTooltipContent(a,b,c,d):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"}};return Object.keys(this.additionalConfig).forEach(function(b){a[b]=this.additionalConfig[b]},this),a},f.additionalConfig={},f.loadConfig=function(a){function b(){var a=d.shift();return a&&c&&"object"==typeof c&&a in c?(c=c[a],b()):a?void 0:c}var c,d,e,f=this.config;Object.keys(f).forEach(function(g){c=a,d=g.split("_"),e=b(),n(e)&&(f[g]=e)})},f.getScale=function(a,b,c){return(c?this.d3.time.scale():this.d3.scale.linear()).range([a,b])},f.getX=function(a,b,c,d){var e,f=this,g=f.getScale(a,b,f.isTimeSeries()),h=c?g.domain(c):g;f.isCategorized()?(d=d||function(){return 0},g=function(a,b){var c=h(a)+d(a);return b?c:Math.ceil(c)}):g=function(a,b){var c=h(a);return b?c:Math.ceil(c)};for(e in h)g[e]=h[e];return g.orgDomain=function(){return h.domain()},f.isCategorized()&&(g.domain=function(a){return arguments.length?(h.domain(a),g):(a=this.orgDomain(),[a[0],a[1]+1])}),g},f.getY=function(a,b,c){var d=this.getScale(a,b,this.isTimeSeriesY());return c&&d.domain(c),d},f.getYScale=function(a){return"y2"===this.getAxisId(a)?this.y2:this.y},f.getSubYScale=function(a){return"y2"===this.getAxisId(a)?this.subY2:this.subY},f.updateScales=function(){var a=this,b=a.config,c=!a.x;a.xMin=b.axis_rotated?1:0,a.xMax=b.axis_rotated?a.height:a.width,a.yMin=b.axis_rotated?0:a.height,a.yMax=b.axis_rotated?a.width:1,a.subXMin=a.xMin,a.subXMax=a.xMax,a.subYMin=b.axis_rotated?0:a.height2,a.subYMax=b.axis_rotated?a.width2:1,a.x=a.getX(a.xMin,a.xMax,c?void 0:a.x.orgDomain(),function(){return a.xAxis.tickOffset()}),a.y=a.getY(a.yMin,a.yMax,c?b.axis_y_default:a.y.domain()),a.y2=a.getY(a.yMin,a.yMax,c?b.axis_y2_default:a.y2.domain()),a.subX=a.getX(a.xMin,a.xMax,a.orgXDomain,function(b){return b%1?0:a.subXAxis.tickOffset()}),a.subY=a.getY(a.subYMin,a.subYMax,c?b.axis_y_default:a.subY.domain()),a.subY2=a.getY(a.subYMin,a.subYMax,c?b.axis_y2_default:a.subY2.domain()),a.xAxisTickFormat=a.getXAxisTickFormat(),a.xAxisTickValues=a.getXAxisTickValues(),a.yAxisTickValues=a.getYAxisTickValues(),a.y2AxisTickValues=a.getY2AxisTickValues(),a.xAxis=a.getXAxis(a.x,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,b.axis_x_tick_outer),a.subXAxis=a.getXAxis(a.subX,a.subXOrient,a.xAxisTickFormat,a.xAxisTickValues,b.axis_x_tick_outer),a.yAxis=a.getYAxis(a.y,a.yOrient,b.axis_y_tick_format,a.yAxisTickValues,b.axis_y_tick_outer),a.y2Axis=a.getYAxis(a.y2,a.y2Orient,b.axis_y2_tick_format,a.y2AxisTickValues,b.axis_y2_tick_outer),c||(a.brush&&a.brush.scale(a.subX),b.zoom_enabled&&a.zoom.scale(a.x)),a.updateArc&&a.updateArc()},f.getYDomainMin=function(a){var b,c,d,e,f,g,h=this,i=h.config,j=h.mapToIds(a),k=h.getValuesAsIdKeyed(a);if(i.data_groups.length>0)for(g=h.hasNegativeValueInTargets(a),b=0;b<i.data_groups.length;b++)if(e=i.data_groups[b].filter(function(a){return j.indexOf(a)>=0}),0!==e.length)for(d=e[0],g&&k[d]&&k[d].forEach(function(a,b){k[d][b]=0>a?a:0}),c=1;c<e.length;c++)f=e[c],k[f]&&k[f].forEach(function(a,b){h.getAxisId(f)!==h.getAxisId(d)||!k[d]||g&&+a>0||(k[d][b]+=+a)});return h.d3.min(Object.keys(k).map(function(a){return h.d3.min(k[a])}))},f.getYDomainMax=function(a){var b,c,d,e,f,g,h=this,i=h.config,j=h.mapToIds(a),k=h.getValuesAsIdKeyed(a);if(i.data_groups.length>0)for(g=h.hasPositiveValueInTargets(a),b=0;b<i.data_groups.length;b++)if(e=i.data_groups[b].filter(function(a){return j.indexOf(a)>=0}),0!==e.length)for(d=e[0],g&&k[d]&&k[d].forEach(function(a,b){k[d][b]=a>0?a:0}),c=1;c<e.length;c++)f=e[c],k[f]&&k[f].forEach(function(a,b){h.getAxisId(f)!==h.getAxisId(d)||!k[d]||g&&0>+a||(k[d][b]+=+a)});return h.d3.max(Object.keys(k).map(function(a){return h.d3.max(k[a])}))},f.getYDomain=function(a,b,c){var d,e,f,g,h,i,k,l,m,n,o,p=this,r=p.config,t=a.filter(function(a){return p.getAxisId(a.id)===b}),u=c?p.filterByXDomain(t,c):t,v="y2"===b?r.axis_y2_min:r.axis_y_min,w="y2"===b?r.axis_y2_max:r.axis_y_max,x=p.getYDomainMin(u),y=p.getYDomainMax(u),z="y2"===b?r.axis_y2_center:r.axis_y_center,A=p.hasType("bar",u)&&r.bar_zerobased||p.hasType("area",u)&&r.area_zerobased,B="y2"===b?r.axis_y2_inverted:r.axis_y_inverted,C=p.hasDataLabel()&&r.axis_rotated,D=p.hasDataLabel()&&!r.axis_rotated;return x=j(v)?v:j(w)?w>x?x:w-10:x,y=j(w)?w:j(v)?y>v?y:v+10:y,0===u.length?"y2"===b?p.y2.domain():p.y.domain():(isNaN(x)&&(x=0),isNaN(y)&&(y=x),x===y&&(0>x?y=0:x=0),n=x>=0&&y>=0,o=0>=x&&0>=y,(j(v)&&n||j(w)&&o)&&(A=!1),A&&(n&&(x=0),o&&(y=0)),e=Math.abs(y-x),f=g=h=.1*e,"undefined"!=typeof z&&(i=Math.max(Math.abs(x),Math.abs(y)),y=z+i,x=z-i),C?(k=p.getDataLabelLength(x,y,"width"),l=q(p.y.range()),m=[k[0]/l,k[1]/l],g+=e*(m[1]/(1-m[0]-m[1])),h+=e*(m[0]/(1-m[0]-m[1]))):D&&(k=p.getDataLabelLength(x,y,"height"),g+=this.convertPixelsToAxisPadding(k[1],e),h+=this.convertPixelsToAxisPadding(k[0],e)),"y"===b&&s(r.axis_y_padding)&&(g=p.getAxisPadding(r.axis_y_padding,"top",g,e),h=p.getAxisPadding(r.axis_y_padding,"bottom",h,e)),"y2"===b&&s(r.axis_y2_padding)&&(g=p.getAxisPadding(r.axis_y2_padding,"top",g,e),h=p.getAxisPadding(r.axis_y2_padding,"bottom",h,e)),A&&(n&&(h=x),o&&(g=-y)),d=[x-h,y+g],B?d.reverse():d)},f.getXDomainMin=function(a){var b=this,c=b.config;return n(c.axis_x_min)?b.isTimeSeries()?this.parseDate(c.axis_x_min):c.axis_x_min:b.d3.min(a,function(a){return b.d3.min(a.values,function(a){return a.x})})},f.getXDomainMax=function(a){var b=this,c=b.config;return n(c.axis_x_max)?b.isTimeSeries()?this.parseDate(c.axis_x_max):c.axis_x_max:b.d3.max(a,function(a){return b.d3.max(a.values,function(a){return a.x})})},f.getXDomainPadding=function(a){var b,c,d,e,f=this,g=f.config,h=a[1]-a[0];return f.isCategorized()?c=0:f.hasType("bar")?(b=f.getMaxDataCount(),c=b>1?h/(b-1)/2:.5):c=.01*h,"object"==typeof g.axis_x_padding&&s(g.axis_x_padding)?(d=j(g.axis_x_padding.left)?g.axis_x_padding.left:c,e=j(g.axis_x_padding.right)?g.axis_x_padding.right:c):d=e="number"==typeof g.axis_x_padding?g.axis_x_padding:c,{left:d,right:e}},f.getXDomain=function(a){var b=this,c=[b.getXDomainMin(a),b.getXDomainMax(a)],d=c[0],e=c[1],f=b.getXDomainPadding(c),g=0,h=0;return d-e!==0||b.isCategorized()||(b.isTimeSeries()?(d=new Date(.5*d.getTime()),e=new Date(1.5*e.getTime())):(d=0===d?1:.5*d,e=0===e?-1:1.5*e)),(d||0===d)&&(g=b.isTimeSeries()?new Date(d.getTime()-f.left):d-f.left),(e||0===e)&&(h=b.isTimeSeries()?new Date(e.getTime()+f.right):e+f.right),[g,h]},f.updateXDomain=function(a,b,c,d,e){var f=this,g=f.config;return c&&(f.x.domain(e?e:f.d3.extent(f.getXDomain(a))),f.orgXDomain=f.x.domain(),g.zoom_enabled&&f.zoom.scale(f.x).updateScaleExtent(),f.subX.domain(f.x.domain()),f.brush&&f.brush.scale(f.subX)),b&&(f.x.domain(e?e:!f.brush||f.brush.empty()?f.orgXDomain:f.brush.extent()),g.zoom_enabled&&f.zoom.scale(f.x).updateScaleExtent()),d&&f.x.domain(f.trimXDomain(f.x.orgDomain())),f.x.domain()},f.trimXDomain=function(a){var b=this;return a[0]<=b.orgXDomain[0]&&(a[1]=+a[1]+(b.orgXDomain[0]-a[0]),a[0]=b.orgXDomain[0]),b.orgXDomain[1]<=a[1]&&(a[0]=+a[0]-(a[1]-b.orgXDomain[1]),a[1]=b.orgXDomain[1]),a},f.isX=function(a){var b=this,c=b.config;return c.data_x&&a===c.data_x||s(c.data_xs)&&u(c.data_xs,a)},f.isNotX=function(a){return!this.isX(a)},f.getXKey=function(a){var b=this,c=b.config;return c.data_x?c.data_x:s(c.data_xs)?c.data_xs[a]:null},f.getXValuesOfXKey=function(a,b){var c,d=this,e=b&&s(b)?d.mapToIds(b):[];return e.forEach(function(b){d.getXKey(b)===a&&(c=d.data.xs[b])}),c},f.getIndexByX=function(a){var b=this,c=b.filterByX(b.data.targets,a);
return c.length?c[0].index:null},f.getXValue=function(a,b){var c=this;return a in c.data.xs&&c.data.xs[a]&&j(c.data.xs[a][b])?c.data.xs[a][b]:b},f.getOtherTargetXs=function(){var a=this,b=Object.keys(a.data.xs);return b.length?a.data.xs[b[0]]:null},f.getOtherTargetX=function(a){var b=this.getOtherTargetXs();return b&&a<b.length?b[a]:null},f.addXs=function(a){var b=this;Object.keys(a).forEach(function(c){b.config.data_xs[c]=a[c]})},f.hasMultipleX=function(a){return this.d3.set(Object.keys(a).map(function(b){return a[b]})).size()>1},f.isMultipleX=function(){return s(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},f.addName=function(a){var b,c=this;return a&&(b=c.config.data_names[a.id],a.name=b?b:a.id),a},f.getValueOnIndex=function(a,b){var c=a.filter(function(a){return a.index===b});return c.length?c[0]:null},f.updateTargetX=function(a,b){var c=this;a.forEach(function(a){a.values.forEach(function(d,e){d.x=c.generateTargetX(b[e],a.id,e)}),c.data.xs[a.id]=b})},f.updateTargetXs=function(a,b){var c=this;a.forEach(function(a){b[a.id]&&c.updateTargetX([a],b[a.id])})},f.generateTargetX=function(a,b,c){var d,e=this;return d=e.isTimeSeries()?e.parseDate(a?a:e.getXValue(b,c)):e.isCustomX()&&!e.isCategorized()?j(a)?+a:e.getXValue(b,c):c},f.cloneTarget=function(a){return{id:a.id,id_org:a.id_org,values:a.values.map(function(a){return{x:a.x,value:a.value,id:a.id}})}},f.updateXs=function(){var a=this;a.data.targets.length&&(a.xs=[],a.data.targets[0].values.forEach(function(b){a.xs[b.index]=b.x}))},f.getPrevX=function(a){var b=this.xs[a-1];return"undefined"!=typeof b?b:null},f.getNextX=function(a){var b=this.xs[a+1];return"undefined"!=typeof b?b:null},f.getMaxDataCount=function(){var a=this;return a.d3.max(a.data.targets,function(a){return a.values.length})},f.getMaxDataCountTarget=function(a){var b,c=a.length,d=0;return c>1?a.forEach(function(a){a.values.length>d&&(b=a,d=a.values.length)}):b=c?a[0]:null,b},f.getEdgeX=function(a){var b=this;return a.length?[b.d3.min(a,function(a){return a.values[0].x}),b.d3.max(a,function(a){return a.values[a.values.length-1].x})]:[0,0]},f.mapToIds=function(a){return a.map(function(a){return a.id})},f.mapToTargetIds=function(a){var b=this;return a?l(a)?[a]:a:b.mapToIds(b.data.targets)},f.hasTarget=function(a,b){var c,d=this.mapToIds(a);for(c=0;c<d.length;c++)if(d[c]===b)return!0;return!1},f.isTargetToShow=function(a){return this.hiddenTargetIds.indexOf(a)<0},f.isLegendToShow=function(a){return this.hiddenLegendIds.indexOf(a)<0},f.filterTargetsToShow=function(a){var b=this;return a.filter(function(a){return b.isTargetToShow(a.id)})},f.mapTargetsToUniqueXs=function(a){var b=this,c=b.d3.set(b.d3.merge(a.map(function(a){return a.values.map(function(a){return+a.x})}))).values();return c.map(b.isTimeSeries()?function(a){return new Date(+a)}:function(a){return+a})},f.addHiddenTargetIds=function(a){this.hiddenTargetIds=this.hiddenTargetIds.concat(a)},f.removeHiddenTargetIds=function(a){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(b){return a.indexOf(b)<0})},f.addHiddenLegendIds=function(a){this.hiddenLegendIds=this.hiddenLegendIds.concat(a)},f.removeHiddenLegendIds=function(a){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(b){return a.indexOf(b)<0})},f.getValuesAsIdKeyed=function(a){var b={};return a.forEach(function(a){b[a.id]=[],a.values.forEach(function(c){b[a.id].push(c.value)})}),b},f.checkValueInTargets=function(a,b){var c,d,e,f=Object.keys(a);for(c=0;c<f.length;c++)for(e=a[f[c]].values,d=0;d<e.length;d++)if(b(e[d].value))return!0;return!1},f.hasNegativeValueInTargets=function(a){return this.checkValueInTargets(a,function(a){return 0>a})},f.hasPositiveValueInTargets=function(a){return this.checkValueInTargets(a,function(a){return a>0})},f.isOrderDesc=function(){var a=this.config;return"string"==typeof a.data_order&&"desc"===a.data_order.toLowerCase()},f.isOrderAsc=function(){var a=this.config;return"string"==typeof a.data_order&&"asc"===a.data_order.toLowerCase()},f.orderTargets=function(a){var b=this,c=b.config,d=b.isOrderAsc(),e=b.isOrderDesc();return d||e?a.sort(function(a,b){var c=function(a,b){return a+Math.abs(b.value)},e=a.values.reduce(c,0),f=b.values.reduce(c,0);return d?f-e:e-f}):k(c.data_order)&&a.sort(c.data_order),a},f.filterByX=function(a,b){return this.d3.merge(a.map(function(a){return a.values})).filter(function(a){return a.x-b===0})},f.filterRemoveNull=function(a){return a.filter(function(a){return j(a.value)})},f.filterByXDomain=function(a,b){return a.map(function(a){return{id:a.id,id_org:a.id_org,values:a.values.filter(function(a){return b[0]<=a.x&&a.x<=b[1]})}})},f.hasDataLabel=function(){var a=this.config;return"boolean"==typeof a.data_labels&&a.data_labels?!0:"object"==typeof a.data_labels&&s(a.data_labels)?!0:!1},f.getDataLabelLength=function(a,b,c){var d=this,e=[0,0],f=1.3;return d.selectChart.select("svg").selectAll(".dummy").data([a,b]).enter().append("text").text(function(a){return d.dataLabelFormat(a.id)(a)}).each(function(a,b){e[b]=this.getBoundingClientRect()[c]*f}).remove(),e},f.isNoneArc=function(a){return this.hasTarget(this.data.targets,a.id)},f.isArc=function(a){return"data"in a&&this.hasTarget(this.data.targets,a.data.id)},f.findSameXOfValues=function(a,b){var c,d=a[b].x,e=[];for(c=b-1;c>=0&&d===a[c].x;c--)e.push(a[c]);for(c=b;c<a.length&&d===a[c].x;c++)e.push(a[c]);return e},f.findClosestFromTargets=function(a,b){var c,d=this;return c=a.map(function(a){return d.findClosest(a.values,b)}),d.findClosest(c,b)},f.findClosest=function(a,b){var c,d=this,e=100;return a.filter(function(a){return a&&d.isBarType(a.id)}).forEach(function(a){var b=d.main.select("."+i.bars+d.getTargetSelectorSuffix(a.id)+" ."+i.bar+"-"+a.index).node();!c&&d.isWithinBar(b)&&(c=a)}),a.filter(function(a){return a&&!d.isBarType(a.id)}).forEach(function(a){var f=d.dist(a,b);e>f&&(e=f,c=a)}),c},f.dist=function(a,b){var c=this,d=c.config,e=d.axis_rotated?1:0,f=d.axis_rotated?0:1,g=c.circleY(a,a.index),h=c.x(a.x);return Math.pow(h-b[e],2)+Math.pow(g-b[f],2)},f.convertValuesToStep=function(a){var b,c=[].concat(a);if(!this.isCategorized())return a;for(b=a.length+1;b>0;b--)c[b]=c[b-1];return c[0]={x:c[0].x-1,value:c[0].value,id:c[0].id},c[a.length+1]={x:c[a.length].x+1,value:c[a.length].value,id:c[a.length].id},c},f.updateDataAttributes=function(a,b){var c=this,d=c.config,e=d["data_"+a];return"undefined"==typeof b?e:(Object.keys(b).forEach(function(a){e[a]=b[a]}),c.redraw({withLegend:!0}),e)},f.convertUrlToData=function(a,b,c,d){var e=this,f=b?b:"csv";e.d3.xhr(a,function(a,b){var g;g="json"===f?e.convertJsonToData(JSON.parse(b.response),c):"tsv"===f?e.convertTsvToData(b.response):e.convertCsvToData(b.response),d.call(e,g)})},f.convertXsvToData=function(a,b){var c,d=b.parseRows(a);return 1===d.length?(c=[{}],d[0].forEach(function(a){c[0][a]=null})):c=b.parse(a),c},f.convertCsvToData=function(a){return this.convertXsvToData(a,this.d3.csv)},f.convertTsvToData=function(a){return this.convertXsvToData(a,this.d3.tsv)},f.convertJsonToData=function(a,b){var c,d,e=this,f=[];return b?(c=b.value,b.x&&(c.push(b.x),e.config.data_x=b.x),f.push(c),a.forEach(function(a){var b=[];c.forEach(function(c){var d=m(a[c])?null:a[c];b.push(d)}),f.push(b)}),d=e.convertRowsToData(f)):(Object.keys(a).forEach(function(b){f.push([b].concat(a[b]))}),d=e.convertColumnsToData(f)),d},f.convertRowsToData=function(a){var b,c,d=a[0],e={},f=[];for(b=1;b<a.length;b++){for(e={},c=0;c<a[b].length;c++){if(m(a[b][c]))throw new Error("Source data is missing a component at ("+b+","+c+")!");e[d[c]]=a[b][c]}f.push(e)}return f},f.convertColumnsToData=function(a){var b,c,d,e=[];for(b=0;b<a.length;b++)for(d=a[b][0],c=1;c<a[b].length;c++){if(m(e[c-1])&&(e[c-1]={}),m(a[b][c]))throw new Error("Source data is missing a component at ("+b+","+c+")!");e[c-1][d]=a[b][c]}return e},f.convertDataToTargets=function(a,b){var c,d=this,e=d.config,f=d.d3.keys(a[0]).filter(d.isNotX,d),g=d.d3.keys(a[0]).filter(d.isX,d);return f.forEach(function(c){var f=d.getXKey(c);d.isCustomX()||d.isTimeSeries()?g.indexOf(f)>=0?d.data.xs[c]=(b&&d.data.xs[c]?d.data.xs[c]:[]).concat(a.map(function(a){return a[f]}).filter(j).map(function(a,b){return d.generateTargetX(a,c,b)})):e.data_x?d.data.xs[c]=d.getOtherTargetXs():s(e.data_xs)&&(d.data.xs[c]=d.getXValuesOfXKey(f,d.data.targets)):d.data.xs[c]=a.map(function(a,b){return b})}),f.forEach(function(a){if(!d.data.xs[a])throw new Error('x is not defined for id = "'+a+'".')}),c=f.map(function(b,c){var f=e.data_idConverter(b);return{id:f,id_org:b,values:a.map(function(a,g){var h=d.getXKey(b),i=a[h],j=d.generateTargetX(i,b,g);return d.isCustomX()&&d.isCategorized()&&0===c&&i&&(0===g&&(e.axis_x_categories=[]),e.axis_x_categories.push(i)),(m(a[b])||d.data.xs[b].length<=g)&&(j=void 0),{x:j,value:null===a[b]||isNaN(a[b])?null:+a[b],id:f}}).filter(function(a){return n(a.x)})}}),c.forEach(function(a){var b;e.data_xSort&&(a.values=a.values.sort(function(a,b){var c=a.x||0===a.x?a.x:1/0,d=b.x||0===b.x?b.x:1/0;return c-d})),b=0,a.values.forEach(function(a){a.index=b++}),d.data.xs[a.id].sort(function(a,b){return a-b})}),e.data_type&&d.setTargetType(d.mapToIds(c).filter(function(a){return!(a in e.data_types)}),e.data_type),c.forEach(function(a){d.addCache(a.id_org,a)}),c},f.load=function(a,b){var c=this;a&&(b.filter&&(a=a.filter(b.filter)),(b.type||b.types)&&a.forEach(function(a){c.setTargetType(a.id,b.types?b.types[a.id]:b.type)}),c.data.targets.forEach(function(b){for(var c=0;c<a.length;c++)if(b.id===a[c].id){b.values=a[c].values,a.splice(c,1);break}}),c.data.targets=c.data.targets.concat(a)),c.updateTargets(c.data.targets),c.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),b.done&&b.done()},f.loadFromArgs=function(a){var b=this;a.data?b.load(b.convertDataToTargets(a.data),a):a.url?b.convertUrlToData(a.url,a.mimeType,a.keys,function(c){b.load(b.convertDataToTargets(c),a)}):a.json?b.load(b.convertDataToTargets(b.convertJsonToData(a.json,a.keys)),a):a.rows?b.load(b.convertDataToTargets(b.convertRowsToData(a.rows)),a):a.columns?b.load(b.convertDataToTargets(b.convertColumnsToData(a.columns)),a):b.load(null,a)},f.unload=function(a,b){var c=this;return b||(b=function(){}),a=a.filter(function(a){return c.hasTarget(c.data.targets,a)}),a&&0!==a.length?(c.svg.selectAll(a.map(function(a){return c.selectorTarget(a)})).transition().style("opacity",0).remove().call(c.endall,b),void a.forEach(function(a){c.withoutFadeIn[a]=!1,c.legend&&c.legend.selectAll("."+i.legendItem+c.getTargetSelectorSuffix(a)).remove(),c.data.targets=c.data.targets.filter(function(b){return b.id!==a})})):void b()},f.categoryName=function(a){var b=this.config;return a<b.axis_x_categories.length?b.axis_x_categories[a]:a},f.initEventRect=function(){var a=this;a.main.select("."+i.chart).append("g").attr("class",i.eventRects).style("fill-opacity",0)},f.redrawEventRect=function(){var a,b,c=this,d=c.config,e=c.isMultipleX(),f=c.main.select("."+i.eventRects).style("cursor",d.zoom_enabled?d.axis_rotated?"ns-resize":"ew-resize":null).classed(i.eventRectsMultiple,e).classed(i.eventRectsSingle,!e);f.selectAll("."+i.eventRect).remove(),c.eventRect=f.selectAll("."+i.eventRect),e?(a=c.eventRect.data([0]),c.generateEventRectsForMultipleXs(a.enter()),c.updateEventRect(a)):(b=c.getMaxDataCountTarget(c.data.targets),f.datum(b?b.values:[]),c.eventRect=f.selectAll("."+i.eventRect),a=c.eventRect.data(function(a){return a}),c.generateEventRectsForSingleX(a.enter()),c.updateEventRect(a),a.exit().remove())},f.updateEventRect=function(a){var b,c,d,e,f,g,h=this,i=h.config;a=a||h.eventRect.data(function(a){return a}),h.isMultipleX()?(b=0,c=0,d=h.width,e=h.height):(!h.isCustomX()&&!h.isTimeSeries()||h.isCategorized()?(f=h.getEventRectWidth(),g=function(a){return h.x(a.x)-f/2}):(h.updateXs(),f=function(a){var b=h.getPrevX(a.index),c=h.getNextX(a.index);return null===b&&null===c?i.axis_rotated?h.height:h.width:(null===b&&(b=h.x.domain()[0]),null===c&&(c=h.x.domain()[1]),Math.max(0,(h.x(c)-h.x(b))/2))},g=function(a){var b=h.getPrevX(a.index),c=h.getNextX(a.index),d=h.data.xs[a.id][a.index];return null===b&&null===c?0:(null===b&&(b=h.x.domain()[0]),(h.x(d)+h.x(b))/2)}),b=i.axis_rotated?0:g,c=i.axis_rotated?g:0,d=i.axis_rotated?h.width:f,e=i.axis_rotated?f:h.height),a.attr("class",h.classEvent.bind(h)).attr("x",b).attr("y",c).attr("width",d).attr("height",e)},f.generateEventRectsForSingleX=function(a){var b=this,c=b.d3,d=b.config;a.append("rect").attr("class",b.classEvent.bind(b)).style("cursor",d.data_selection_enabled&&d.data_selection_grouped?"pointer":null).on("mouseover",function(a){var c,e,f=a.index;b.dragging||b.flowing||b.hasArcType()||(c=b.data.targets.map(function(a){return b.addName(b.getValueOnIndex(a.values,f))}),e=[],Object.keys(d.data_names).forEach(function(a){for(var b=0;b<c.length;b++)if(c[b]&&c[b].id===a){e.push(c[b]),c.shift(b);break}}),c=e.concat(c),d.point_focus_expand_enabled&&b.expandCircles(f,null,!0),b.expandBars(f,null,!0),b.main.selectAll("."+i.shape+"-"+f).each(function(a){d.data_onmouseover.call(b.api,a)}))}).on("mouseout",function(a){var c=a.index;b.hasArcType()||(b.hideXGridFocus(),b.hideTooltip(),b.unexpandCircles(),b.unexpandBars(),b.main.selectAll("."+i.shape+"-"+c).each(function(a){d.data_onmouseout.call(b.api,a)}))}).on("mousemove",function(a){var e,f=a.index,g=b.svg.select("."+i.eventRect+"-"+f);b.dragging||b.flowing||b.hasArcType()||(b.isStepType(a)&&"step-after"===b.config.line_step_type&&c.mouse(this)[0]<b.x(b.getXValue(a.id,f))&&(f-=1),e=b.filterTargetsToShow(b.data.targets).map(function(a){return b.addName(b.getValueOnIndex(a.values,f))}),d.tooltip_grouped&&(b.showTooltip(e,this),b.showXGridFocus(e)),(!d.tooltip_grouped||d.data_selection_enabled&&!d.data_selection_grouped)&&b.main.selectAll("."+i.shape+"-"+f).each(function(){c.select(this).classed(i.EXPANDED,!0),d.data_selection_enabled&&g.style("cursor",d.data_selection_grouped?"pointer":null),d.tooltip_grouped||(b.hideXGridFocus(),b.hideTooltip(),d.data_selection_grouped||(b.unexpandCircles(f),b.unexpandBars(f)))}).filter(function(a){return b.isWithinShape(this,a)}).each(function(a){d.data_selection_enabled&&(d.data_selection_grouped||d.data_selection_isselectable(a))&&g.style("cursor","pointer"),d.tooltip_grouped||(b.showTooltip([a],this),b.showXGridFocus([a]),d.point_focus_expand_enabled&&b.expandCircles(f,a.id,!0),b.expandBars(f,a.id,!0))}))}).on("click",function(a){var e=a.index;if(!b.hasArcType()&&b.toggleShape){if(b.cancelClick)return void(b.cancelClick=!1);b.isStepType(a)&&"step-after"===d.line_step_type&&c.mouse(this)[0]<b.x(b.getXValue(a.id,e))&&(e-=1),b.main.selectAll("."+i.shape+"-"+e).each(function(a){(d.data_selection_grouped||b.isWithinShape(this,a))&&(b.toggleShape(this,a,e),b.config.data_onclick.call(b.api,a,this))})}}).call(d.data_selection_draggable&&b.drag?c.behavior.drag().origin(Object).on("drag",function(){b.drag(c.mouse(this))}).on("dragstart",function(){b.dragstart(c.mouse(this))}).on("dragend",function(){b.dragend()}):function(){})},f.generateEventRectsForMultipleXs=function(a){function b(){c.svg.select("."+i.eventRect).style("cursor",null),c.hideXGridFocus(),c.hideTooltip(),c.unexpandCircles(),c.unexpandBars()}var c=this,d=c.d3,e=c.config;a.append("rect").attr("x",0).attr("y",0).attr("width",c.width).attr("height",c.height).attr("class",i.eventRect).on("mouseout",function(){c.hasArcType()||b()}).on("mousemove",function(){var a,f,g,h,j=c.filterTargetsToShow(c.data.targets);if(!c.dragging&&!c.hasArcType(j)){if(a=d.mouse(this),f=c.findClosestFromTargets(j,a),!c.mouseover||f&&f.id===c.mouseover.id||(e.data_onmouseout.call(c.api,c.mouseover),c.mouseover=void 0),!f)return void b();g=c.isScatterType(f)||!e.tooltip_grouped?[f]:c.filterByX(j,f.x),h=g.map(function(a){return c.addName(a)}),c.showTooltip(h,this),e.point_focus_expand_enabled&&c.expandCircles(f.index,f.id,!0),c.expandBars(f.index,f.id,!0),c.showXGridFocus(h),(c.isBarType(f.id)||c.dist(f,a)<100)&&(c.svg.select("."+i.eventRect).style("cursor","pointer"),c.mouseover||(e.data_onmouseover.call(c.api,f),c.mouseover=f))}}).on("click",function(){var a,b,f=c.filterTargetsToShow(c.data.targets);c.hasArcType(f)||(a=d.mouse(this),b=c.findClosestFromTargets(f,a),b&&(c.isBarType(b.id)||c.dist(b,a)<100)&&c.main.selectAll("."+i.shapes+c.getTargetSelectorSuffix(b.id)).select("."+i.shape+"-"+b.index).each(function(){(e.data_selection_grouped||c.isWithinShape(this,b))&&(c.toggleShape(this,b,b.index),c.config.data_onclick.call(c.api,b,this))}))}).call(d.behavior.drag().origin(Object).on("drag",function(){c.drag(d.mouse(this))}).on("dragstart",function(){c.dragstart(d.mouse(this))}).on("dragend",function(){c.dragend()}))},f.dispatchEvent=function(b,c,d){var e=this,f="."+i.eventRect+(e.isMultipleX()?"":"-"+c),g=e.main.select(f).node(),h=g.getBoundingClientRect(),j=h.left+(d?d[0]:0),k=h.top+(d?d[1]:0),l=document.createEvent("MouseEvents");l.initMouseEvent(b,!0,!0,a,0,j,k,j,k,!1,!1,!1,!1,0,null),g.dispatchEvent(l)},f.getCurrentWidth=function(){var a=this,b=a.config;return b.size_width?b.size_width:a.getParentWidth()},f.getCurrentHeight=function(){var a=this,b=a.config,c=b.size_height?b.size_height:a.getParentHeight();return c>0?c:320/(a.hasType("gauge")?2:1)},f.getCurrentPaddingTop=function(){var a=this.config;return j(a.padding_top)?a.padding_top:0},f.getCurrentPaddingBottom=function(){var a=this.config;return j(a.padding_bottom)?a.padding_bottom:0},f.getCurrentPaddingLeft=function(a){var b=this,c=b.config;return j(c.padding_left)?c.padding_left:c.axis_rotated?c.axis_x_show?Math.max(o(b.getAxisWidthByAxisId("x",a)),40):1:!c.axis_y_show||c.axis_y_inner?b.getYAxisLabelPosition().isOuter?30:1:o(b.getAxisWidthByAxisId("y",a))},f.getCurrentPaddingRight=function(){var a=this,b=a.config,c=10,d=a.isLegendRight?a.getLegendWidth()+20:0;return j(b.padding_right)?b.padding_right+1:b.axis_rotated?c+d:!b.axis_y2_show||b.axis_y2_inner?2+d+(a.getY2AxisLabelPosition().isOuter?20:0):o(a.getAxisWidthByAxisId("y2"))+d},f.getParentRectValue=function(a){for(var b,c=this.selectChart.node();c&&"BODY"!==c.tagName&&!(b=c.getBoundingClientRect()[a]);)c=c.parentNode;return b},f.getParentWidth=function(){return this.getParentRectValue("width")},f.getParentHeight=function(){var a=this.selectChart.style("height");return a.indexOf("px")>0?+a.replace("px",""):0},f.getSvgLeft=function(a){var b=this,c=b.config,d=c.axis_rotated||!c.axis_rotated&&!c.axis_y_inner,e=c.axis_rotated?i.axisX:i.axisY,f=b.main.select("."+e).node(),g=f&&d?f.getBoundingClientRect():{right:0},h=b.selectChart.node().getBoundingClientRect(),j=b.hasArcType(),k=g.right-h.left-(j?0:b.getCurrentPaddingLeft(a));return k>0?k:0},f.getAxisWidthByAxisId=function(a,b){var c=this,d=c.getAxisLabelPositionById(a);return c.getMaxTickWidth(a,b)+(d.isInner?20:40)},f.getHorizontalAxisHeight=function(a){var b=this,c=b.config,d=30;return"x"!==a||c.axis_x_show?"x"===a&&c.axis_x_height?c.axis_x_height:"y"!==a||c.axis_y_show?"y2"!==a||c.axis_y2_show?("x"===a&&!c.axis_rotated&&c.axis_x_tick_rotate&&(d=b.getMaxTickWidth(a)*Math.cos(Math.PI*(90-c.axis_x_tick_rotate)/180)),d+(b.getAxisLabelPositionById(a).isInner?0:10)+("y2"===a?-10:0)):b.rotated_padding_top:!c.legend_show||b.isLegendRight||b.isLegendInset?1:10:8},f.getEventRectWidth=function(){var a,b,c,d,e,f,g=this,h=g.getMaxDataCountTarget(g.data.targets);return h?(a=h.values[0],b=h.values[h.values.length-1],c=g.x(b.x)-g.x(a.x),0===c?g.config.axis_rotated?g.height:g.width:(d=g.getMaxDataCount(),e=g.hasType("bar")?(d-(g.isCategorized()?.25:1))/d:1,f=d>1?c*e/(d-1):c,1>f?1:f)):0},f.getShapeIndices=function(a){var b,c,d=this,e=d.config,f={},g=0;return d.filterTargetsToShow(d.data.targets.filter(a,d)).forEach(function(a){for(b=0;b<e.data_groups.length;b++)if(!(e.data_groups[b].indexOf(a.id)<0))for(c=0;c<e.data_groups[b].length;c++)if(e.data_groups[b][c]in f){f[a.id]=f[e.data_groups[b][c]];break}m(f[a.id])&&(f[a.id]=g++)}),f.__max__=g-1,f},f.getShapeX=function(a,b,c,d){var e=this,f=d?e.subX:e.x;return function(d){var e=d.id in c?c[d.id]:0;return d.x||0===d.x?f(d.x)-a*(b/2-e):0}},f.getShapeY=function(a){var b=this;return function(c){var d=a?b.getSubYScale(c.id):b.getYScale(c.id);return d(c.value)}},f.getShapeOffset=function(a,b,c){var d=this,e=d.orderTargets(d.filterTargetsToShow(d.data.targets.filter(a,d))),f=e.map(function(a){return a.id});return function(a,g){var h=c?d.getSubYScale(a.id):d.getYScale(a.id),i=h(0),j=i;return e.forEach(function(c){var e=d.isStepType(a)?d.convertValuesToStep(c.values):c.values;c.id!==a.id&&b[c.id]===b[a.id]&&f.indexOf(c.id)<f.indexOf(a.id)&&e[g].value*a.value>=0&&(j+=h(e[g].value)-i)}),j}},f.isWithinShape=function(a,b){var c,d=this,e=d.d3.select(a);return d.isTargetToShow(b.id)?"circle"===a.nodeName?c=d.isStepType(b)?d.isWithinStep(a,d.getYScale(b.id)(b.value)):d.isWithinCircle(a,1.5*d.pointSelectR(b)):"path"===a.nodeName&&(c=e.classed(i.bar)?d.isWithinBar(a):!0):c=!1,c},f.getInterpolate=function(a){var b=this;return b.isSplineType(a)?"cardinal":b.isStepType(a)?b.config.line_step_type:"linear"},f.initLine=function(){var a=this;a.main.select("."+i.chart).append("g").attr("class",i.chartLines)},f.updateTargetsForLine=function(a){var b,c,d=this,e=d.config,f=d.classChartLine.bind(d),g=d.classLines.bind(d),h=d.classAreas.bind(d),j=d.classCircles.bind(d),k=d.classFocus.bind(d);b=d.main.select("."+i.chartLines).selectAll("."+i.chartLine).data(a).attr("class",function(a){return f(a)+k(a)}),c=b.enter().append("g").attr("class",f).style("opacity",0).style("pointer-events","none"),c.append("g").attr("class",g),c.append("g").attr("class",h),c.append("g").attr("class",function(a){return d.generateClass(i.selectedCircles,a.id)}),c.append("g").attr("class",j).style("cursor",function(a){return e.data_selection_isselectable(a)?"pointer":null}),a.forEach(function(a){d.main.selectAll("."+i.selectedCircles+d.getTargetSelectorSuffix(a.id)).selectAll("."+i.selectedCircle).each(function(b){b.value=a.values[b.index].value})})},f.updateLine=function(a){var b=this;b.mainLine=b.main.selectAll("."+i.lines).selectAll("."+i.line).data(b.lineData.bind(b)),b.mainLine.enter().append("path").attr("class",b.classLine.bind(b)).style("stroke",b.color),b.mainLine.style("opacity",b.initialOpacity.bind(b)).style("shape-rendering",function(a){return b.isStepType(a)?"crispEdges":""}).attr("transform",null),b.mainLine.exit().transition().duration(a).style("opacity",0).remove()},f.redrawLine=function(a,b){return[(b?this.mainLine.transition():this.mainLine).attr("d",a).style("stroke",this.color).style("opacity",1)]},f.generateDrawLine=function(a,b){var c=this,d=c.config,e=c.d3.svg.line(),f=c.generateGetLinePoints(a,b),g=b?c.getSubYScale:c.getYScale,h=function(a){return(b?c.subxx:c.xx).call(c,a)},i=function(a,b){return d.data_groups.length>0?f(a,b)[0][1]:g.call(c,a.id)(a.value)};return e=d.axis_rotated?e.x(i).y(h):e.x(h).y(i),d.line_connectNull||(e=e.defined(function(a){return null!=a.value})),function(a){var f,h=d.line_connectNull?c.filterRemoveNull(a.values):a.values,i=b?c.x:c.subX,j=g.call(c,a.id),k=0,l=0;return c.isLineType(a)?d.data_regions[a.id]?f=c.lineWithRegions(h,i,j,d.data_regions[a.id]):(c.isStepType(a)&&(h=c.convertValuesToStep(h)),f=e.interpolate(c.getInterpolate(a))(h)):(h[0]&&(k=i(h[0].x),l=j(h[0].value)),f=d.axis_rotated?"M "+l+" "+k:"M "+k+" "+l),f?f:"M 0 0"}},f.generateGetLinePoints=function(a,b){var c=this,d=c.config,e=a.__max__+1,f=c.getShapeX(0,e,a,!!b),g=c.getShapeY(!!b),h=c.getShapeOffset(c.isLineType,a,!!b),i=b?c.getSubYScale:c.getYScale;return function(a,b){var e=i.call(c,a.id)(0),j=h(a,b)||e,k=f(a),l=g(a);return d.axis_rotated&&(0<a.value&&e>l||a.value<0&&l>e)&&(l=e),[[k,l-(e-j)],[k,l-(e-j)],[k,l-(e-j)],[k,l-(e-j)]]}},f.lineWithRegions=function(a,b,c,d){function e(a,b){var c;for(c=0;c<b.length;c++)if(b[c].start<a&&a<=b[c].end)return!0;return!1}var f,g,h,i,j,k,l,o,p,q,r,s,t=this,u=t.config,v=-1,w="M",x=[];if(n(d))for(f=0;f<d.length;f++)x[f]={},x[f].start=m(d[f].start)?a[0].x:t.isTimeSeries()?t.parseDate(d[f].start):d[f].start,x[f].end=m(d[f].end)?a[a.length-1].x:t.isTimeSeries()?t.parseDate(d[f].end):d[f].end;for(r=u.axis_rotated?function(a){return c(a.value)}:function(a){return b(a.x)},s=u.axis_rotated?function(a){return b(a.x)}:function(a){return c(a.value)},h=t.isTimeSeries()?function(a,d,e,f){var g=a.x.getTime(),h=d.x-a.x,i=new Date(g+h*e),k=new Date(g+h*(e+f));return"M"+b(i)+" "+c(j(e))+" "+b(k)+" "+c(j(e+f))}:function(a,d,e,f){return"M"+b(i(e),!0)+" "+c(j(e))+" "+b(i(e+f),!0)+" "+c(j(e+f))},f=0;f<a.length;f++){if(m(x)||!e(a[f].x,x))w+=" "+r(a[f])+" "+s(a[f]);else for(i=t.getScale(a[f-1].x,a[f].x,t.isTimeSeries()),j=t.getScale(a[f-1].value,a[f].value),k=b(a[f].x)-b(a[f-1].x),l=c(a[f].value)-c(a[f-1].value),o=Math.sqrt(Math.pow(k,2)+Math.pow(l,2)),p=2/o,q=2*p,g=p;1>=g;g+=q)w+=h(a[f-1],a[f],g,p);v=a[f].x}return w},f.updateArea=function(a){var b=this,c=b.d3;b.mainArea=b.main.selectAll("."+i.areas).selectAll("."+i.area).data(b.lineData.bind(b)),b.mainArea.enter().append("path").attr("class",b.classArea.bind(b)).style("fill",b.color).style("opacity",function(){return b.orgAreaOpacity=+c.select(this).style("opacity"),0}),b.mainArea.style("opacity",b.orgAreaOpacity),b.mainArea.exit().transition().duration(a).style("opacity",0).remove()},f.redrawArea=function(a,b){return[(b?this.mainArea.transition():this.mainArea).attr("d",a).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},f.generateDrawArea=function(a,b){var c=this,d=c.config,e=c.d3.svg.area(),f=c.generateGetAreaPoints(a,b),g=b?c.getSubYScale:c.getYScale,h=function(a){return(b?c.subxx:c.xx).call(c,a)},i=function(a,b){return d.data_groups.length>0?f(a,b)[0][1]:g.call(c,a.id)(c.getAreaBaseValue(a.id))},j=function(a,b){return d.data_groups.length>0?f(a,b)[1][1]:g.call(c,a.id)(a.value)};return e=d.axis_rotated?e.x0(i).x1(j).y(h):e.x(h).y0(i).y1(j),d.line_connectNull||(e=e.defined(function(a){return null!==a.value})),function(a){var b,f=d.line_connectNull?c.filterRemoveNull(a.values):a.values,g=0,h=0;return c.isAreaType(a)?(c.isStepType(a)&&(f=c.convertValuesToStep(f)),b=e.interpolate(c.getInterpolate(a))(f)):(f[0]&&(g=c.x(f[0].x),h=c.getYScale(a.id)(f[0].value)),b=d.axis_rotated?"M "+h+" "+g:"M "+g+" "+h),b?b:"M 0 0"}},f.getAreaBaseValue=function(){return 0},f.generateGetAreaPoints=function(a,b){var c=this,d=c.config,e=a.__max__+1,f=c.getShapeX(0,e,a,!!b),g=c.getShapeY(!!b),h=c.getShapeOffset(c.isAreaType,a,!!b),i=b?c.getSubYScale:c.getYScale;return function(a,b){var e=i.call(c,a.id)(0),j=h(a,b)||e,k=f(a),l=g(a);return d.axis_rotated&&(0<a.value&&e>l||a.value<0&&l>e)&&(l=e),[[k,j],[k,l-(e-j)],[k,l-(e-j)],[k,j]]}},f.updateCircle=function(){var a=this;a.mainCircle=a.main.selectAll("."+i.circles).selectAll("."+i.circle).data(a.lineOrScatterData.bind(a)),a.mainCircle.enter().append("circle").attr("class",a.classCircle.bind(a)).attr("r",a.pointR.bind(a)).style("fill",a.color),a.mainCircle.style("opacity",a.initialOpacityForCircle.bind(a)),a.mainCircle.exit().remove()},f.redrawCircle=function(a,b,c){var d=this.main.selectAll("."+i.selectedCircle);return[(c?this.mainCircle.transition():this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",a).attr("cy",b),(c?d.transition():d).attr("cx",a).attr("cy",b)]},f.circleX=function(a){return a.x||0===a.x?this.x(a.x):null},f.updateCircleY=function(){var a,b,c=this;c.config.data_groups.length>0?(a=c.getShapeIndices(c.isLineType),b=c.generateGetLinePoints(a),c.circleY=function(a,c){return b(a,c)[0][1]}):c.circleY=function(a){return c.getYScale(a.id)(a.value)}},f.getCircles=function(a,b){var c=this;return(b?c.main.selectAll("."+i.circles+c.getTargetSelectorSuffix(b)):c.main).selectAll("."+i.circle+(j(a)?"-"+a:""))},f.expandCircles=function(a,b,c){var d=this,e=d.pointExpandedR.bind(d);c&&d.unexpandCircles(),d.getCircles(a,b).classed(i.EXPANDED,!0).attr("r",e)},f.unexpandCircles=function(a){var b=this,c=b.pointR.bind(b);b.getCircles(a).filter(function(){return b.d3.select(this).classed(i.EXPANDED)}).classed(i.EXPANDED,!1).attr("r",c)},f.pointR=function(a){var b=this,c=b.config;return b.isStepType(a)?0:k(c.point_r)?c.point_r(a):c.point_r},f.pointExpandedR=function(a){var b=this,c=b.config;return c.point_focus_expand_enabled?c.point_focus_expand_r?c.point_focus_expand_r:1.75*b.pointR(a):b.pointR(a)},f.pointSelectR=function(a){var b=this,c=b.config;return c.point_select_r?c.point_select_r:4*b.pointR(a)},f.isWithinCircle=function(a,b){var c=this.d3,d=c.mouse(a),e=c.select(a),f=+e.attr("cx"),g=+e.attr("cy");return Math.sqrt(Math.pow(f-d[0],2)+Math.pow(g-d[1],2))<b},f.isWithinStep=function(a,b){return Math.abs(b-this.d3.mouse(a)[1])<30},f.initBar=function(){var a=this;a.main.select("."+i.chart).append("g").attr("class",i.chartBars)},f.updateTargetsForBar=function(a){var b,c,d=this,e=d.config,f=d.classChartBar.bind(d),g=d.classBars.bind(d),h=d.classFocus.bind(d);b=d.main.select("."+i.chartBars).selectAll("."+i.chartBar).data(a).attr("class",function(a){return f(a)+h(a)}),c=b.enter().append("g").attr("class",f).style("opacity",0).style("pointer-events","none"),c.append("g").attr("class",g).style("cursor",function(a){return e.data_selection_isselectable(a)?"pointer":null})},f.updateBar=function(a){var b=this,c=b.barData.bind(b),d=b.classBar.bind(b),e=b.initialOpacity.bind(b),f=function(a){return b.color(a.id)};b.mainBar=b.main.selectAll("."+i.bars).selectAll("."+i.bar).data(c),b.mainBar.enter().append("path").attr("class",d).style("stroke",f).style("fill",f),b.mainBar.style("opacity",e),b.mainBar.exit().transition().duration(a).style("opacity",0).remove()},f.redrawBar=function(a,b){return[(b?this.mainBar.transition():this.mainBar).attr("d",a).style("fill",this.color).style("opacity",1)]},f.getBarW=function(a,b){var c=this,d=c.config,e="number"==typeof d.bar_width?d.bar_width:b?2*a.tickOffset()*d.bar_width_ratio/b:0;return d.bar_width_max&&e>d.bar_width_max?d.bar_width_max:e},f.getBars=function(a,b){var c=this;return(b?c.main.selectAll("."+i.bars+c.getTargetSelectorSuffix(b)):c.main).selectAll("."+i.bar+(j(a)?"-"+a:""))},f.expandBars=function(a,b,c){var d=this;c&&d.unexpandBars(),d.getBars(a,b).classed(i.EXPANDED,!0)},f.unexpandBars=function(a){var b=this;b.getBars(a).classed(i.EXPANDED,!1)},f.generateDrawBar=function(a,b){var c=this,d=c.config,e=c.generateGetBarPoints(a,b);return function(a,b){var c=e(a,b),f=d.axis_rotated?1:0,g=d.axis_rotated?0:1,h="M "+c[0][f]+","+c[0][g]+" L"+c[1][f]+","+c[1][g]+" L"+c[2][f]+","+c[2][g]+" L"+c[3][f]+","+c[3][g]+" z";return h}},f.generateGetBarPoints=function(a,b){var c=this,d=b?c.subXAxis:c.xAxis,e=a.__max__+1,f=c.getBarW(d,e),g=c.getShapeX(f,e,a,!!b),h=c.getShapeY(!!b),i=c.getShapeOffset(c.isBarType,a,!!b),j=b?c.getSubYScale:c.getYScale;return function(a,b){var d=j.call(c,a.id)(0),e=i(a,b)||d,k=g(a),l=h(a);return c.config.axis_rotated&&(0<a.value&&d>l||a.value<0&&l>d)&&(l=d),[[k,e],[k,l-(d-e)],[k+f,l-(d-e)],[k+f,e]]}},f.isWithinBar=function(a){var b=this.d3.mouse(a),c=a.getBoundingClientRect(),d=a.pathSegList.getItem(0),e=a.pathSegList.getItem(1),f=Math.min(d.x,e.x),g=Math.min(d.y,e.y),h=c.width,i=c.height,j=2,k=f-j,l=f+h+j,m=g+i+j,n=g-j;return k<b[0]&&b[0]<l&&n<b[1]&&b[1]<m},f.initText=function(){var a=this;a.main.select("."+i.chart).append("g").attr("class",i.chartTexts),a.mainText=a.d3.selectAll([])},f.updateTargetsForText=function(a){var b,c,d=this,e=d.classChartText.bind(d),f=d.classTexts.bind(d),g=d.classFocus.bind(d);b=d.main.select("."+i.chartTexts).selectAll("."+i.chartText).data(a).attr("class",function(a){return e(a)+g(a)}),c=b.enter().append("g").attr("class",e).style("opacity",0).style("pointer-events","none"),c.append("g").attr("class",f)},f.updateText=function(a){var b=this,c=b.config,d=b.barOrLineData.bind(b),e=b.classText.bind(b);b.mainText=b.main.selectAll("."+i.texts).selectAll("."+i.text).data(d),b.mainText.enter().append("text").attr("class",e).attr("text-anchor",function(a){return c.axis_rotated?a.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(a){return b.color(a)}).style("fill-opacity",0),b.mainText.text(function(a,c,d){return b.dataLabelFormat(a.id)(a.value,a.id,c,d)
}),b.mainText.exit().transition().duration(a).style("fill-opacity",0).remove()},f.redrawText=function(a,b,c,d){return[(d?this.mainText.transition():this.mainText).attr("x",a).attr("y",b).style("fill",this.color).style("fill-opacity",c?0:this.opacityForText.bind(this))]},f.getTextRect=function(a,b){var c,d=this.d3.select("body").classed("c3",!0),e=d.append("svg").style("visibility","hidden");return e.selectAll(".dummy").data([a]).enter().append("text").classed(b?b:"",!0).text(a).each(function(){c=this.getBoundingClientRect()}),e.remove(),d.classed("c3",!1),c},f.generateXYForText=function(a,b,c,d){var e=this,f=e.generateGetAreaPoints(b,!1),g=e.generateGetBarPoints(b,!1),h=e.generateGetLinePoints(c,!1),i=d?e.getXForText:e.getYForText;return function(a,b){var c=e.isAreaType(a)?f:e.isBarType(a)?g:h;return i.call(e,c(a,b),a,this)}},f.getXForText=function(a,b,c){var d,e,f=this,g=c.getBoundingClientRect();return f.config.axis_rotated?(e=f.isBarType(b)?4:6,d=a[2][1]+e*(b.value<0?-1:1)):d=f.hasType("bar")?(a[2][0]+a[0][0])/2:a[0][0],null===b.value&&(d>f.width?d=f.width-g.width:0>d&&(d=4)),d},f.getYForText=function(a,b,c){var d,e=this,f=c.getBoundingClientRect();return d=e.config.axis_rotated?(a[0][0]+a[2][0]+.6*f.height)/2:a[2][1]+(b.value<0?f.height:e.isBarType(b)?-3:-6),null!==b.value||e.config.axis_rotated||(d<f.height?d=f.height:d>this.height&&(d=this.height-4)),d},f.setTargetType=function(a,b){var c=this,d=c.config;c.mapToTargetIds(a).forEach(function(a){c.withoutFadeIn[a]=b===d.data_types[a],d.data_types[a]=b}),a||(d.data_type=b)},f.hasType=function(a,b){var c=this,d=c.config.data_types,e=!1;return b=b||c.data.targets,b&&b.length?b.forEach(function(b){var c=d[b.id];(c&&c.indexOf(a)>=0||!c&&"line"===a)&&(e=!0)}):Object.keys(d).length?Object.keys(d).forEach(function(b){d[b]===a&&(e=!0)}):e=c.config.data_type===a,e},f.hasArcType=function(a){return this.hasType("pie",a)||this.hasType("donut",a)||this.hasType("gauge",a)},f.isLineType=function(a){var b=this.config,c=l(a)?a:a.id;return!b.data_types[c]||["line","spline","area","area-spline","step","area-step"].indexOf(b.data_types[c])>=0},f.isStepType=function(a){var b=l(a)?a:a.id;return["step","area-step"].indexOf(this.config.data_types[b])>=0},f.isSplineType=function(a){var b=l(a)?a:a.id;return["spline","area-spline"].indexOf(this.config.data_types[b])>=0},f.isAreaType=function(a){var b=l(a)?a:a.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[b])>=0},f.isBarType=function(a){var b=l(a)?a:a.id;return"bar"===this.config.data_types[b]},f.isScatterType=function(a){var b=l(a)?a:a.id;return"scatter"===this.config.data_types[b]},f.isPieType=function(a){var b=l(a)?a:a.id;return"pie"===this.config.data_types[b]},f.isGaugeType=function(a){var b=l(a)?a:a.id;return"gauge"===this.config.data_types[b]},f.isDonutType=function(a){var b=l(a)?a:a.id;return"donut"===this.config.data_types[b]},f.isArcType=function(a){return this.isPieType(a)||this.isDonutType(a)||this.isGaugeType(a)},f.lineData=function(a){return this.isLineType(a)?[a]:[]},f.arcData=function(a){return this.isArcType(a.data)?[a]:[]},f.barData=function(a){return this.isBarType(a)?a.values:[]},f.lineOrScatterData=function(a){return this.isLineType(a)||this.isScatterType(a)?a.values:[]},f.barOrLineData=function(a){return this.isBarType(a)||this.isLineType(a)?a.values:[]},f.initGrid=function(){var a=this,b=a.config,c=a.d3;a.grid=a.main.append("g").attr("clip-path",a.clipPathForGrid).attr("class",i.grid),b.grid_x_show&&a.grid.append("g").attr("class",i.xgrids),b.grid_y_show&&a.grid.append("g").attr("class",i.ygrids),b.grid_focus_show&&a.grid.append("g").attr("class",i.xgridFocus).append("line").attr("class",i.xgridFocus),a.xgrid=c.selectAll([]),b.grid_lines_front||a.initGridLines()},f.initGridLines=function(){var a=this,b=a.d3;a.gridLines=a.main.append("g").attr("clip-path",a.clipPathForGrid).attr("class",i.grid+" "+i.gridLines),a.gridLines.append("g").attr("class",i.xgridLines),a.gridLines.append("g").attr("class",i.ygridLines),a.xgridLines=b.selectAll([])},f.updateXGrid=function(a){var b=this,c=b.config,d=b.d3,e=b.generateGridData(c.grid_x_type,b.x),f=b.isCategorized()?b.xAxis.tickOffset():0;b.xgridAttr=c.axis_rotated?{x1:0,x2:b.width,y1:function(a){return b.x(a)-f},y2:function(a){return b.x(a)-f}}:{x1:function(a){return b.x(a)+f},x2:function(a){return b.x(a)+f},y1:0,y2:b.height},b.xgrid=b.main.select("."+i.xgrids).selectAll("."+i.xgrid).data(e),b.xgrid.enter().append("line").attr("class",i.xgrid),a||b.xgrid.attr(b.xgridAttr).style("opacity",function(){return+d.select(this).attr(c.axis_rotated?"y1":"x1")===(c.axis_rotated?b.height:0)?0:1}),b.xgrid.exit().remove()},f.updateYGrid=function(){var a=this,b=a.config,c=a.yAxis.tickValues()||a.y.ticks(b.grid_y_ticks);a.ygrid=a.main.select("."+i.ygrids).selectAll("."+i.ygrid).data(c),a.ygrid.enter().append("line").attr("class",i.ygrid),a.ygrid.attr("x1",b.axis_rotated?a.y:0).attr("x2",b.axis_rotated?a.y:a.width).attr("y1",b.axis_rotated?0:a.y).attr("y2",b.axis_rotated?a.height:a.y),a.ygrid.exit().remove(),a.smoothLines(a.ygrid,"grid")},f.updateGrid=function(a){var b,c,d,e=this,f=e.main,g=e.config;e.grid.style("visibility",e.hasArcType()?"hidden":"visible"),f.select("line."+i.xgridFocus).style("visibility","hidden"),g.grid_x_show&&e.updateXGrid(),e.xgridLines=f.select("."+i.xgridLines).selectAll("."+i.xgridLine).data(g.grid_x_lines),b=e.xgridLines.enter().append("g").attr("class",function(a){return i.xgridLine+(a["class"]?" "+a["class"]:"")}),b.append("line").style("opacity",0),b.append("text").attr("text-anchor","end").attr("transform",g.axis_rotated?"":"rotate(-90)").attr("dx",-4).attr("dy",-5).style("opacity",0),e.xgridLines.exit().transition().duration(a).style("opacity",0).remove(),g.grid_y_show&&e.updateYGrid(),e.ygridLines=f.select("."+i.ygridLines).selectAll("."+i.ygridLine).data(g.grid_y_lines),c=e.ygridLines.enter().append("g").attr("class",function(a){return i.ygridLine+(a["class"]?" "+a["class"]:"")}),c.append("line").style("opacity",0),c.append("text").attr("text-anchor","end").attr("transform",g.axis_rotated?"rotate(-90)":"").attr("dx",g.axis_rotated?0:-e.margin.top).attr("dy",-5).style("opacity",0),d=e.yv.bind(e),e.ygridLines.select("line").transition().duration(a).attr("x1",g.axis_rotated?d:0).attr("x2",g.axis_rotated?d:e.width).attr("y1",g.axis_rotated?0:d).attr("y2",g.axis_rotated?e.height:d).style("opacity",1),e.ygridLines.select("text").transition().duration(a).attr("x",g.axis_rotated?0:e.width).attr("y",d).text(function(a){return a.text}).style("opacity",1),e.ygridLines.exit().transition().duration(a).style("opacity",0).remove()},f.redrawGrid=function(a){var b=this,c=b.config,d=b.xv.bind(b),e=b.xgridLines.select("line"),f=b.xgridLines.select("text");return[(a?e.transition():e).attr("x1",c.axis_rotated?0:d).attr("x2",c.axis_rotated?b.width:d).attr("y1",c.axis_rotated?d:0).attr("y2",c.axis_rotated?d:b.height).style("opacity",1),(a?f.transition():f).attr("x",c.axis_rotated?b.width:0).attr("y",d).text(function(a){return a.text}).style("opacity",1)]},f.showXGridFocus=function(a){var b=this,c=b.config,d=a.filter(function(a){return a&&j(a.value)}),e=b.main.selectAll("line."+i.xgridFocus),f=b.xx.bind(b);c.tooltip_show&&(b.hasType("scatter")||b.hasArcType()||(e.style("visibility","visible").data([d[0]]).attr(c.axis_rotated?"y1":"x1",f).attr(c.axis_rotated?"y2":"x2",f),b.smoothLines(e,"grid")))},f.hideXGridFocus=function(){this.main.select("line."+i.xgridFocus).style("visibility","hidden")},f.updateXgridFocus=function(){var a=this,b=a.config;a.main.select("line."+i.xgridFocus).attr("x1",b.axis_rotated?0:-10).attr("x2",b.axis_rotated?a.width:-10).attr("y1",b.axis_rotated?-10:0).attr("y2",b.axis_rotated?-10:a.height)},f.generateGridData=function(a,b){var c,d,e,f,g=this,h=[],j=g.main.select("."+i.axisX).selectAll(".tick").size();if("year"===a)for(c=g.getXDomain(),d=c[0].getFullYear(),e=c[1].getFullYear(),f=d;e>=f;f++)h.push(new Date(f+"-01-01 00:00:00"));else h=b.ticks(10),h.length>j&&(h=h.filter(function(a){return(""+a).indexOf(".")<0}));return h},f.getGridFilterToRemove=function(a){return a?function(b){var c=!1;return[].concat(a).forEach(function(a){("value"in a&&b.value===a.value||"class"in a&&b["class"]===a["class"])&&(c=!0)}),c}:function(){return!0}},f.removeGridLines=function(a,b){var c=this,d=c.config,e=c.getGridFilterToRemove(a),f=function(a){return!e(a)},g=b?i.xgridLines:i.ygridLines,h=b?i.xgridLine:i.ygridLine;c.main.select("."+g).selectAll("."+h).filter(e).transition().duration(d.transition_duration).style("opacity",0).remove(),b?d.grid_x_lines=d.grid_x_lines.filter(f):d.grid_y_lines=d.grid_y_lines.filter(f)},f.initTooltip=function(){var a,b=this,c=b.config;if(b.tooltip=b.selectChart.style("position","relative").append("div").attr("class",i.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),c.tooltip_init_show){if(b.isTimeSeries()&&l(c.tooltip_init_x)){for(c.tooltip_init_x=b.parseDate(c.tooltip_init_x),a=0;a<b.data.targets[0].values.length&&b.data.targets[0].values[a].x-c.tooltip_init_x!==0;a++);c.tooltip_init_x=a}b.tooltip.html(c.tooltip_contents.call(b,b.data.targets.map(function(a){return b.addName(a.values[c.tooltip_init_x])}),b.getXAxisTickFormat(),b.getYFormat(b.hasArcType()),b.color)),b.tooltip.style("top",c.tooltip_init_position.top).style("left",c.tooltip_init_position.left).style("display","block")}},f.getTooltipContent=function(a,b,c,d){var e,f,g,h,j,k,l=this,m=l.config,n=m.tooltip_format_title||b,o=m.tooltip_format_name||function(a){return a},p=m.tooltip_format_value||c;for(f=0;f<a.length;f++)a[f]&&(a[f].value||0===a[f].value)&&(e||(g=n?n(a[f].x):a[f].x,e="<table class='"+i.tooltip+"'>"+(g||0===g?"<tr><th colspan='2'>"+g+"</th></tr>":"")),h=p(a[f].value,a[f].ratio,a[f].id,a[f].index),void 0!==h&&(j=o(a[f].name,a[f].ratio,a[f].id,a[f].index),k=l.levelColor?l.levelColor(a[f].value):d(a[f].id),e+="<tr class='"+i.tooltipName+"-"+a[f].id+"'>",e+="<td class='name'><span style='background-color:"+k+"'></span>"+j+"</td>",e+="<td class='value'>"+h+"</td>",e+="</tr>"));return e+"</table>"},f.tooltipPosition=function(a,b,c,d){var e,f,g,h,i,j=this,k=j.config,l=j.d3,m=j.hasArcType(),n=l.mouse(d);return m?(f=(j.width-(j.isLegendRight?j.getLegendWidth():0))/2+n[0],h=j.height/2+n[1]+20):(e=j.getSvgLeft(!0),k.axis_rotated?(f=e+n[0]+100,g=f+b,i=j.currentWidth-j.getCurrentPaddingRight(),h=j.x(a[0].x)+20):(f=e+j.getCurrentPaddingLeft(!0)+j.x(a[0].x)+20,g=f+b,i=e+j.currentWidth-j.getCurrentPaddingRight(),h=n[1]+15),g>i&&(f-=g-i),h+c>j.currentHeight&&(h-=c+30)),0>h&&(h=0),{top:h,left:f}},f.showTooltip=function(a,b){var c,d,e,g=this,h=g.config,i=g.hasArcType(),k=a.filter(function(a){return a&&j(a.value)}),l=h.tooltip_position||f.tooltipPosition;0!==k.length&&h.tooltip_show&&(g.tooltip.html(h.tooltip_contents.call(g,a,g.getXAxisTickFormat(),g.getYFormat(i),g.color)).style("display","block"),c=g.tooltip.property("offsetWidth"),d=g.tooltip.property("offsetHeight"),e=l.call(this,k,c,d,b),g.tooltip.style("top",e.top+"px").style("left",e.left+"px"))},f.hideTooltip=function(){this.tooltip.style("display","none")},f.initLegend=function(){var a=this;return a.legendHasRendered=!1,a.legend=a.svg.append("g").attr("transform",a.getTranslate("legend")),a.config.legend_show?void a.updateLegendWithDefaults():(a.legend.style("visibility","hidden"),void(a.hiddenLegendIds=a.mapToIds(a.data.targets)))},f.updateLegendWithDefaults=function(){var a=this;a.updateLegend(a.mapToIds(a.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},f.updateSizeForLegend=function(a,b){var c=this,d=c.config,e={top:c.isLegendTop?c.getCurrentPaddingTop()+d.legend_inset_y+5.5:c.currentHeight-a-c.getCurrentPaddingBottom()-d.legend_inset_y,left:c.isLegendLeft?c.getCurrentPaddingLeft()+d.legend_inset_x+.5:c.currentWidth-b-c.getCurrentPaddingRight()-d.legend_inset_x+.5};c.margin3={top:c.isLegendRight?0:c.isLegendInset?e.top:c.currentHeight-a,right:0/0,bottom:0,left:c.isLegendRight?c.currentWidth-b:c.isLegendInset?e.left:0}},f.transformLegend=function(a){var b=this;(a?b.legend.transition():b.legend).attr("transform",b.getTranslate("legend"))},f.updateLegendStep=function(a){this.legendStep=a},f.updateLegendItemWidth=function(a){this.legendItemWidth=a},f.updateLegendItemHeight=function(a){this.legendItemHeight=a},f.getLegendWidth=function(){var a=this;return a.config.legend_show?a.isLegendRight||a.isLegendInset?a.legendItemWidth*(a.legendStep+1):a.currentWidth:0},f.getLegendHeight=function(){var a=this,b=0;return a.config.legend_show&&(b=a.isLegendRight?a.currentHeight:Math.max(20,a.legendItemHeight)*(a.legendStep+1)),b},f.opacityForLegend=function(a){return a.classed(i.legendItemHidden)?null:1},f.opacityForUnfocusedLegend=function(a){return a.classed(i.legendItemHidden)?null:.3},f.toggleFocusLegend=function(a,b){var c=this;a=c.mapToTargetIds(a),c.legend.selectAll("."+i.legendItem).filter(function(b){return a.indexOf(b)>=0}).classed(i.legendItemFocused,b).transition().duration(100).style("opacity",function(){var a=b?c.opacityForLegend:c.opacityForUnfocusedLegend;return a.call(c,c.d3.select(this))})},f.revertLegend=function(){var a=this,b=a.d3;a.legend.selectAll("."+i.legendItem).classed(i.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return a.opacityForLegend(b.select(this))})},f.showLegend=function(a){var b=this,c=b.config;c.legend_show||(c.legend_show=!0,b.legend.style("visibility","visible"),b.legendHasRendered||b.updateLegendWithDefaults()),b.removeHiddenLegendIds(a),b.legend.selectAll(b.selectorLegends(a)).style("visibility","visible").transition().style("opacity",function(){return b.opacityForLegend(b.d3.select(this))})},f.hideLegend=function(a){var b=this,c=b.config;c.legend_show&&r(a)&&(c.legend_show=!1,b.legend.style("visibility","hidden")),b.addHiddenLegendIds(a),b.legend.selectAll(b.selectorLegends(a)).style("opacity",0).style("visibility","hidden")};var h={};f.clearLegendItemTextBoxCache=function(){h={}},f.updateLegend=function(a,b,c){function d(a,b){return h[b]||(h[b]=w.getTextRect(a.textContent,i.legendItem)),h[b]}function e(b,c,e){function f(a,b){b||(g=(o-E-n)/2,C>g&&(g=(o-n)/2,E=0,K++)),J[a]=K,I[K]=w.isLegendInset?10:g,F[a]=E,E+=n}var g,h,i=0===e,j=e===a.length-1,k=d(b,c),l=k.width+D+(!j||w.isLegendRight||w.isLegendInset?z:0),m=k.height+y,n=w.isLegendRight||w.isLegendInset?m:l,o=w.isLegendRight||w.isLegendInset?w.getLegendHeight():w.getLegendWidth();return i&&(E=0,K=0,A=0,B=0),x.legend_show&&!w.isLegendToShow(c)?void(G[c]=H[c]=J[c]=F[c]=0):(G[c]=l,H[c]=m,(!A||l>=A)&&(A=l),(!B||m>=B)&&(B=m),h=w.isLegendRight||w.isLegendInset?B:A,void(x.legend_equally?(Object.keys(G).forEach(function(a){G[a]=A}),Object.keys(H).forEach(function(a){H[a]=B}),g=(o-h*a.length)/2,C>g?(E=0,K=0,a.forEach(function(a){f(a)})):f(c,!0)):f(c)))}var f,g,j,k,l,m,o,p,q,r,s,u,v,w=this,x=w.config,y=4,z=10,A=0,B=0,C=10,D=15,E=0,F={},G={},H={},I=[0],J={},K=0,L=w.legend.selectAll("."+i.legendItemFocused).size();b=b||{},p=t(b,"withTransition",!0),q=t(b,"withTransitionForTransform",!0),w.isLegendInset&&(K=x.legend_inset_step?x.legend_inset_step:a.length,w.updateLegendStep(K)),w.isLegendRight?(f=function(a){return A*J[a]},k=function(a){return I[J[a]]+F[a]}):w.isLegendInset?(f=function(a){return A*J[a]+10},k=function(a){return I[J[a]]+F[a]}):(f=function(a){return I[J[a]]+F[a]},k=function(a){return B*J[a]}),g=function(a,b){return f(a,b)+14},l=function(a,b){return k(a,b)+9},j=function(a,b){return f(a,b)},m=function(a,b){return k(a,b)-5},o=w.legend.selectAll("."+i.legendItem).data(a).enter().append("g").attr("class",function(a){return w.generateClass(i.legendItem,a)}).style("visibility",function(a){return w.isLegendToShow(a)?"visible":"hidden"}).style("cursor","pointer").on("click",function(a){x.legend_item_onclick?x.legend_item_onclick.call(w,a):w.d3.event.altKey?(w.api.hide(),w.api.show(a)):(w.api.toggle(a),w.isTargetToShow(a)?w.api.focus(a):w.api.revert())}).on("mouseover",function(a){w.d3.select(this).classed(i.legendItemFocused,!0),!w.transiting&&w.isTargetToShow(a)&&w.api.focus(a),x.legend_item_onmouseover&&x.legend_item_onmouseover.call(w,a)}).on("mouseout",function(a){w.d3.select(this).classed(i.legendItemFocused,!1),w.api.revert(),x.legend_item_onmouseout&&x.legend_item_onmouseout.call(w,a)}),o.append("text").text(function(a){return n(x.data_names[a])?x.data_names[a]:a}).each(function(a,b){e(this,a,b)}).style("pointer-events","none").attr("x",w.isLegendRight||w.isLegendInset?g:-200).attr("y",w.isLegendRight||w.isLegendInset?-200:l),o.append("rect").attr("class",i.legendItemEvent).style("fill-opacity",0).attr("x",w.isLegendRight||w.isLegendInset?j:-200).attr("y",w.isLegendRight||w.isLegendInset?-200:m),o.append("rect").attr("class",i.legendItemTile).style("pointer-events","none").style("fill",w.color).attr("x",w.isLegendRight||w.isLegendInset?g:-200).attr("y",w.isLegendRight||w.isLegendInset?-200:k).attr("width",10).attr("height",10),v=w.legend.select("."+i.legendBackground+" rect"),w.isLegendInset&&A>0&&0===v.size()&&(v=w.legend.insert("g","."+i.legendItem).attr("class",i.legendBackground).append("rect")),r=w.legend.selectAll("text").data(a).text(function(a){return n(x.data_names[a])?x.data_names[a]:a}).each(function(a,b){e(this,a,b)}),(p?r.transition():r).attr("x",g).attr("y",l),s=w.legend.selectAll("rect."+i.legendItemEvent).data(a),(p?s.transition():s).attr("width",function(a){return G[a]}).attr("height",function(a){return H[a]}).attr("x",j).attr("y",m),u=w.legend.selectAll("rect."+i.legendItemTile).data(a),(p?u.transition():u).style("fill",w.color).attr("x",f).attr("y",k),v&&(p?v.transition():v).attr("height",w.getLegendHeight()-12).attr("width",A*(K+1)+10),w.legend.selectAll("."+i.legendItem).classed(i.legendItemHidden,function(a){return!w.isTargetToShow(a)}).transition().style("opacity",function(a){var b=w.d3.select(this);return w.isTargetToShow(a)?!L||b.classed(i.legendItemFocused)?w.opacityForLegend(b):w.opacityForUnfocusedLegend(b):null}),w.updateLegendItemWidth(A),w.updateLegendItemHeight(B),w.updateLegendStep(K),w.updateSizes(),w.updateScales(),w.updateSvgSize(),w.transformAll(q,c),w.legendHasRendered=!0},f.initAxis=function(){var a=this,b=a.config,c=a.main;a.axes.x=c.append("g").attr("class",i.axis+" "+i.axisX).attr("clip-path",a.clipPathForXAxis).attr("transform",a.getTranslate("x")).style("visibility",b.axis_x_show?"visible":"hidden"),a.axes.x.append("text").attr("class",i.axisXLabel).attr("transform",b.axis_rotated?"rotate(-90)":"").style("text-anchor",a.textAnchorForXAxisLabel.bind(a)),a.axes.y=c.append("g").attr("class",i.axis+" "+i.axisY).attr("clip-path",b.axis_y_inner?"":a.clipPathForYAxis).attr("transform",a.getTranslate("y")).style("visibility",b.axis_y_show?"visible":"hidden"),a.axes.y.append("text").attr("class",i.axisYLabel).attr("transform",b.axis_rotated?"":"rotate(-90)").style("text-anchor",a.textAnchorForYAxisLabel.bind(a)),a.axes.y2=c.append("g").attr("class",i.axis+" "+i.axisY2).attr("transform",a.getTranslate("y2")).style("visibility",b.axis_y2_show?"visible":"hidden"),a.axes.y2.append("text").attr("class",i.axisY2Label).attr("transform",b.axis_rotated?"":"rotate(-90)").style("text-anchor",a.textAnchorForY2AxisLabel.bind(a))},f.getXAxis=function(a,b,c,e,f,g){var h=this,i=h.config,j={isCategory:h.isCategorized(),withOuterTick:f,tickMultiline:i.axis_x_tick_multiline,tickWidth:i.axis_x_tick_width,withoutTransition:g},k=d(h.d3,j).scale(a).orient(b);return h.isTimeSeries()&&e&&(e=e.map(function(a){return h.parseDate(a)})),k.tickFormat(c).tickValues(e),h.isCategorized()?(k.tickCentered(i.axis_x_tick_centered),r(i.axis_x_tick_culling)&&(i.axis_x_tick_culling=!1)):k.tickOffset=function(){var a=this.scale(),b=h.getEdgeX(h.data.targets),c=a(b[1])-a(b[0]),d=c?c:i.axis_rotated?h.height:h.width;return d/h.getMaxDataCount()/2},k},f.updateXAxisTickValues=function(a,b){var c,d=this,e=d.config;return(e.axis_x_tick_fit||e.axis_x_tick_count)&&(c=d.generateTickValues(d.mapTargetsToUniqueXs(a),e.axis_x_tick_count,d.isTimeSeries())),b?b.tickValues(c):(d.xAxis.tickValues(c),d.subXAxis.tickValues(c)),c},f.getYAxis=function(a,b,c,e,f){var g={withOuterTick:f},h=d(this.d3,g).scale(a).orient(b).tickFormat(c);return this.isTimeSeriesY()?h.ticks(this.d3.time[this.config.axis_y_tick_time_value],this.config.axis_y_tick_time_interval):h.tickValues(e),h},f.getAxisId=function(a){var b=this.config;return a in b.data_axes?b.data_axes[a]:"y"},f.getXAxisTickFormat=function(){var a=this,b=a.config,c=a.isTimeSeries()?a.defaultAxisTimeFormat:a.isCategorized()?a.categoryName:function(a){return 0>a?a.toFixed(0):a};return b.axis_x_tick_format&&(k(b.axis_x_tick_format)?c=b.axis_x_tick_format:a.isTimeSeries()&&(c=function(c){return c?a.axisTimeFormat(b.axis_x_tick_format)(c):""})),k(c)?function(b){return c.call(a,b)}:c},f.getAxisTickValues=function(a,b){return a?a:b?b.tickValues():void 0},f.getXAxisTickValues=function(){return this.getAxisTickValues(this.config.axis_x_tick_values,this.xAxis)},f.getYAxisTickValues=function(){return this.getAxisTickValues(this.config.axis_y_tick_values,this.yAxis)},f.getY2AxisTickValues=function(){return this.getAxisTickValues(this.config.axis_y2_tick_values,this.y2Axis)},f.getAxisLabelOptionByAxisId=function(a){var b,c=this,d=c.config;return"y"===a?b=d.axis_y_label:"y2"===a?b=d.axis_y2_label:"x"===a&&(b=d.axis_x_label),b},f.getAxisLabelText=function(a){var b=this.getAxisLabelOptionByAxisId(a);return l(b)?b:b?b.text:null},f.setAxisLabelText=function(a,b){var c=this,d=c.config,e=c.getAxisLabelOptionByAxisId(a);l(e)?"y"===a?d.axis_y_label=b:"y2"===a?d.axis_y2_label=b:"x"===a&&(d.axis_x_label=b):e&&(e.text=b)},f.getAxisLabelPosition=function(a,b){var c=this.getAxisLabelOptionByAxisId(a),d=c&&"object"==typeof c&&c.position?c.position:b;return{isInner:d.indexOf("inner")>=0,isOuter:d.indexOf("outer")>=0,isLeft:d.indexOf("left")>=0,isCenter:d.indexOf("center")>=0,isRight:d.indexOf("right")>=0,isTop:d.indexOf("top")>=0,isMiddle:d.indexOf("middle")>=0,isBottom:d.indexOf("bottom")>=0}},f.getXAxisLabelPosition=function(){return this.getAxisLabelPosition("x",this.config.axis_rotated?"inner-top":"inner-right")},f.getYAxisLabelPosition=function(){return this.getAxisLabelPosition("y",this.config.axis_rotated?"inner-right":"inner-top")},f.getY2AxisLabelPosition=function(){return this.getAxisLabelPosition("y2",this.config.axis_rotated?"inner-right":"inner-top")},f.getAxisLabelPositionById=function(a){return"y2"===a?this.getY2AxisLabelPosition():"y"===a?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},f.textForXAxisLabel=function(){return this.getAxisLabelText("x")},f.textForYAxisLabel=function(){return this.getAxisLabelText("y")},f.textForY2AxisLabel=function(){return this.getAxisLabelText("y2")},f.xForAxisLabel=function(a,b){var c=this;return a?b.isLeft?0:b.isCenter?c.width/2:c.width:b.isBottom?-c.height:b.isMiddle?-c.height/2:0},f.dxForAxisLabel=function(a,b){return a?b.isLeft?"0.5em":b.isRight?"-0.5em":"0":b.isTop?"-0.5em":b.isBottom?"0.5em":"0"},f.textAnchorForAxisLabel=function(a,b){return a?b.isLeft?"start":b.isCenter?"middle":"end":b.isBottom?"start":b.isMiddle?"middle":"end"},f.xForXAxisLabel=function(){return this.xForAxisLabel(!this.config.axis_rotated,this.getXAxisLabelPosition())},f.xForYAxisLabel=function(){return this.xForAxisLabel(this.config.axis_rotated,this.getYAxisLabelPosition())},f.xForY2AxisLabel=function(){return this.xForAxisLabel(this.config.axis_rotated,this.getY2AxisLabelPosition())},f.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.config.axis_rotated,this.getXAxisLabelPosition())},f.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.config.axis_rotated,this.getYAxisLabelPosition())},f.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.config.axis_rotated,this.getY2AxisLabelPosition())},f.dyForXAxisLabel=function(){var a=this,b=a.config,c=a.getXAxisLabelPosition();return b.axis_rotated?c.isInner?"1.2em":-25-a.getMaxTickWidth("x"):c.isInner?"-0.5em":b.axis_x_height?b.axis_x_height-10:"3em"},f.dyForYAxisLabel=function(){var a=this,b=a.getYAxisLabelPosition();return a.config.axis_rotated?b.isInner?"-0.5em":"3em":b.isInner?"1.2em":-10-(a.config.axis_y_inner?0:a.getMaxTickWidth("y")+10)},f.dyForY2AxisLabel=function(){var a=this,b=a.getY2AxisLabelPosition();return a.config.axis_rotated?b.isInner?"1.2em":"-2.2em":b.isInner?"-0.5em":15+(a.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},f.textAnchorForXAxisLabel=function(){var a=this;return a.textAnchorForAxisLabel(!a.config.axis_rotated,a.getXAxisLabelPosition())},f.textAnchorForYAxisLabel=function(){var a=this;return a.textAnchorForAxisLabel(a.config.axis_rotated,a.getYAxisLabelPosition())},f.textAnchorForY2AxisLabel=function(){var a=this;return a.textAnchorForAxisLabel(a.config.axis_rotated,a.getY2AxisLabelPosition())},f.xForRotatedTickText=function(a){return 8*Math.sin(Math.PI*(a/180))},f.yForRotatedTickText=function(a){return 11.5-2.5*(a/15)*(a>0?1:-1)},f.rotateTickText=function(a,b,c){a.selectAll(".tick text").style("text-anchor",c>0?"start":"end"),b.selectAll(".tick text").attr("y",this.yForRotatedTickText(c)).attr("transform","rotate("+c+")").selectAll("tspan").attr("dx",this.xForRotatedTickText(c))},f.getMaxTickWidth=function(b,c){var d,e,f,g,h,i=this,j=i.config,k=0;return c&&i.currentMaxTickWidths[b]?i.currentMaxTickWidths[b]:(i.svg&&(d=i.filterTargetsToShow(i.data.targets),"y"===b?(e=i.y.copy().domain(i.getYDomain(d,"y")),f=i.getYAxis(e,i.yOrient,j.axis_y_tick_format,i.yAxisTickValues)):"y2"===b?(e=i.y2.copy().domain(i.getYDomain(d,"y2")),f=i.getYAxis(e,i.y2Orient,j.axis_y2_tick_format,i.y2AxisTickValues)):(e=i.x.copy().domain(i.getXDomain(d)),f=i.getXAxis(e,i.xOrient,i.xAxisTickFormat,i.xAxisTickValues),i.updateXAxisTickValues(d,f)),g=this.d3.select("body").classed("c3",!0),h=g.append("svg").style("visibility","hidden"),h.append("g").call(f).each(function(){i.d3.select(this).selectAll("text tspan").each(function(){var a=this.getBoundingClientRect();a.left>=0&&k<a.width&&(k=a.width)})}),a.setTimeout(function(){h.remove()},100),g.classed("c3",!1)),i.currentMaxTickWidths[b]=0>=k?i.currentMaxTickWidths[b]:k,i.currentMaxTickWidths[b])},f.updateAxisLabels=function(a){var b=this,c=b.main.select("."+i.axisX+" ."+i.axisXLabel),d=b.main.select("."+i.axisY+" ."+i.axisYLabel),e=b.main.select("."+i.axisY2+" ."+i.axisY2Label);(a?c.transition():c).attr("x",b.xForXAxisLabel.bind(b)).attr("dx",b.dxForXAxisLabel.bind(b)).attr("dy",b.dyForXAxisLabel.bind(b)).text(b.textForXAxisLabel.bind(b)),(a?d.transition():d).attr("x",b.xForYAxisLabel.bind(b)).attr("dx",b.dxForYAxisLabel.bind(b)).attr("dy",b.dyForYAxisLabel.bind(b)).text(b.textForYAxisLabel.bind(b)),(a?e.transition():e).attr("x",b.xForY2AxisLabel.bind(b)).attr("dx",b.dxForY2AxisLabel.bind(b)).attr("dy",b.dyForY2AxisLabel.bind(b)).text(b.textForY2AxisLabel.bind(b))},f.getAxisPadding=function(a,b,c,d){return j(a[b])?"ratio"===a.unit?a[b]*d:this.convertPixelsToAxisPadding(a[b],d):c},f.convertPixelsToAxisPadding=function(a,b){var c=this.config.axis_rotated?this.width:this.height;return b*(a/c)},f.generateTickValues=function(a,b,c){var d,e,f,g,h,i,j,l=a;if(b)if(d=k(b)?b():b,1===d)l=[a[0]];else if(2===d)l=[a[0],a[a.length-1]];else if(d>2){for(g=d-2,e=a[0],f=a[a.length-1],h=(f-e)/(g+1),l=[e],i=0;g>i;i++)j=+e+h*(i+1),l.push(c?new Date(j):j);l.push(f)}return c||(l=l.sort(function(a,b){return a-b})),l},f.generateAxisTransitions=function(a){var b=this,c=b.axes;return{axisX:a?c.x.transition().duration(a):c.x,axisY:a?c.y.transition().duration(a):c.y,axisY2:a?c.y2.transition().duration(a):c.y2,axisSubX:a?c.subx.transition().duration(a):c.subx}},f.redrawAxis=function(a,b){var c=this,d=c.config;c.axes.x.style("opacity",b?0:1),c.axes.y.style("opacity",b?0:1),c.axes.y2.style("opacity",b?0:1),c.axes.subx.style("opacity",b?0:1),a.axisX.call(c.xAxis),a.axisY.call(c.yAxis),a.axisY2.call(c.y2Axis),a.axisSubX.call(c.subXAxis),!d.axis_rotated&&d.axis_x_tick_rotate&&(c.rotateTickText(c.axes.x,a.axisX,d.axis_x_tick_rotate),c.rotateTickText(c.axes.subx,a.axisSubX,d.axis_x_tick_rotate))},f.getClipPath=function(b){var c=a.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(c?"":document.URL.split("#")[0])+"#"+b+")"},f.appendClip=function(a,b){return a.append("clipPath").attr("id",b).append("rect")},f.getAxisClipX=function(a){var b=Math.max(30,this.margin.left);return a?-(1+b):-(b-1)},f.getAxisClipY=function(a){return a?-20:-this.margin.top},f.getXAxisClipX=function(){var a=this;return a.getAxisClipX(!a.config.axis_rotated)},f.getXAxisClipY=function(){var a=this;return a.getAxisClipY(!a.config.axis_rotated)},f.getYAxisClipX=function(){var a=this;return a.config.axis_y_inner?-1:a.getAxisClipX(a.config.axis_rotated)},f.getYAxisClipY=function(){var a=this;return a.getAxisClipY(a.config.axis_rotated)},f.getAxisClipWidth=function(a){var b=this,c=Math.max(30,b.margin.left),d=Math.max(30,b.margin.right);return a?b.width+2+c+d:b.margin.left+20},f.getAxisClipHeight=function(a){return(a?this.margin.bottom:this.margin.top+this.height)+20},f.getXAxisClipWidth=function(){var a=this;return a.getAxisClipWidth(!a.config.axis_rotated)},f.getXAxisClipHeight=function(){var a=this;return a.getAxisClipHeight(!a.config.axis_rotated)},f.getYAxisClipWidth=function(){var a=this;return a.getAxisClipWidth(a.config.axis_rotated)+(a.config.axis_y_inner?20:0)},f.getYAxisClipHeight=function(){var a=this;return a.getAxisClipHeight(a.config.axis_rotated)},f.initPie=function(){var a=this,b=a.d3,c=a.config;a.pie=b.layout.pie().value(function(a){return a.values.reduce(function(a,b){return a+b.value},0)}),c.data_order||a.pie.sort(null)},f.updateRadius=function(){var a=this,b=a.config,c=b.gauge_width||b.donut_width;a.radiusExpanded=Math.min(a.arcWidth,a.arcHeight)/2,a.radius=.95*a.radiusExpanded,a.innerRadiusRatio=c?(a.radius-c)/a.radius:.6,a.innerRadius=a.hasType("donut")||a.hasType("gauge")?a.radius*a.innerRadiusRatio:0},f.updateArc=function(){var a=this;a.svgArc=a.getSvgArc(),a.svgArcExpanded=a.getSvgArcExpanded(),a.svgArcExpandedSub=a.getSvgArcExpanded(.98)},f.updateAngle=function(a){var b,c,d=this,e=d.config,f=!1,g=0,h=e.gauge_min,i=e.gauge_max;return d.pie(d.filterTargetsToShow(d.data.targets)).forEach(function(b){f||b.data.id!==a.data.id||(f=!0,a=b,a.index=g),g++}),isNaN(a.endAngle)&&(a.endAngle=a.startAngle),d.isGaugeType(a.data)&&(b=Math.PI/(i-h),c=a.value<h?0:a.value<i?a.value-h:i-h,a.startAngle=-1*(Math.PI/2),a.endAngle=a.startAngle+b*c),f?a:null},f.getSvgArc=function(){var a=this,b=a.d3.svg.arc().outerRadius(a.radius).innerRadius(a.innerRadius),c=function(c,d){var e;return d?b(c):(e=a.updateAngle(c),e?b(e):"M 0 0")};return c.centroid=b.centroid,c},f.getSvgArcExpanded=function(a){var b=this,c=b.d3.svg.arc().outerRadius(b.radiusExpanded*(a?a:1)).innerRadius(b.innerRadius);return function(a){var d=b.updateAngle(a);return d?c(d):"M 0 0"}},f.getArc=function(a,b,c){return c||this.isArcType(a.data)?this.svgArc(a,b):"M 0 0"},f.transformForArcLabel=function(a){var b,c,d,e,f,g=this,h=g.updateAngle(a),i="";return h&&!g.hasType("gauge")&&(b=this.svgArc.centroid(h),c=isNaN(b[0])?0:b[0],d=isNaN(b[1])?0:b[1],e=Math.sqrt(c*c+d*d),f=g.radius&&e?(36/g.radius>.375?1.175-36/g.radius:.8)*g.radius/e:0,i="translate("+c*f+","+d*f+")"),i},f.getArcRatio=function(a){var b=this,c=b.hasType("gauge")?Math.PI:2*Math.PI;return a?(a.endAngle-a.startAngle)/c:null},f.convertToArcData=function(a){return this.addName({id:a.data.id,value:a.value,ratio:this.getArcRatio(a),index:a.index})},f.textForArcLabel=function(a){var b,c,d,e,f,g=this;return g.shouldShowArcLabel()?(b=g.updateAngle(a),c=b?b.value:null,d=g.getArcRatio(b),e=a.data.id,g.hasType("gauge")||g.meetsArcLabelThreshold(d)?(f=g.getArcLabelFormat(),f?f(c,d,e):g.defaultArcValueFormat(c,d)):""):""},f.expandArc=function(b){var c,d=this;return d.transiting?void(c=a.setInterval(function(){d.transiting||(a.clearInterval(c),d.legend.selectAll(".c3-legend-item-focused").size()>0&&d.expandArc(b))},10)):(b=d.mapToTargetIds(b),void d.svg.selectAll(d.selectorTargets(b,"."+i.chartArc)).each(function(a){d.shouldExpand(a.data.id)&&d.d3.select(this).selectAll("path").transition().duration(50).attr("d",d.svgArcExpanded).transition().duration(100).attr("d",d.svgArcExpandedSub).each(function(a){d.isDonutType(a.data)
})}))},f.unexpandArc=function(a){var b=this;b.transiting||(a=b.mapToTargetIds(a),b.svg.selectAll(b.selectorTargets(a,"."+i.chartArc)).selectAll("path").transition().duration(50).attr("d",b.svgArc),b.svg.selectAll("."+i.arc).style("opacity",1))},f.shouldExpand=function(a){var b=this,c=b.config;return b.isDonutType(a)&&c.donut_expand||b.isGaugeType(a)&&c.gauge_expand||b.isPieType(a)&&c.pie_expand},f.shouldShowArcLabel=function(){var a=this,b=a.config,c=!0;return a.hasType("donut")?c=b.donut_label_show:a.hasType("pie")&&(c=b.pie_label_show),c},f.meetsArcLabelThreshold=function(a){var b=this,c=b.config,d=b.hasType("donut")?c.donut_label_threshold:c.pie_label_threshold;return a>=d},f.getArcLabelFormat=function(){var a=this,b=a.config,c=b.pie_label_format;return a.hasType("gauge")?c=b.gauge_label_format:a.hasType("donut")&&(c=b.donut_label_format),c},f.getArcTitle=function(){var a=this;return a.hasType("donut")?a.config.donut_title:""},f.updateTargetsForArc=function(a){var b,c,d=this,e=d.main,f=d.classChartArc.bind(d),g=d.classArcs.bind(d),h=d.classFocus.bind(d);b=e.select("."+i.chartArcs).selectAll("."+i.chartArc).data(d.pie(a)).attr("class",function(a){return f(a)+h(a.data)}),c=b.enter().append("g").attr("class",f),c.append("g").attr("class",g),c.append("text").attr("dy",d.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},f.initArc=function(){var a=this;a.arcs=a.main.select("."+i.chart).append("g").attr("class",i.chartArcs).attr("transform",a.getTranslate("arc")),a.arcs.append("text").attr("class",i.chartArcsTitle).style("text-anchor","middle").text(a.getArcTitle())},f.redrawArc=function(a,b,c){var d,e=this,f=e.d3,g=e.config,h=e.main;d=h.selectAll("."+i.arcs).selectAll("."+i.arc).data(e.arcData.bind(e)),d.enter().append("path").attr("class",e.classArc.bind(e)).style("fill",function(a){return e.color(a.data)}).style("cursor",function(a){return g.interaction_enabled&&g.data_selection_isselectable(a)?"pointer":null}).style("opacity",0).each(function(a){e.isGaugeType(a.data)&&(a.startAngle=a.endAngle=-1*(Math.PI/2)),this._current=a}),d.attr("transform",function(a){return!e.isGaugeType(a.data)&&c?"scale(0)":""}).style("opacity",function(a){return a===this._current?0:1}).on("mouseover",g.interaction_enabled?function(a){var b,c;e.transiting||(b=e.updateAngle(a),c=e.convertToArcData(b),e.expandArc(b.data.id),e.api.focus(b.data.id),e.toggleFocusLegend(b.data.id,!0),e.config.data_onmouseover(c,this))}:null).on("mousemove",g.interaction_enabled?function(a){var b=e.updateAngle(a),c=e.convertToArcData(b),d=[c];e.showTooltip(d,this)}:null).on("mouseout",g.interaction_enabled?function(a){var b,c;e.transiting||(b=e.updateAngle(a),c=e.convertToArcData(b),e.unexpandArc(b.data.id),e.api.revert(),e.revertLegend(),e.hideTooltip(),e.config.data_onmouseout(c,this))}:null).on("click",g.interaction_enabled?function(a,b){var c=e.updateAngle(a),d=e.convertToArcData(c);e.toggleShape&&e.toggleShape(this,d,b),e.config.data_onclick.call(e.api,d,this)}:null).each(function(){e.transiting=!0}).transition().duration(a).attrTween("d",function(a){var b,c=e.updateAngle(a);return c?(isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),b=f.interpolate(this._current,c),this._current=b(0),function(c){var d=b(c);return d.data=a.data,e.getArc(d,!0)}):function(){return"M 0 0"}}).attr("transform",c?"scale(1)":"").style("fill",function(a){return e.levelColor?e.levelColor(a.data.values[0].value):e.color(a.data.id)}).style("opacity",1).call(e.endall,function(){e.transiting=!1}),d.exit().transition().duration(b).style("opacity",0).remove(),h.selectAll("."+i.chartArc).select("text").style("opacity",0).attr("class",function(a){return e.isGaugeType(a.data)?i.gaugeValue:""}).text(e.textForArcLabel.bind(e)).attr("transform",e.transformForArcLabel.bind(e)).style("font-size",function(a){return e.isGaugeType(a.data)?Math.round(e.radius/5)+"px":""}).transition().duration(a).style("opacity",function(a){return e.isTargetToShow(a.data.id)&&e.isArcType(a.data)?1:0}),h.select("."+i.chartArcsTitle).style("opacity",e.hasType("donut")||e.hasType("gauge")?1:0),e.hasType("gauge")&&(e.arcs.select("."+i.chartArcsBackground).attr("d",function(){var a={data:[{value:g.gauge_max}],startAngle:-1*(Math.PI/2),endAngle:Math.PI/2};return e.getArc(a,!0,!0)}),e.arcs.select("."+i.chartArcsGaugeUnit).attr("dy",".75em").text(g.gauge_label_show?g.gauge_units:""),e.arcs.select("."+i.chartArcsGaugeMin).attr("dx",-1*(e.innerRadius+(e.radius-e.innerRadius)/2)+"px").attr("dy","1.2em").text(g.gauge_label_show?g.gauge_min:""),e.arcs.select("."+i.chartArcsGaugeMax).attr("dx",e.innerRadius+(e.radius-e.innerRadius)/2+"px").attr("dy","1.2em").text(g.gauge_label_show?g.gauge_max:""))},f.initGauge=function(){var a=this.arcs;this.hasType("gauge")&&(a.append("path").attr("class",i.chartArcsBackground),a.append("text").attr("class",i.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),a.append("text").attr("class",i.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),a.append("text").attr("class",i.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},f.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},f.initRegion=function(){var a=this;a.region=a.main.append("g").attr("clip-path",a.clipPath).attr("class",i.regions)},f.updateRegion=function(a){var b=this,c=b.config;b.region.style("visibility",b.hasArcType()?"hidden":"visible"),b.mainRegion=b.main.select("."+i.regions).selectAll("."+i.region).data(c.regions),b.mainRegion.enter().append("g").attr("class",b.classRegion.bind(b)).append("rect").style("fill-opacity",0),b.mainRegion.exit().transition().duration(a).style("opacity",0).remove()},f.redrawRegion=function(a){var b=this,c=b.mainRegion.selectAll("rect"),d=b.regionX.bind(b),e=b.regionY.bind(b),f=b.regionWidth.bind(b),g=b.regionHeight.bind(b);return[(a?c.transition():c).attr("x",d).attr("y",e).attr("width",f).attr("height",g).style("fill-opacity",function(a){return j(a.opacity)?a.opacity:.1})]},f.regionX=function(a){var b,c=this,d=c.config,e="y"===a.axis?c.y:c.y2;return b="y"===a.axis||"y2"===a.axis?d.axis_rotated&&"start"in a?e(a.start):0:d.axis_rotated?0:"start"in a?c.x(c.isTimeSeries()?c.parseDate(a.start):a.start):0},f.regionY=function(a){var b,c=this,d=c.config,e="y"===a.axis?c.y:c.y2;return b="y"===a.axis||"y2"===a.axis?d.axis_rotated?0:"end"in a?e(a.end):0:d.axis_rotated&&"start"in a?c.x(c.isTimeSeries()?c.parseDate(a.start):a.start):0},f.regionWidth=function(a){var b,c=this,d=c.config,e=c.regionX(a),f="y"===a.axis?c.y:c.y2;return b="y"===a.axis||"y2"===a.axis?d.axis_rotated&&"end"in a?f(a.end):c.width:d.axis_rotated?c.width:"end"in a?c.x(c.isTimeSeries()?c.parseDate(a.end):a.end):c.width,e>b?0:b-e},f.regionHeight=function(a){var b,c=this,d=c.config,e=this.regionY(a),f="y"===a.axis?c.y:c.y2;return b="y"===a.axis||"y2"===a.axis?d.axis_rotated?c.height:"start"in a?f(a.start):c.height:d.axis_rotated&&"end"in a?c.x(c.isTimeSeries()?c.parseDate(a.end):a.end):c.height,e>b?0:b-e},f.isRegionOnX=function(a){return!a.axis||"x"===a.axis},f.drag=function(a){var b,c,d,e,f,g,h,j,k=this,l=k.config,m=k.main,n=k.d3;k.hasArcType()||l.data_selection_enabled&&(!l.zoom_enabled||k.zoom.altDomain)&&l.data_selection_multiple&&(b=k.dragStart[0],c=k.dragStart[1],d=a[0],e=a[1],f=Math.min(b,d),g=Math.max(b,d),h=l.data_selection_grouped?k.margin.top:Math.min(c,e),j=l.data_selection_grouped?k.height:Math.max(c,e),m.select("."+i.dragarea).attr("x",f).attr("y",h).attr("width",g-f).attr("height",j-h),m.selectAll("."+i.shapes).selectAll("."+i.shape).filter(function(a){return l.data_selection_isselectable(a)}).each(function(a,b){var c,d,e,l,m,o,p=n.select(this),q=p.classed(i.SELECTED),r=p.classed(i.INCLUDED),s=!1;if(p.classed(i.circle))c=1*p.attr("cx"),d=1*p.attr("cy"),m=k.togglePoint,s=c>f&&g>c&&d>h&&j>d;else{if(!p.classed(i.bar))return;o=v(this),c=o.x,d=o.y,e=o.width,l=o.height,m=k.togglePath,s=!(c>g||f>c+e||d>j||h>d+l)}s^r&&(p.classed(i.INCLUDED,!r),p.classed(i.SELECTED,!q),m.call(k,!q,p,a,b))}))},f.dragstart=function(a){var b=this,c=b.config;b.hasArcType()||c.data_selection_enabled&&(b.dragStart=a,b.main.select("."+i.chart).append("rect").attr("class",i.dragarea).style("opacity",.1),b.dragging=!0)},f.dragend=function(){var a=this,b=a.config;a.hasArcType()||b.data_selection_enabled&&(a.main.select("."+i.dragarea).transition().duration(100).style("opacity",0).remove(),a.main.selectAll("."+i.shape).classed(i.INCLUDED,!1),a.dragging=!1)},f.selectPoint=function(a,b,c){var d=this,e=d.config,f=(e.axis_rotated?d.circleY:d.circleX).bind(d),g=(e.axis_rotated?d.circleX:d.circleY).bind(d),h=d.pointSelectR.bind(d);e.data_onselected.call(d.api,b,a.node()),d.main.select("."+i.selectedCircles+d.getTargetSelectorSuffix(b.id)).selectAll("."+i.selectedCircle+"-"+c).data([b]).enter().append("circle").attr("class",function(){return d.generateClass(i.selectedCircle,c)}).attr("cx",f).attr("cy",g).attr("stroke",function(){return d.color(b)}).attr("r",function(a){return 1.4*d.pointSelectR(a)}).transition().duration(100).attr("r",h)},f.unselectPoint=function(a,b,c){var d=this;d.config.data_onunselected(b,a.node()),d.main.select("."+i.selectedCircles+d.getTargetSelectorSuffix(b.id)).selectAll("."+i.selectedCircle+"-"+c).transition().duration(100).attr("r",0).remove()},f.togglePoint=function(a,b,c,d){a?this.selectPoint(b,c,d):this.unselectPoint(b,c,d)},f.selectPath=function(a,b){var c=this;c.config.data_onselected.call(c,b,a.node()),a.transition().duration(100).style("fill",function(){return c.d3.rgb(c.color(b)).brighter(.75)})},f.unselectPath=function(a,b){var c=this;c.config.data_onunselected.call(c,b,a.node()),a.transition().duration(100).style("fill",function(){return c.color(b)})},f.togglePath=function(a,b,c,d){a?this.selectPath(b,c,d):this.unselectPath(b,c,d)},f.getToggle=function(a,b){var c,d=this;return"circle"===a.nodeName?c=d.isStepType(b)?function(){}:d.togglePoint:"path"===a.nodeName&&(c=d.togglePath),c},f.toggleShape=function(a,b,c){var d=this,e=d.d3,f=d.config,g=e.select(a),h=g.classed(i.SELECTED),j=d.getToggle(a,b).bind(d);f.data_selection_enabled&&f.data_selection_isselectable(b)&&(f.data_selection_multiple||d.main.selectAll("."+i.shapes+(f.data_selection_grouped?d.getTargetSelectorSuffix(b.id):"")).selectAll("."+i.shape).each(function(a,b){var c=e.select(this);c.classed(i.SELECTED)&&j(!1,c.classed(i.SELECTED,!1),a,b)}),g.classed(i.SELECTED,!h),j(!h,g,b,c))},f.initBrush=function(){var a=this,b=a.d3;a.brush=b.svg.brush().on("brush",function(){a.redrawForBrush()}),a.brush.update=function(){return a.context&&a.context.select("."+i.brush).call(this),this},a.brush.scale=function(b){return a.config.axis_rotated?this.y(b):this.x(b)}},f.initSubchart=function(){var a=this,b=a.config,c=a.context=a.svg.append("g").attr("transform",a.getTranslate("context"));c.style("visibility",b.subchart_show?"visible":"hidden"),c.append("g").attr("clip-path",a.clipPathForSubchart).attr("class",i.chart),c.select("."+i.chart).append("g").attr("class",i.chartBars),c.select("."+i.chart).append("g").attr("class",i.chartLines),c.append("g").attr("clip-path",a.clipPath).attr("class",i.brush).call(a.brush),a.axes.subx=c.append("g").attr("class",i.axisX).attr("transform",a.getTranslate("subx")).attr("clip-path",b.axis_rotated?"":a.clipPathForXAxis)},f.updateTargetsForSubchart=function(a){var b,c,d,e,f=this,g=f.context,h=f.config,j=f.classChartBar.bind(f),k=f.classBars.bind(f),l=f.classChartLine.bind(f),m=f.classLines.bind(f),n=f.classAreas.bind(f);h.subchart_show&&(e=g.select("."+i.chartBars).selectAll("."+i.chartBar).data(a).attr("class",j),d=e.enter().append("g").style("opacity",0).attr("class",j),d.append("g").attr("class",k),c=g.select("."+i.chartLines).selectAll("."+i.chartLine).data(a).attr("class",l),b=c.enter().append("g").style("opacity",0).attr("class",l),b.append("g").attr("class",m),b.append("g").attr("class",n),g.selectAll("."+i.brush+" rect").attr(h.axis_rotated?"width":"height",h.axis_rotated?f.width2:f.height2))},f.updateBarForSubchart=function(a){var b=this;b.contextBar=b.context.selectAll("."+i.bars).selectAll("."+i.bar).data(b.barData.bind(b)),b.contextBar.enter().append("path").attr("class",b.classBar.bind(b)).style("stroke","none").style("fill",b.color),b.contextBar.style("opacity",b.initialOpacity.bind(b)),b.contextBar.exit().transition().duration(a).style("opacity",0).remove()},f.redrawBarForSubchart=function(a,b,c){(b?this.contextBar.transition().duration(c):this.contextBar).attr("d",a).style("opacity",1)},f.updateLineForSubchart=function(a){var b=this;b.contextLine=b.context.selectAll("."+i.lines).selectAll("."+i.line).data(b.lineData.bind(b)),b.contextLine.enter().append("path").attr("class",b.classLine.bind(b)).style("stroke",b.color),b.contextLine.style("opacity",b.initialOpacity.bind(b)),b.contextLine.exit().transition().duration(a).style("opacity",0).remove()},f.redrawLineForSubchart=function(a,b,c){(b?this.contextLine.transition().duration(c):this.contextLine).attr("d",a).style("opacity",1)},f.updateAreaForSubchart=function(a){var b=this,c=b.d3;b.contextArea=b.context.selectAll("."+i.areas).selectAll("."+i.area).data(b.lineData.bind(b)),b.contextArea.enter().append("path").attr("class",b.classArea.bind(b)).style("fill",b.color).style("opacity",function(){return b.orgAreaOpacity=+c.select(this).style("opacity"),0}),b.contextArea.style("opacity",0),b.contextArea.exit().transition().duration(a).style("opacity",0).remove()},f.redrawAreaForSubchart=function(a,b,c){(b?this.contextArea.transition().duration(c):this.contextArea).attr("d",a).style("fill",this.color).style("opacity",this.orgAreaOpacity)},f.redrawSubchart=function(a,b,c,d,e,f,g){var h,i,j,k=this,l=k.d3,m=k.config;k.context.style("visibility",m.subchart_show?"visible":"hidden"),m.subchart_show&&(l.event&&"zoom"===l.event.type&&k.brush.extent(k.x.orgDomain()).update(),a&&(k.brush.empty()||k.brush.extent(k.x.orgDomain()).update(),h=k.generateDrawArea(e,!0),i=k.generateDrawBar(f,!0),j=k.generateDrawLine(g,!0),k.updateBarForSubchart(c),k.updateLineForSubchart(c),k.updateAreaForSubchart(c),k.redrawBarForSubchart(i,c,c),k.redrawLineForSubchart(j,c,c),k.redrawAreaForSubchart(h,c,c)))},f.redrawForBrush=function(){var a=this,b=a.x;a.redraw({withTransition:!1,withY:a.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),a.config.subchart_onbrush.call(a.api,b.orgDomain())},f.transformContext=function(a,b){var c,d=this;b&&b.axisSubX?c=b.axisSubX:(c=d.context.select("."+i.axisX),a&&(c=c.transition())),d.context.attr("transform",d.getTranslate("context")),c.attr("transform",d.getTranslate("subx"))},f.getDefaultExtent=function(){var a=this,b=a.config,c=k(b.axis_x_extent)?b.axis_x_extent(a.getXDomain(a.data.targets)):b.axis_x_extent;return a.isTimeSeries()&&(c=[a.parseDate(c[0]),a.parseDate(c[1])]),c},f.initZoom=function(){var a,b=this,c=b.d3,d=b.config;b.zoom=c.behavior.zoom().on("zoomstart",function(){a=c.event.sourceEvent,b.zoom.altDomain=c.event.sourceEvent.altKey?b.x.orgDomain():null,d.zoom_onzoomstart.call(b.api,c.event.sourceEvent)}).on("zoom",function(){b.redrawForZoom.call(b)}).on("zoomend",function(){var e=c.event.sourceEvent;e&&a.clientX===e.clientX&&a.clientY===e.clientY||(b.redrawEventRect(),b.updateZoom(),d.zoom_onzoomend.call(b.api,b.x.orgDomain()))}),b.zoom.scale=function(a){return d.axis_rotated?this.y(a):this.x(a)},b.zoom.orgScaleExtent=function(){var a=d.zoom_extent?d.zoom_extent:[1,10];return[a[0],Math.max(b.getMaxDataCount()/a[1],a[1])]},b.zoom.updateScaleExtent=function(){var a=q(b.x.orgDomain())/q(b.orgXDomain),c=this.orgScaleExtent();return this.scaleExtent([c[0]*a,c[1]*a]),this}},f.updateZoom=function(){var a=this,b=a.config.zoom_enabled?a.zoom:function(){};a.main.select("."+i.zoomRect).call(b).on("dblclick.zoom",null),a.main.selectAll("."+i.eventRect).call(b).on("dblclick.zoom",null)},f.redrawForZoom=function(){var a=this,b=a.d3,c=a.config,d=a.zoom,e=a.x;if(c.zoom_enabled&&0!==a.filterTargetsToShow(a.data.targets).length){if("mousemove"===b.event.sourceEvent.type&&d.altDomain)return e.domain(d.altDomain),void d.scale(e).updateScaleExtent();a.isCategorized()&&e.orgDomain()[0]===a.orgXDomain[0]&&e.domain([a.orgXDomain[0]-1e-10,e.orgDomain()[1]]),a.redraw({withTransition:!1,withY:c.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===b.event.sourceEvent.type&&(a.cancelClick=!0),c.zoom_onzoom.call(a.api,e.orgDomain())}},f.generateColor=function(){var a=this,b=a.config,c=a.d3,d=b.data_colors,e=s(b.color_pattern)?b.color_pattern:c.scale.category10().range(),f=b.data_color,g=[];return function(a){var b,c=a.id||a.data&&a.data.id||a;return d[c]instanceof Function?b=d[c](a):d[c]?b=d[c]:(g.indexOf(c)<0&&g.push(c),b=e[g.indexOf(c)%e.length],d[c]=b),f instanceof Function?f(b,a):b}},f.generateLevelColor=function(){var a=this,b=a.config,c=b.color_pattern,d=b.color_threshold,e="value"===d.unit,f=d.values&&d.values.length?d.values:[],g=d.max||100;return s(b.color_threshold)?function(a){var b,d,h=c[c.length-1];for(b=0;b<f.length;b++)if(d=e?a:100*a/g,d<f[b]){h=c[b];break}return h}:null},f.getYFormat=function(a){var b=this,c=a&&!b.hasType("gauge")?b.defaultArcValueFormat:b.yFormat,d=a&&!b.hasType("gauge")?b.defaultArcValueFormat:b.y2Format;return function(a,e,f){var g="y2"===b.getAxisId(f)?d:c;return g.call(b,a,e)}},f.yFormat=function(a){var b=this,c=b.config,d=c.axis_y_tick_format?c.axis_y_tick_format:b.defaultValueFormat;return d(a)},f.y2Format=function(a){var b=this,c=b.config,d=c.axis_y2_tick_format?c.axis_y2_tick_format:b.defaultValueFormat;return d(a)},f.defaultValueFormat=function(a){return j(a)?+a:""},f.defaultArcValueFormat=function(a,b){return(100*b).toFixed(1)+"%"},f.dataLabelFormat=function(a){var b,c=this,d=c.config.data_labels,e=function(a){return j(a)?+a:""};return b="function"==typeof d.format?d.format:"object"==typeof d.format?d.format[a]?d.format[a]===!0?e:d.format[a]:function(){return""}:e},f.hasCaches=function(a){for(var b=0;b<a.length;b++)if(!(a[b]in this.cache))return!1;return!0},f.addCache=function(a,b){this.cache[a]=this.cloneTarget(b)},f.getCaches=function(a){var b,c=[];for(b=0;b<a.length;b++)a[b]in this.cache&&c.push(this.cloneTarget(this.cache[a[b]]));return c};var i=f.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};f.generateClass=function(a,b){return" "+a+" "+a+this.getTargetSelectorSuffix(b)},f.classText=function(a){return this.generateClass(i.text,a.index)},f.classTexts=function(a){return this.generateClass(i.texts,a.id)},f.classShape=function(a){return this.generateClass(i.shape,a.index)},f.classShapes=function(a){return this.generateClass(i.shapes,a.id)},f.classLine=function(a){return this.classShape(a)+this.generateClass(i.line,a.id)},f.classLines=function(a){return this.classShapes(a)+this.generateClass(i.lines,a.id)},f.classCircle=function(a){return this.classShape(a)+this.generateClass(i.circle,a.index)},f.classCircles=function(a){return this.classShapes(a)+this.generateClass(i.circles,a.id)},f.classBar=function(a){return this.classShape(a)+this.generateClass(i.bar,a.index)},f.classBars=function(a){return this.classShapes(a)+this.generateClass(i.bars,a.id)},f.classArc=function(a){return this.classShape(a.data)+this.generateClass(i.arc,a.data.id)},f.classArcs=function(a){return this.classShapes(a.data)+this.generateClass(i.arcs,a.data.id)},f.classArea=function(a){return this.classShape(a)+this.generateClass(i.area,a.id)},f.classAreas=function(a){return this.classShapes(a)+this.generateClass(i.areas,a.id)},f.classRegion=function(a,b){return this.generateClass(i.region,b)+" "+("class"in a?a["class"]:"")},f.classEvent=function(a){return this.generateClass(i.eventRect,a.index)},f.classTarget=function(a){var b=this,c=b.config.data_classes[a],d="";return c&&(d=" "+i.target+"-"+c),b.generateClass(i.target,a)+d},f.classFocus=function(a){return this.classFocused(a)+this.classDefocused(a)},f.classFocused=function(a){return" "+(this.focusedTargetIds.indexOf(a.id)>=0?i.focused:"")},f.classDefocused=function(a){return" "+(this.defocusedTargetIds.indexOf(a.id)>=0?i.defocused:"")},f.classChartText=function(a){return i.chartText+this.classTarget(a.id)},f.classChartLine=function(a){return i.chartLine+this.classTarget(a.id)},f.classChartBar=function(a){return i.chartBar+this.classTarget(a.id)},f.classChartArc=function(a){return i.chartArc+this.classTarget(a.data.id)},f.getTargetSelectorSuffix=function(a){return a||0===a?("-"+a).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},f.selectorTarget=function(a,b){return(b||"")+"."+i.target+this.getTargetSelectorSuffix(a)},f.selectorTargets=function(a,b){var c=this;return a=a||[],a.length?a.map(function(a){return c.selectorTarget(a,b)}):null},f.selectorLegend=function(a){return"."+i.legendItem+this.getTargetSelectorSuffix(a)},f.selectorLegends=function(a){var b=this;return a&&a.length?a.map(function(a){return b.selectorLegend(a)}):null};var j=f.isValue=function(a){return a||0===a},k=f.isFunction=function(a){return"function"==typeof a},l=f.isString=function(a){return"string"==typeof a},m=f.isUndefined=function(a){return"undefined"==typeof a},n=f.isDefined=function(a){return"undefined"!=typeof a},o=f.ceil10=function(a){return 10*Math.ceil(a/10)},p=f.asHalfPixel=function(a){return Math.ceil(a)+.5},q=f.diffDomain=function(a){return a[1]-a[0]},r=f.isEmpty=function(a){return!a||l(a)&&0===a.length||"object"==typeof a&&0===Object.keys(a).length},s=f.notEmpty=function(a){return Object.keys(a).length>0},t=f.getOption=function(a,b,c){return n(a[b])?a[b]:c},u=f.hasValue=function(a,b){var c=!1;return Object.keys(a).forEach(function(d){a[d]===b&&(c=!0)}),c},v=f.getPathBox=function(a){var b=a.getBoundingClientRect(),c=[a.pathSegList.getItem(0),a.pathSegList.getItem(1)],d=c[0].x,e=Math.min(c[0].y,c[1].y);return{x:d,y:e,width:b.width,height:b.height}};e.focus=function(a){var b,c=this.internal;a=c.mapToTargetIds(a),b=c.svg.selectAll(c.selectorTargets(a.filter(c.isTargetToShow,c))),this.revert(),this.defocus(),b.classed(i.focused,!0).classed(i.defocused,!1),c.hasArcType()&&c.expandArc(a),c.toggleFocusLegend(a,!0),c.focusedTargetIds=a,c.defocusedTargetIds=c.defocusedTargetIds.filter(function(b){return a.indexOf(b)<0})},e.defocus=function(a){var b,c=this.internal;a=c.mapToTargetIds(a),b=c.svg.selectAll(c.selectorTargets(a.filter(c.isTargetToShow,c))),this.revert(),b.classed(i.focused,!1).classed(i.defocused,!0),c.hasArcType()&&c.unexpandArc(a),c.toggleFocusLegend(a,!1),c.focusedTargetIds=c.focusedTargetIds.filter(function(b){return a.indexOf(b)<0}),c.defocusedTargetIds=a},e.revert=function(a){var b,c=this.internal;a=c.mapToTargetIds(a),b=c.svg.selectAll(c.selectorTargets(a)),b.classed(i.focused,!1).classed(i.defocused,!1),c.hasArcType()&&c.unexpandArc(a),c.config.legend_show&&c.showLegend(a.filter(c.isLegendToShow.bind(c))),c.focusedTargetIds=[],c.defocusedTargetIds=[]},e.show=function(a,b){var c,d=this.internal;a=d.mapToTargetIds(a),b=b||{},d.removeHiddenTargetIds(a),c=d.svg.selectAll(d.selectorTargets(a)),c.transition().style("opacity",1,"important").call(d.endall,function(){c.style("opacity",null).style("opacity",1)}),b.withLegend&&d.showLegend(a),d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},e.hide=function(a,b){var c,d=this.internal;a=d.mapToTargetIds(a),b=b||{},d.addHiddenTargetIds(a),c=d.svg.selectAll(d.selectorTargets(a)),c.transition().style("opacity",0,"important").call(d.endall,function(){c.style("opacity",null).style("opacity",0)}),b.withLegend&&d.hideLegend(a),d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},e.toggle=function(a,b){var c=this,d=this.internal;d.mapToTargetIds(a).forEach(function(a){d.isTargetToShow(a)?c.hide(a,b):c.show(a,b)})},e.zoom=function(a){var b=this.internal;return a&&(b.isTimeSeries()&&(a=a.map(function(a){return b.parseDate(a)})),b.brush.extent(a),b.redraw({withUpdateXDomain:!0,withY:b.config.zoom_rescale}),b.config.zoom_onzoom.call(this,b.x.orgDomain())),b.brush.extent()},e.zoom.enable=function(a){var b=this.internal;b.config.zoom_enabled=a,b.updateAndRedraw()},e.unzoom=function(){var a=this.internal;a.brush.clear().update(),a.redraw({withUpdateXDomain:!0})},e.load=function(a){var b=this.internal,c=b.config;return a.xs&&b.addXs(a.xs),"classes"in a&&Object.keys(a.classes).forEach(function(b){c.data_classes[b]=a.classes[b]}),"categories"in a&&b.isCategorized()&&(c.axis_x_categories=a.categories),"axes"in a&&Object.keys(a.axes).forEach(function(b){c.data_axes[b]=a.axes[b]}),"cacheIds"in a&&b.hasCaches(a.cacheIds)?void b.load(b.getCaches(a.cacheIds),a.done):void("unload"in a?b.unload(b.mapToTargetIds("boolean"==typeof a.unload&&a.unload?null:a.unload),function(){b.loadFromArgs(a)}):b.loadFromArgs(a))},e.unload=function(a){var b=this.internal;a=a||{},a instanceof Array?a={ids:a}:"string"==typeof a&&(a={ids:[a]}),b.unload(b.mapToTargetIds(a.ids),function(){b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),a.done&&a.done()})},e.flow=function(a){var b,c,d,e,f,g,h,i,k=this.internal,l=[],m=k.getMaxDataCount(),o=0,p=0;if(a.json)c=k.convertJsonToData(a.json,a.keys);else if(a.rows)c=k.convertRowsToData(a.rows);else{if(!a.columns)return;c=k.convertColumnsToData(a.columns)}b=k.convertDataToTargets(c,!0),k.data.targets.forEach(function(a){var c,d,e=!1;for(c=0;c<b.length;c++)if(a.id===b[c].id){for(e=!0,a.values[a.values.length-1]&&(p=a.values[a.values.length-1].index+1),o=b[c].values.length,d=0;o>d;d++)b[c].values[d].index=p+d,k.isTimeSeries()||(b[c].values[d].x=p+d);a.values=a.values.concat(b[c].values),b.splice(c,1);break}e||l.push(a.id)}),k.data.targets.forEach(function(a){var b,c;for(b=0;b<l.length;b++)if(a.id===l[b])for(p=a.values[a.values.length-1].index+1,c=0;o>c;c++)a.values.push({id:a.id,index:p+c,x:k.isTimeSeries()?k.getOtherTargetX(p+c):p+c,value:null})}),k.data.targets.length&&b.forEach(function(a){var b,c=[];for(b=k.data.targets[0].values[0].index;p>b;b++)c.push({id:a.id,index:b,x:k.isTimeSeries()?k.getOtherTargetX(b):b,value:null});a.values.forEach(function(a){a.index+=p,k.isTimeSeries()||(a.x+=p)}),a.values=c.concat(a.values)}),k.data.targets=k.data.targets.concat(b),d=k.getMaxDataCount(),f=k.data.targets[0],g=f.values[0],n(a.to)?(o=0,i=k.isTimeSeries()?k.parseDate(a.to):a.to,f.values.forEach(function(a){a.x<i&&o++})):n(a.length)&&(o=a.length),m?1===m&&k.isTimeSeries()&&(h=(f.values[f.values.length-1].x-g.x)/2,e=[new Date(+g.x-h),new Date(+g.x+h)],k.updateXDomain(null,!0,!0,!1,e)):(h=k.isTimeSeries()?f.values.length>1?f.values[f.values.length-1].x-g.x:g.x-k.getXDomain(k.data.targets)[0]:1,e=[g.x-h,g.x],k.updateXDomain(null,!0,!0,!1,e)),k.updateTargets(k.data.targets),k.redraw({flow:{index:g.index,length:o,duration:j(a.duration)?a.duration:k.config.transition_duration,done:a.done,orgDataCount:m},withLegend:!0,withTransition:m>1,withTrimXDomain:!1,withUpdateXAxis:!0})},f.generateFlow=function(a){var b=this,c=b.config,d=b.d3;return function(){var e,f,g,h=a.targets,j=a.flow,k=a.drawBar,l=a.drawLine,m=a.drawArea,n=a.cx,o=a.cy,p=a.xv,r=a.xForText,s=a.yForText,t=a.duration,u=1,v=j.index,w=j.length,x=b.getValueOnIndex(b.data.targets[0].values,v),y=b.getValueOnIndex(b.data.targets[0].values,v+w),z=b.x.domain(),A=j.duration||t,B=j.done||function(){},C=b.generateWait(),D=b.xgrid||d.selectAll([]),E=b.xgridLines||d.selectAll([]),F=b.mainRegion||d.selectAll([]),G=b.mainText||d.selectAll([]),H=b.mainBar||d.selectAll([]),I=b.mainLine||d.selectAll([]),J=b.mainArea||d.selectAll([]),K=b.mainCircle||d.selectAll([]);b.flowing=!0,b.data.targets.forEach(function(a){a.values.splice(0,w)}),g=b.updateXDomain(h,!0,!0),b.updateXGrid&&b.updateXGrid(!0),j.orgDataCount?e=1===j.orgDataCount||x.x===y.x?b.x(z[0])-b.x(g[0]):b.isTimeSeries()?b.x(z[0])-b.x(g[0]):b.x(x.x)-b.x(y.x):1!==b.data.targets[0].values.length?e=b.x(z[0])-b.x(g[0]):b.isTimeSeries()?(x=b.getValueOnIndex(b.data.targets[0].values,0),y=b.getValueOnIndex(b.data.targets[0].values,b.data.targets[0].values.length-1),e=b.x(x.x)-b.x(y.x)):e=q(g)/2,u=q(z)/q(g),f="translate("+e+",0) scale("+u+",1)",b.hideXGridFocus(),b.hideTooltip(),d.transition().ease("linear").duration(A).each(function(){C.add(b.axes.x.transition().call(b.xAxis)),C.add(H.transition().attr("transform",f)),C.add(I.transition().attr("transform",f)),C.add(J.transition().attr("transform",f)),C.add(K.transition().attr("transform",f)),C.add(G.transition().attr("transform",f)),C.add(F.filter(b.isRegionOnX).transition().attr("transform",f)),C.add(D.transition().attr("transform",f)),C.add(E.transition().attr("transform",f))}).call(C,function(){var a,d=[],e=[],f=[];if(w){for(a=0;w>a;a++)d.push("."+i.shape+"-"+(v+a)),e.push("."+i.text+"-"+(v+a)),f.push("."+i.eventRect+"-"+(v+a));b.svg.selectAll("."+i.shapes).selectAll(d).remove(),b.svg.selectAll("."+i.texts).selectAll(e).remove(),b.svg.selectAll("."+i.eventRects).selectAll(f).remove(),b.svg.select("."+i.xgrid).remove()}D.attr("transform",null).attr(b.xgridAttr),E.attr("transform",null),E.select("line").attr("x1",c.axis_rotated?0:p).attr("x2",c.axis_rotated?b.width:p),E.select("text").attr("x",c.axis_rotated?b.width:0).attr("y",p),H.attr("transform",null).attr("d",k),I.attr("transform",null).attr("d",l),J.attr("transform",null).attr("d",m),K.attr("transform",null).attr("cx",n).attr("cy",o),G.attr("transform",null).attr("x",r).attr("y",s).style("fill-opacity",b.opacityForText.bind(b)),F.attr("transform",null),F.select("rect").filter(b.isRegionOnX).attr("x",b.regionX.bind(b)).attr("width",b.regionWidth.bind(b)),c.interaction_enabled&&b.redrawEventRect(),B(),b.flowing=!1})}},e.selected=function(a){var b=this.internal,c=b.d3;return c.merge(b.main.selectAll("."+i.shapes+b.getTargetSelectorSuffix(a)).selectAll("."+i.shape).filter(function(){return c.select(this).classed(i.SELECTED)}).map(function(a){return a.map(function(a){var b=a.__data__;return b.data?b.data:b})}))},e.select=function(a,b,c){var d=this.internal,e=d.d3,f=d.config;f.data_selection_enabled&&d.main.selectAll("."+i.shapes).selectAll("."+i.shape).each(function(g,h){var j=e.select(this),k=g.data?g.data.id:g.id,l=d.getToggle(this,g).bind(d),m=f.data_selection_grouped||!a||a.indexOf(k)>=0,o=!b||b.indexOf(h)>=0,p=j.classed(i.SELECTED);
j.classed(i.line)||j.classed(i.area)||(m&&o?f.data_selection_isselectable(g)&&!p&&l(!0,j.classed(i.SELECTED,!0),g,h):n(c)&&c&&p&&l(!1,j.classed(i.SELECTED,!1),g,h))})},e.unselect=function(a,b){var c=this.internal,d=c.d3,e=c.config;e.data_selection_enabled&&c.main.selectAll("."+i.shapes).selectAll("."+i.shape).each(function(f,g){var h=d.select(this),j=f.data?f.data.id:f.id,k=c.getToggle(this,f).bind(c),l=e.data_selection_grouped||!a||a.indexOf(j)>=0,m=!b||b.indexOf(g)>=0,n=h.classed(i.SELECTED);h.classed(i.line)||h.classed(i.area)||l&&m&&e.data_selection_isselectable(f)&&n&&k(!1,h.classed(i.SELECTED,!1),f,g)})},e.transform=function(a,b){var c=this.internal,d=["pie","donut"].indexOf(a)>=0?{withTransform:!0}:null;c.transformTo(b,a,d)},f.transformTo=function(a,b,c){var d=this,e=!d.hasArcType(),f=c||{withTransitionForAxis:e};f.withTransitionForTransform=!1,d.transiting=!1,d.setTargetType(a,b),d.updateTargets(d.data.targets),d.updateAndRedraw(f)},e.groups=function(a){var b=this.internal,c=b.config;return m(a)?c.data_groups:(c.data_groups=a,b.redraw(),c.data_groups)},e.xgrids=function(a){var b=this.internal,c=b.config;return a?(c.grid_x_lines=a,b.redrawWithoutRescale(),c.grid_x_lines):c.grid_x_lines},e.xgrids.add=function(a){var b=this.internal;return this.xgrids(b.config.grid_x_lines.concat(a?a:[]))},e.xgrids.remove=function(a){var b=this.internal;b.removeGridLines(a,!0)},e.ygrids=function(a){var b=this.internal,c=b.config;return a?(c.grid_y_lines=a,b.redrawWithoutRescale(),c.grid_y_lines):c.grid_y_lines},e.ygrids.add=function(a){var b=this.internal;return this.ygrids(b.config.grid_y_lines.concat(a?a:[]))},e.ygrids.remove=function(a){var b=this.internal;b.removeGridLines(a,!1)},e.regions=function(a){var b=this.internal,c=b.config;return a?(c.regions=a,b.redrawWithoutRescale(),c.regions):c.regions},e.regions.add=function(a){var b=this.internal,c=b.config;return a?(c.regions=c.regions.concat(a),b.redrawWithoutRescale(),c.regions):c.regions},e.regions.remove=function(a){var b,c,d,e=this.internal,f=e.config;return a=a||{},b=e.getOption(a,"duration",f.transition_duration),c=e.getOption(a,"classes",[i.region]),d=e.main.select("."+i.regions).selectAll(c.map(function(a){return"."+a})),(b?d.transition().duration(b):d).style("opacity",0).remove(),f.regions=f.regions.filter(function(a){var b=!1;return a["class"]?(a["class"].split(" ").forEach(function(a){c.indexOf(a)>=0&&(b=!0)}),!b):!0}),f.regions},e.data=function(a){var b=this.internal.data.targets;return"undefined"==typeof a?b:b.filter(function(b){return[].concat(a).indexOf(b.id)>=0})},e.data.shown=function(a){return this.internal.filterTargetsToShow(this.data(a))},e.data.values=function(a){var b,c=null;return a&&(b=this.data(a),c=b[0]?b[0].values.map(function(a){return a.value}):null),c},e.data.names=function(a){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",a)},e.data.colors=function(a){return this.internal.updateDataAttributes("colors",a)},e.data.axes=function(a){return this.internal.updateDataAttributes("axes",a)},e.category=function(a,b){var c=this.internal,d=c.config;return arguments.length>1&&(d.axis_x_categories[a]=b,c.redraw()),d.axis_x_categories[a]},e.categories=function(a){var b=this.internal,c=b.config;return arguments.length?(c.axis_x_categories=a,b.redraw(),c.axis_x_categories):c.axis_x_categories},e.color=function(a){var b=this.internal;return b.color(a)},e.x=function(a){var b=this.internal;return arguments.length&&(b.updateTargetX(b.data.targets,a),b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),b.data.xs},e.xs=function(a){var b=this.internal;return arguments.length&&(b.updateTargetXs(b.data.targets,a),b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),b.data.xs},e.axis=function(){},e.axis.labels=function(a){var b=this.internal;arguments.length&&(Object.keys(a).forEach(function(c){b.setAxisLabelText(c,a[c])}),b.updateAxisLabels())},e.axis.max=function(a){var b=this.internal,c=b.config;return arguments.length?("object"==typeof a?(j(a.x)&&(c.axis_x_max=a.x),j(a.y)&&(c.axis_y_max=a.y),j(a.y2)&&(c.axis_y2_max=a.y2)):c.axis_y_max=c.axis_y2_max=a,void b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:c.axis_x_max,y:c.axis_y_max,y2:c.axis_y2_max}},e.axis.min=function(a){var b=this.internal,c=b.config;return arguments.length?("object"==typeof a?(j(a.x)&&(c.axis_x_min=a.x),j(a.y)&&(c.axis_y_min=a.y),j(a.y2)&&(c.axis_y2_min=a.y2)):c.axis_y_min=c.axis_y2_min=a,void b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:c.axis_x_min,y:c.axis_y_min,y2:c.axis_y2_min}},e.axis.range=function(a){return arguments.length?(n(a.max)&&this.axis.max(a.max),void(n(a.min)&&this.axis.min(a.min))):{max:this.axis.max(),min:this.axis.min()}},e.legend=function(){},e.legend.show=function(a){var b=this.internal;b.showLegend(b.mapToTargetIds(a)),b.updateAndRedraw({withLegend:!0})},e.legend.hide=function(a){var b=this.internal;b.hideLegend(b.mapToTargetIds(a)),b.updateAndRedraw({withLegend:!0})},e.resize=function(a){var b=this.internal,c=b.config;c.size_width=a?a.width:null,c.size_height=a?a.height:null,this.flush()},e.flush=function(){var a=this.internal;a.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},e.destroy=function(){var b=this.internal;return a.clearInterval(b.intervalForObserveInserted),a.onresize=null,b.selectChart.classed("c3",!1).html(""),Object.keys(b).forEach(function(a){b[a]=null}),null},e.tooltip=function(){},e.tooltip.show=function(a){var b,c,d=this.internal;a.mouse&&(c=a.mouse),a.data?d.isMultipleX()?(c=[d.x(a.data.x),d.getYScale(a.data.id)(a.data.value)],b=null):b=j(a.data.index)?a.data.index:d.getIndexByX(a.data.x):"undefined"!=typeof a.x?b=d.getIndexByX(a.x):"undefined"!=typeof a.index&&(b=a.index),d.dispatchEvent("mouseover",b,c),d.dispatchEvent("mousemove",b,c)},e.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0)};var w;Function.prototype.bind=Function.prototype.bind||function(a){var b=this;return function(){return b.apply(a,arguments)}},"function"==typeof define&&define.amd?define("c3",["d3"],g):"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=g:a.c3=g}(window);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJjMy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXt2YXIgYj10aGlzLmludGVybmFsPW5ldyBjKHRoaXMpO2IubG9hZENvbmZpZyhhKSxiLmluaXQoKSxmdW5jdGlvbiBkKGEsYixjKXtPYmplY3Qua2V5cyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2JbZV09YVtlXS5iaW5kKGMpLE9iamVjdC5rZXlzKGFbZV0pLmxlbmd0aD4wJiZkKGFbZV0sYltlXSxjKX0pfShlLHRoaXMsdGhpcyl9ZnVuY3Rpb24gYyhiKXt2YXIgYz10aGlzO2MuZDM9YS5kMz9hLmQzOlwidW5kZWZpbmVkXCIhPXR5cGVvZiByZXF1aXJlP3JlcXVpcmUoXCJkM1wiKTp2b2lkIDAsYy5hcGk9YixjLmNvbmZpZz1jLmdldERlZmF1bHRDb25maWcoKSxjLmRhdGE9e30sYy5jYWNoZT17fSxjLmF4ZXM9e319ZnVuY3Rpb24gZChhLGIpe2Z1bmN0aW9uIGMoYSxiKXthLmF0dHIoXCJ0cmFuc2Zvcm1cIixmdW5jdGlvbihhKXtyZXR1cm5cInRyYW5zbGF0ZShcIitNYXRoLmNlaWwoYihhKSt0KStcIiwgMClcIn0pfWZ1bmN0aW9uIGQoYSxiKXthLmF0dHIoXCJ0cmFuc2Zvcm1cIixmdW5jdGlvbihhKXtyZXR1cm5cInRyYW5zbGF0ZSgwLFwiK01hdGguY2VpbChiKGEpKStcIilcIn0pfWZ1bmN0aW9uIGUoYSl7dmFyIGI9YVswXSxjPWFbYS5sZW5ndGgtMV07cmV0dXJuIGM+Yj9bYixjXTpbYyxiXX1mdW5jdGlvbiBmKGEpe3ZhciBiLGMsZD1bXTtpZihhLnRpY2tzKXJldHVybiBhLnRpY2tzLmFwcGx5KGEsbSk7Zm9yKGM9YS5kb21haW4oKSxiPU1hdGguY2VpbChjWzBdKTtiPGNbMV07YisrKWQucHVzaChiKTtyZXR1cm4gZC5sZW5ndGg+MCYmZFswXT4wJiZkLnVuc2hpZnQoZFswXS0oZFsxXS1kWzBdKSksZH1mdW5jdGlvbiBnKCl7dmFyIGEsYz1vLmNvcHkoKTtyZXR1cm4gYi5pc0NhdGVnb3J5JiYoYT1vLmRvbWFpbigpLGMuZG9tYWluKFthWzBdLGFbMV0tMV0pKSxjfWZ1bmN0aW9uIGgoYSl7cmV0dXJuIGw/bChhKTphfWZ1bmN0aW9uIGkoYSl7aWYodylyZXR1cm4gdzt2YXIgYj17aDoxMS41LHc6NS41fTtyZXR1cm4gYS5zZWxlY3QoXCJ0ZXh0XCIpLnRleHQoaCkuZWFjaChmdW5jdGlvbihhKXt2YXIgYz10aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGQ9aChhKSxlPWMuaGVpZ2h0LGY9ZD9jLndpZHRoL2QubGVuZ3RoOnZvaWQgMDtlJiZmJiYoYi5oPWUsYi53PWYpfSkudGV4dChcIlwiKSx3PWIsYn1mdW5jdGlvbiBqKGope2ouZWFjaChmdW5jdGlvbigpe2Z1bmN0aW9uIGooYSxjKXtmdW5jdGlvbiBkKGEsYil7Zj12b2lkIDA7Zm9yKHZhciBoPTE7aDxiLmxlbmd0aDtoKyspaWYoXCIgXCI9PT1iLmNoYXJBdChoKSYmKGY9aCksZT1iLnN1YnN0cigwLGgrMSksZz1PLncqZS5sZW5ndGgsZz5jKXJldHVybiBkKGEuY29uY2F0KGIuc3Vic3RyKDAsZj9mOmgpKSxiLnNsaWNlKGY/ZisxOmgpKTtyZXR1cm4gYS5jb25jYXQoYil9dmFyIGUsZixnLGk9aChhKSxqPVtdO3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpKT9pOigoIWN8fDA+PWMpJiYoYz1SPzk1OmIuaXNDYXRlZ29yeT9NYXRoLmNlaWwoeihBWzFdKS16KEFbMF0pKS0xMjoxMTApLGQoaixpK1wiXCIpKX1mdW5jdGlvbiBsKGEsYil7dmFyIGM9Ty5oO3JldHVybiAwPT09YiYmKGM9XCJsZWZ0XCI9PT1wfHxcInJpZ2h0XCI9PT1wPy0oKFBbYS5pbmRleF0tMSkqKE8uaC8yKS0zKTpcIi43MWVtXCIpLGN9ZnVuY3Rpb24gbShhKXt2YXIgYj1vKGEpKyhuPzA6dCk7cmV0dXJuIEZbMF08YiYmYjxGWzFdP3E6MH12YXIgdSx2LHcseD1hLnNlbGVjdCh0aGlzKSx5PXRoaXMuX19jaGFydF9ffHxvLHo9dGhpcy5fX2NoYXJ0X189ZygpLEE9cz9zOmYoeiksQj14LnNlbGVjdEFsbChcIi50aWNrXCIpLmRhdGEoQSx6KSxDPUIuZW50ZXIoKS5pbnNlcnQoXCJnXCIsXCIuZG9tYWluXCIpLmF0dHIoXCJjbGFzc1wiLFwidGlja1wiKS5zdHlsZShcIm9wYWNpdHlcIiwxZS02KSxEPUIuZXhpdCgpLnJlbW92ZSgpLEU9YS50cmFuc2l0aW9uKEIpLnN0eWxlKFwib3BhY2l0eVwiLDEpLEY9by5yYW5nZUV4dGVudD9vLnJhbmdlRXh0ZW50KCk6ZShvLnJhbmdlKCkpLEc9eC5zZWxlY3RBbGwoXCIuZG9tYWluXCIpLmRhdGEoWzBdKSxIPShHLmVudGVyKCkuYXBwZW5kKFwicGF0aFwiKS5hdHRyKFwiY2xhc3NcIixcImRvbWFpblwiKSxhLnRyYW5zaXRpb24oRykpO0MuYXBwZW5kKFwibGluZVwiKSxDLmFwcGVuZChcInRleHRcIik7dmFyIEk9Qy5zZWxlY3QoXCJsaW5lXCIpLEo9RS5zZWxlY3QoXCJsaW5lXCIpLEs9Qy5zZWxlY3QoXCJ0ZXh0XCIpLEw9RS5zZWxlY3QoXCJ0ZXh0XCIpO2IuaXNDYXRlZ29yeT8odD1NYXRoLmNlaWwoKHooMSkteigwKSkvMiksdj1uPzA6dCx3PW4/dDowKTp0PXY9MDt2YXIgTSxOLE89aSh4LnNlbGVjdChcIi50aWNrXCIpKSxQPVtdLFE9TWF0aC5tYXgocSwwKStyLFI9XCJsZWZ0XCI9PT1wfHxcInJpZ2h0XCI9PT1wO3N3aXRjaChNPUIuc2VsZWN0KFwidGV4dFwiKSxOPU0uc2VsZWN0QWxsKFwidHNwYW5cIikuZGF0YShmdW5jdGlvbihhLGMpe3ZhciBkPWIudGlja011bHRpbGluZT9qKGEsYi50aWNrV2lkdGgpOltdLmNvbmNhdChoKGEpKTtyZXR1cm4gUFtjXT1kLmxlbmd0aCxkLm1hcChmdW5jdGlvbihhKXtyZXR1cm57aW5kZXg6YyxzcGxpdHRlZDphfX0pfSksTi5lbnRlcigpLmFwcGVuZChcInRzcGFuXCIpLE4uZXhpdCgpLnJlbW92ZSgpLE4udGV4dChmdW5jdGlvbihhKXtyZXR1cm4gYS5zcGxpdHRlZH0pLHApe2Nhc2VcImJvdHRvbVwiOnU9YyxJLmF0dHIoXCJ5MlwiLHEpLEsuYXR0cihcInlcIixRKSxKLmF0dHIoXCJ4MVwiLHYpLmF0dHIoXCJ4MlwiLHYpLmF0dHIoXCJ5MlwiLG0pLEwuYXR0cihcInhcIiwwKS5hdHRyKFwieVwiLFEpLE0uc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLFwibWlkZGxlXCIpLE4uYXR0cihcInhcIiwwKS5hdHRyKFwiZHlcIixsKSxILmF0dHIoXCJkXCIsXCJNXCIrRlswXStcIixcIitrK1wiVjBIXCIrRlsxXStcIlZcIitrKTticmVhaztjYXNlXCJ0b3BcIjp1PWMsSS5hdHRyKFwieTJcIiwtcSksSy5hdHRyKFwieVwiLC1RKSxKLmF0dHIoXCJ4MlwiLDApLmF0dHIoXCJ5MlwiLC1xKSxMLmF0dHIoXCJ4XCIsMCkuYXR0cihcInlcIiwtUSksTS5zdHlsZShcInRleHQtYW5jaG9yXCIsXCJtaWRkbGVcIiksTi5hdHRyKFwieFwiLDApLmF0dHIoXCJkeVwiLFwiMGVtXCIpLEguYXR0cihcImRcIixcIk1cIitGWzBdK1wiLFwiKy1rK1wiVjBIXCIrRlsxXStcIlZcIistayk7YnJlYWs7Y2FzZVwibGVmdFwiOnU9ZCxJLmF0dHIoXCJ4MlwiLC1xKSxLLmF0dHIoXCJ4XCIsLVEpLEouYXR0cihcIngyXCIsLXEpLmF0dHIoXCJ5MVwiLHcpLmF0dHIoXCJ5MlwiLHcpLEwuYXR0cihcInhcIiwtUSkuYXR0cihcInlcIix0KSxNLnN0eWxlKFwidGV4dC1hbmNob3JcIixcImVuZFwiKSxOLmF0dHIoXCJ4XCIsLVEpLmF0dHIoXCJkeVwiLGwpLEguYXR0cihcImRcIixcIk1cIistaytcIixcIitGWzBdK1wiSDBWXCIrRlsxXStcIkhcIistayk7YnJlYWs7Y2FzZVwicmlnaHRcIjp1PWQsSS5hdHRyKFwieDJcIixxKSxLLmF0dHIoXCJ4XCIsUSksSi5hdHRyKFwieDJcIixxKS5hdHRyKFwieTJcIiwwKSxMLmF0dHIoXCJ4XCIsUSkuYXR0cihcInlcIiwwKSxNLnN0eWxlKFwidGV4dC1hbmNob3JcIixcInN0YXJ0XCIpLE4uYXR0cihcInhcIixRKS5hdHRyKFwiZHlcIixsKSxILmF0dHIoXCJkXCIsXCJNXCIraytcIixcIitGWzBdK1wiSDBWXCIrRlsxXStcIkhcIitrKX1pZih6LnJhbmdlQmFuZCl7dmFyIFM9eixUPVMucmFuZ2VCYW5kKCkvMjt5PXo9ZnVuY3Rpb24oYSl7cmV0dXJuIFMoYSkrVH19ZWxzZSB5LnJhbmdlQmFuZD95PXo6RC5jYWxsKHUseik7Qy5jYWxsKHUseSksRS5jYWxsKHUseil9KX12YXIgayxsLG0sbixvPWEuc2NhbGUubGluZWFyKCkscD1cImJvdHRvbVwiLHE9NixyPTMscz1udWxsLHQ9MCx1PSEwO3JldHVybiBiPWJ8fHt9LGs9Yi53aXRoT3V0ZXJUaWNrPzY6MCxqLnNjYWxlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvPWEsaik6b30sai5vcmllbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHA9YSBpbnt0b3A6MSxyaWdodDoxLGJvdHRvbToxLGxlZnQ6MX0/YStcIlwiOlwiYm90dG9tXCIsaik6cH0sai50aWNrRm9ybWF0PWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsPWEsaik6bH0sai50aWNrQ2VudGVyZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49YSxqKTpufSxqLnRpY2tPZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdH0sai50aWNrcz1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhtPWFyZ3VtZW50cyxqKTptfSxqLnRpY2tDdWxsaW5nPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PWEsaik6dX0sai50aWNrVmFsdWVzPWZ1bmN0aW9uKGEpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGEpcz1mdW5jdGlvbigpe3JldHVybiBhKG8uZG9tYWluKCkpfTtlbHNle2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiBzO3M9YX1yZXR1cm4gan0san12YXIgZSxmLGc9e3ZlcnNpb246XCIwLjQuOVwifTtnLmdlbmVyYXRlPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgYihhKX0sZy5jaGFydD17Zm46Yi5wcm90b3R5cGUsaW50ZXJuYWw6e2ZuOmMucHJvdG90eXBlfX0sZT1nLmNoYXJ0LmZuLGY9Zy5jaGFydC5pbnRlcm5hbC5mbixmLmluaXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25maWc7aWYoYS5pbml0UGFyYW1zKCksYi5kYXRhX3VybClhLmNvbnZlcnRVcmxUb0RhdGEoYi5kYXRhX3VybCxiLmRhdGFfbWltZVR5cGUsYi5kYXRhX2tleXMsYS5pbml0V2l0aERhdGEpO2Vsc2UgaWYoYi5kYXRhX2pzb24pYS5pbml0V2l0aERhdGEoYS5jb252ZXJ0SnNvblRvRGF0YShiLmRhdGFfanNvbixiLmRhdGFfa2V5cykpO2Vsc2UgaWYoYi5kYXRhX3Jvd3MpYS5pbml0V2l0aERhdGEoYS5jb252ZXJ0Um93c1RvRGF0YShiLmRhdGFfcm93cykpO2Vsc2V7aWYoIWIuZGF0YV9jb2x1bW5zKXRocm93IEVycm9yKFwidXJsIG9yIGpzb24gb3Igcm93cyBvciBjb2x1bW5zIGlzIHJlcXVpcmVkLlwiKTthLmluaXRXaXRoRGF0YShhLmNvbnZlcnRDb2x1bW5zVG9EYXRhKGIuZGF0YV9jb2x1bW5zKSl9fSxmLmluaXRQYXJhbXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5kMyxjPWEuY29uZmlnO2EuY2xpcElkPVwiYzMtXCIrICtuZXcgRGF0ZStcIi1jbGlwXCIsYS5jbGlwSWRGb3JYQXhpcz1hLmNsaXBJZCtcIi14YXhpc1wiLGEuY2xpcElkRm9yWUF4aXM9YS5jbGlwSWQrXCIteWF4aXNcIixhLmNsaXBJZEZvckdyaWQ9YS5jbGlwSWQrXCItZ3JpZFwiLGEuY2xpcElkRm9yU3ViY2hhcnQ9YS5jbGlwSWQrXCItc3ViY2hhcnRcIixhLmNsaXBQYXRoPWEuZ2V0Q2xpcFBhdGgoYS5jbGlwSWQpLGEuY2xpcFBhdGhGb3JYQXhpcz1hLmdldENsaXBQYXRoKGEuY2xpcElkRm9yWEF4aXMpLGEuY2xpcFBhdGhGb3JZQXhpcz1hLmdldENsaXBQYXRoKGEuY2xpcElkRm9yWUF4aXMpLGEuY2xpcFBhdGhGb3JHcmlkPWEuZ2V0Q2xpcFBhdGgoYS5jbGlwSWRGb3JHcmlkKSxhLmNsaXBQYXRoRm9yU3ViY2hhcnQ9YS5nZXRDbGlwUGF0aChhLmNsaXBJZEZvclN1YmNoYXJ0KSxhLmRyYWdTdGFydD1udWxsLGEuZHJhZ2dpbmc9ITEsYS5mbG93aW5nPSExLGEuY2FuY2VsQ2xpY2s9ITEsYS5tb3VzZW92ZXI9ITEsYS50cmFuc2l0aW5nPSExLGEuY29sb3I9YS5nZW5lcmF0ZUNvbG9yKCksYS5sZXZlbENvbG9yPWEuZ2VuZXJhdGVMZXZlbENvbG9yKCksYS5kYXRhVGltZUZvcm1hdD1jLmRhdGFfeExvY2FsdGltZT9iLnRpbWUuZm9ybWF0OmIudGltZS5mb3JtYXQudXRjLGEuYXhpc1RpbWVGb3JtYXQ9Yy5heGlzX3hfbG9jYWx0aW1lP2IudGltZS5mb3JtYXQ6Yi50aW1lLmZvcm1hdC51dGMsYS5kZWZhdWx0QXhpc1RpbWVGb3JtYXQ9YS5heGlzVGltZUZvcm1hdC5tdWx0aShbW1wiLiVMXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0TWlsbGlzZWNvbmRzKCl9XSxbXCI6JVNcIixmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRTZWNvbmRzKCl9XSxbXCIlSTolTVwiLGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldE1pbnV0ZXMoKX1dLFtcIiVJICVwXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0SG91cnMoKX1dLFtcIiUtbS8lLWRcIixmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXREYXkoKSYmMSE9PWEuZ2V0RGF0ZSgpfV0sW1wiJS1tLyUtZFwiLGZ1bmN0aW9uKGEpe3JldHVybiAxIT09YS5nZXREYXRlKCl9XSxbXCIlLW0vJS1kXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0TW9udGgoKX1dLFtcIiVZLyUtbS8lLWRcIixmdW5jdGlvbigpe3JldHVybiEwfV1dKSxhLmhpZGRlblRhcmdldElkcz1bXSxhLmhpZGRlbkxlZ2VuZElkcz1bXSxhLmZvY3VzZWRUYXJnZXRJZHM9W10sYS5kZWZvY3VzZWRUYXJnZXRJZHM9W10sYS54T3JpZW50PWMuYXhpc19yb3RhdGVkP1wibGVmdFwiOlwiYm90dG9tXCIsYS55T3JpZW50PWMuYXhpc19yb3RhdGVkP2MuYXhpc195X2lubmVyP1widG9wXCI6XCJib3R0b21cIjpjLmF4aXNfeV9pbm5lcj9cInJpZ2h0XCI6XCJsZWZ0XCIsYS55Mk9yaWVudD1jLmF4aXNfcm90YXRlZD9jLmF4aXNfeTJfaW5uZXI/XCJib3R0b21cIjpcInRvcFwiOmMuYXhpc195Ml9pbm5lcj9cImxlZnRcIjpcInJpZ2h0XCIsYS5zdWJYT3JpZW50PWMuYXhpc19yb3RhdGVkP1wibGVmdFwiOlwiYm90dG9tXCIsYS5pc0xlZ2VuZFJpZ2h0PVwicmlnaHRcIj09PWMubGVnZW5kX3Bvc2l0aW9uLGEuaXNMZWdlbmRJbnNldD1cImluc2V0XCI9PT1jLmxlZ2VuZF9wb3NpdGlvbixhLmlzTGVnZW5kVG9wPVwidG9wLWxlZnRcIj09PWMubGVnZW5kX2luc2V0X2FuY2hvcnx8XCJ0b3AtcmlnaHRcIj09PWMubGVnZW5kX2luc2V0X2FuY2hvcixhLmlzTGVnZW5kTGVmdD1cInRvcC1sZWZ0XCI9PT1jLmxlZ2VuZF9pbnNldF9hbmNob3J8fFwiYm90dG9tLWxlZnRcIj09PWMubGVnZW5kX2luc2V0X2FuY2hvcixhLmxlZ2VuZFN0ZXA9MCxhLmxlZ2VuZEl0ZW1XaWR0aD0wLGEubGVnZW5kSXRlbUhlaWdodD0wLGEuY3VycmVudE1heFRpY2tXaWR0aHM9e3g6MCx5OjAseTI6MH0sYS5yb3RhdGVkX3BhZGRpbmdfbGVmdD0zMCxhLnJvdGF0ZWRfcGFkZGluZ19yaWdodD1jLmF4aXNfcm90YXRlZCYmIWMuYXhpc194X3Nob3c/MDozMCxhLnJvdGF0ZWRfcGFkZGluZ190b3A9NSxhLndpdGhvdXRGYWRlSW49e30sYS5pbnRlcnZhbEZvck9ic2VydmVJbnNlcnRlZD12b2lkIDAsYS5heGVzLnN1Yng9Yi5zZWxlY3RBbGwoW10pfSxmLmluaXRDaGFydEVsZW1lbnRzPWZ1bmN0aW9uKCl7dGhpcy5pbml0QmFyJiZ0aGlzLmluaXRCYXIoKSx0aGlzLmluaXRMaW5lJiZ0aGlzLmluaXRMaW5lKCksdGhpcy5pbml0QXJjJiZ0aGlzLmluaXRBcmMoKSx0aGlzLmluaXRHYXVnZSYmdGhpcy5pbml0R2F1Z2UoKSx0aGlzLmluaXRUZXh0JiZ0aGlzLmluaXRUZXh0KCl9LGYuaW5pdFdpdGhEYXRhPWZ1bmN0aW9uKGIpe3ZhciBjLGQsZT10aGlzLGY9ZS5kMyxnPWUuY29uZmlnLGg9ITA7ZS5pbml0UGllJiZlLmluaXRQaWUoKSxlLmluaXRCcnVzaCYmZS5pbml0QnJ1c2goKSxlLmluaXRab29tJiZlLmluaXRab29tKCksZS5zZWxlY3RDaGFydD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBnLmJpbmR0by5ub2RlP2cuYmluZHRvOmYuc2VsZWN0KGcuYmluZHRvKSxlLnNlbGVjdENoYXJ0LmVtcHR5KCkmJihlLnNlbGVjdENoYXJ0PWYuc2VsZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLnN0eWxlKFwib3BhY2l0eVwiLDApLGUub2JzZXJ2ZUluc2VydGVkKGUuc2VsZWN0Q2hhcnQpLGg9ITEpLGUuc2VsZWN0Q2hhcnQuaHRtbChcIlwiKS5jbGFzc2VkKFwiYzNcIiwhMCksZS5kYXRhLnhzPXt9LGUuZGF0YS50YXJnZXRzPWUuY29udmVydERhdGFUb1RhcmdldHMoYiksZy5kYXRhX2ZpbHRlciYmKGUuZGF0YS50YXJnZXRzPWUuZGF0YS50YXJnZXRzLmZpbHRlcihnLmRhdGFfZmlsdGVyKSksZy5kYXRhX2hpZGUmJmUuYWRkSGlkZGVuVGFyZ2V0SWRzKGcuZGF0YV9oaWRlPT09ITA/ZS5tYXBUb0lkcyhlLmRhdGEudGFyZ2V0cyk6Zy5kYXRhX2hpZGUpLGcubGVnZW5kX2hpZGUmJmUuYWRkSGlkZGVuTGVnZW5kSWRzKGcubGVnZW5kX2hpZGU9PT0hMD9lLm1hcFRvSWRzKGUuZGF0YS50YXJnZXRzKTpnLmxlZ2VuZF9oaWRlKSxlLmhhc1R5cGUoXCJnYXVnZVwiKSYmKGcubGVnZW5kX3Nob3c9ITEpLGUudXBkYXRlU2l6ZXMoKSxlLnVwZGF0ZVNjYWxlcygpLGUueC5kb21haW4oZi5leHRlbnQoZS5nZXRYRG9tYWluKGUuZGF0YS50YXJnZXRzKSkpLGUueS5kb21haW4oZS5nZXRZRG9tYWluKGUuZGF0YS50YXJnZXRzLFwieVwiKSksZS55Mi5kb21haW4oZS5nZXRZRG9tYWluKGUuZGF0YS50YXJnZXRzLFwieTJcIikpLGUuc3ViWC5kb21haW4oZS54LmRvbWFpbigpKSxlLnN1YlkuZG9tYWluKGUueS5kb21haW4oKSksZS5zdWJZMi5kb21haW4oZS55Mi5kb21haW4oKSksZS5vcmdYRG9tYWluPWUueC5kb21haW4oKSxlLmJydXNoJiZlLmJydXNoLnNjYWxlKGUuc3ViWCksZy56b29tX2VuYWJsZWQmJmUuem9vbS5zY2FsZShlLngpLGUuc3ZnPWUuc2VsZWN0Q2hhcnQuYXBwZW5kKFwic3ZnXCIpLnN0eWxlKFwib3ZlcmZsb3dcIixcImhpZGRlblwiKS5vbihcIm1vdXNlZW50ZXJcIixmdW5jdGlvbigpe3JldHVybiBnLm9ubW91c2VvdmVyLmNhbGwoZSl9KS5vbihcIm1vdXNlbGVhdmVcIixmdW5jdGlvbigpe3JldHVybiBnLm9ubW91c2VvdXQuY2FsbChlKX0pLGM9ZS5zdmcuYXBwZW5kKFwiZGVmc1wiKSxlLmNsaXBDaGFydD1lLmFwcGVuZENsaXAoYyxlLmNsaXBJZCksZS5jbGlwWEF4aXM9ZS5hcHBlbmRDbGlwKGMsZS5jbGlwSWRGb3JYQXhpcyksZS5jbGlwWUF4aXM9ZS5hcHBlbmRDbGlwKGMsZS5jbGlwSWRGb3JZQXhpcyksZS5jbGlwR3JpZD1lLmFwcGVuZENsaXAoYyxlLmNsaXBJZEZvckdyaWQpLGUuY2xpcFN1YmNoYXJ0PWUuYXBwZW5kQ2xpcChjLGUuY2xpcElkRm9yU3ViY2hhcnQpLGUudXBkYXRlU3ZnU2l6ZSgpLGQ9ZS5tYWluPWUuc3ZnLmFwcGVuZChcImdcIikuYXR0cihcInRyYW5zZm9ybVwiLGUuZ2V0VHJhbnNsYXRlKFwibWFpblwiKSksZS5pbml0U3ViY2hhcnQmJmUuaW5pdFN1YmNoYXJ0KCksZS5pbml0VG9vbHRpcCYmZS5pbml0VG9vbHRpcCgpLGUuaW5pdExlZ2VuZCYmZS5pbml0TGVnZW5kKCksZC5hcHBlbmQoXCJ0ZXh0XCIpLmF0dHIoXCJjbGFzc1wiLGkudGV4dCtcIiBcIitpLmVtcHR5KS5hdHRyKFwidGV4dC1hbmNob3JcIixcIm1pZGRsZVwiKS5hdHRyKFwiZG9taW5hbnQtYmFzZWxpbmVcIixcIm1pZGRsZVwiKSxlLmluaXRSZWdpb24oKSxlLmluaXRHcmlkKCksZC5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGlwLXBhdGhcIixlLmNsaXBQYXRoKS5hdHRyKFwiY2xhc3NcIixpLmNoYXJ0KSxnLmdyaWRfbGluZXNfZnJvbnQmJmUuaW5pdEdyaWRMaW5lcygpLGUuaW5pdEV2ZW50UmVjdCgpLGUuaW5pdENoYXJ0RWxlbWVudHMoKSxkLmluc2VydChcInJlY3RcIixnLnpvb21fcHJpdmlsZWdlZD9udWxsOlwiZy5cIitpLnJlZ2lvbnMpLmF0dHIoXCJjbGFzc1wiLGkuem9vbVJlY3QpLmF0dHIoXCJ3aWR0aFwiLGUud2lkdGgpLmF0dHIoXCJoZWlnaHRcIixlLmhlaWdodCkuc3R5bGUoXCJvcGFjaXR5XCIsMCkub24oXCJkYmxjbGljay56b29tXCIsbnVsbCksZy5heGlzX3hfZXh0ZW50JiZlLmJydXNoLmV4dGVudChlLmdldERlZmF1bHRFeHRlbnQoKSksZS5pbml0QXhpcygpLGUudXBkYXRlVGFyZ2V0cyhlLmRhdGEudGFyZ2V0cyksaCYmKGUudXBkYXRlRGltZW5zaW9uKCksZS5jb25maWcub25pbml0LmNhbGwoZSksZS5yZWRyYXcoe3dpdGhUcmFuc2Zvcm06ITAsd2l0aFVwZGF0ZVhEb21haW46ITAsd2l0aFVwZGF0ZU9yZ1hEb21haW46ITAsd2l0aFRyYW5zaXRpb25Gb3JBeGlzOiExfSkpLG51bGw9PWEub25yZXNpemUmJihhLm9ucmVzaXplPWUuZ2VuZXJhdGVSZXNpemUoKSksYS5vbnJlc2l6ZS5hZGQmJihhLm9ucmVzaXplLmFkZChmdW5jdGlvbigpe2cub25yZXNpemUuY2FsbChlKX0pLGEub25yZXNpemUuYWRkKGZ1bmN0aW9uKCl7ZS5hcGkuZmx1c2goKX0pLGEub25yZXNpemUuYWRkKGZ1bmN0aW9uKCl7Zy5vbnJlc2l6ZWQuY2FsbChlKX0pKSxlLmFwaS5lbGVtZW50PWUuc2VsZWN0Q2hhcnQubm9kZSgpfSxmLnNtb290aExpbmVzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztcImdyaWRcIj09PWImJmEuZWFjaChmdW5jdGlvbigpe3ZhciBhPWMuZDMuc2VsZWN0KHRoaXMpLGI9YS5hdHRyKFwieDFcIiksZD1hLmF0dHIoXCJ4MlwiKSxlPWEuYXR0cihcInkxXCIpLGY9YS5hdHRyKFwieTJcIik7YS5hdHRyKHt4MTpNYXRoLmNlaWwoYikseDI6TWF0aC5jZWlsKGQpLHkxOk1hdGguY2VpbChlKSx5MjpNYXRoLmNlaWwoZil9KX0pfSxmLnVwZGF0ZVNpemVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnLGM9YS5sZWdlbmQ/YS5nZXRMZWdlbmRIZWlnaHQoKTowLGQ9YS5sZWdlbmQ/YS5nZXRMZWdlbmRXaWR0aCgpOjAsZT1hLmlzTGVnZW5kUmlnaHR8fGEuaXNMZWdlbmRJbnNldD8wOmMsZj1hLmhhc0FyY1R5cGUoKSxnPWIuYXhpc19yb3RhdGVkfHxmPzA6YS5nZXRIb3Jpem9udGFsQXhpc0hlaWdodChcInhcIiksaD1iLnN1YmNoYXJ0X3Nob3cmJiFmP2Iuc3ViY2hhcnRfc2l6ZV9oZWlnaHQrZzowO2EuY3VycmVudFdpZHRoPWEuZ2V0Q3VycmVudFdpZHRoKCksYS5jdXJyZW50SGVpZ2h0PWEuZ2V0Q3VycmVudEhlaWdodCgpLGEubWFyZ2luPWIuYXhpc19yb3RhdGVkP3t0b3A6YS5nZXRIb3Jpem9udGFsQXhpc0hlaWdodChcInkyXCIpK2EuZ2V0Q3VycmVudFBhZGRpbmdUb3AoKSxyaWdodDpmPzA6YS5nZXRDdXJyZW50UGFkZGluZ1JpZ2h0KCksYm90dG9tOmEuZ2V0SG9yaXpvbnRhbEF4aXNIZWlnaHQoXCJ5XCIpK2UrYS5nZXRDdXJyZW50UGFkZGluZ0JvdHRvbSgpLGxlZnQ6aCsoZj8wOmEuZ2V0Q3VycmVudFBhZGRpbmdMZWZ0KCkpfTp7dG9wOjQrYS5nZXRDdXJyZW50UGFkZGluZ1RvcCgpLHJpZ2h0OmY/MDphLmdldEN1cnJlbnRQYWRkaW5nUmlnaHQoKSxib3R0b206ZytoK2UrYS5nZXRDdXJyZW50UGFkZGluZ0JvdHRvbSgpLGxlZnQ6Zj8wOmEuZ2V0Q3VycmVudFBhZGRpbmdMZWZ0KCl9LGEubWFyZ2luMj1iLmF4aXNfcm90YXRlZD97dG9wOmEubWFyZ2luLnRvcCxyaWdodDowLzAsYm90dG9tOjIwK2UsbGVmdDphLnJvdGF0ZWRfcGFkZGluZ19sZWZ0fTp7dG9wOmEuY3VycmVudEhlaWdodC1oLWUscmlnaHQ6MC8wLGJvdHRvbTpnK2UsbGVmdDphLm1hcmdpbi5sZWZ0fSxhLm1hcmdpbjM9e3RvcDowLHJpZ2h0OjAvMCxib3R0b206MCxsZWZ0OjB9LGEudXBkYXRlU2l6ZUZvckxlZ2VuZCYmYS51cGRhdGVTaXplRm9yTGVnZW5kKGMsZCksYS53aWR0aD1hLmN1cnJlbnRXaWR0aC1hLm1hcmdpbi5sZWZ0LWEubWFyZ2luLnJpZ2h0LGEuaGVpZ2h0PWEuY3VycmVudEhlaWdodC1hLm1hcmdpbi50b3AtYS5tYXJnaW4uYm90dG9tLGEud2lkdGg8MCYmKGEud2lkdGg9MCksYS5oZWlnaHQ8MCYmKGEuaGVpZ2h0PTApLGEud2lkdGgyPWIuYXhpc19yb3RhdGVkP2EubWFyZ2luLmxlZnQtYS5yb3RhdGVkX3BhZGRpbmdfbGVmdC1hLnJvdGF0ZWRfcGFkZGluZ19yaWdodDphLndpZHRoLGEuaGVpZ2h0Mj1iLmF4aXNfcm90YXRlZD9hLmhlaWdodDphLmN1cnJlbnRIZWlnaHQtYS5tYXJnaW4yLnRvcC1hLm1hcmdpbjIuYm90dG9tLGEud2lkdGgyPDAmJihhLndpZHRoMj0wKSxhLmhlaWdodDI8MCYmKGEuaGVpZ2h0Mj0wKSxhLmFyY1dpZHRoPWEud2lkdGgtKGEuaXNMZWdlbmRSaWdodD9kKzEwOjApLGEuYXJjSGVpZ2h0PWEuaGVpZ2h0LShhLmlzTGVnZW5kUmlnaHQ/MDoxMCksYS5oYXNUeXBlKFwiZ2F1Z2VcIikmJihhLmFyY0hlaWdodCs9YS5oZWlnaHQtYS5nZXRHYXVnZUxhYmVsSGVpZ2h0KCkpLGEudXBkYXRlUmFkaXVzJiZhLnVwZGF0ZVJhZGl1cygpLGEuaXNMZWdlbmRSaWdodCYmZiYmKGEubWFyZ2luMy5sZWZ0PWEuYXJjV2lkdGgvMisxLjEqYS5yYWRpdXNFeHBhbmRlZCl9LGYudXBkYXRlVGFyZ2V0cz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2IudXBkYXRlVGFyZ2V0c0ZvclRleHQoYSksYi51cGRhdGVUYXJnZXRzRm9yQmFyKGEpLGIudXBkYXRlVGFyZ2V0c0ZvckxpbmUoYSksYi5oYXNBcmNUeXBlKCkmJmIudXBkYXRlVGFyZ2V0c0ZvckFyYyYmYi51cGRhdGVUYXJnZXRzRm9yQXJjKGEpLGIudXBkYXRlVGFyZ2V0c0ZvclN1YmNoYXJ0JiZiLnVwZGF0ZVRhcmdldHNGb3JTdWJjaGFydChhKSxiLnNob3dUYXJnZXRzKCl9LGYuc2hvd1RhcmdldHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2Euc3ZnLnNlbGVjdEFsbChcIi5cIitpLnRhcmdldCkuZmlsdGVyKGZ1bmN0aW9uKGIpe3JldHVybiBhLmlzVGFyZ2V0VG9TaG93KGIuaWQpfSkudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEuY29uZmlnLnRyYW5zaXRpb25fZHVyYXRpb24pLnN0eWxlKFwib3BhY2l0eVwiLDEpfSxmLnJlZHJhdz1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGcsaCxqLGssbCxtLG4sbyxwLHEscixzLHUsdix3LHgseSx6LEEsQixDLEQsRSxGLEcsSD10aGlzLEk9SC5tYWluLEo9SC5kMyxLPUguY29uZmlnLEw9SC5nZXRTaGFwZUluZGljZXMoSC5pc0FyZWFUeXBlKSxNPUguZ2V0U2hhcGVJbmRpY2VzKEguaXNCYXJUeXBlKSxOPUguZ2V0U2hhcGVJbmRpY2VzKEguaXNMaW5lVHlwZSksTz1ILmhhc0FyY1R5cGUoKSxQPUguZmlsdGVyVGFyZ2V0c1RvU2hvdyhILmRhdGEudGFyZ2V0cyksUT1ILnh2LmJpbmQoSCk7aWYoYT1hfHx7fSxjPXQoYSxcIndpdGhZXCIsITApLGQ9dChhLFwid2l0aFN1YmNoYXJ0XCIsITApLGU9dChhLFwid2l0aFRyYW5zaXRpb25cIiwhMCksaD10KGEsXCJ3aXRoVHJhbnNmb3JtXCIsITEpLGo9dChhLFwid2l0aFVwZGF0ZVhEb21haW5cIiwhMSksaz10KGEsXCJ3aXRoVXBkYXRlT3JnWERvbWFpblwiLCExKSxsPXQoYSxcIndpdGhUcmltWERvbWFpblwiLCEwKSxwPXQoYSxcIndpdGhVcGRhdGVYQXhpc1wiLGopLG09dChhLFwid2l0aExlZ2VuZFwiLCExKSxuPXQoYSxcIndpdGhFdmVudFJlY3RcIiwhMCksbz10KGEsXCJ3aXRoRGltZW5zaW9uXCIsITApLGY9dChhLFwid2l0aFRyYW5zaXRpb25Gb3JFeGl0XCIsZSksZz10KGEsXCJ3aXRoVHJhbnNpdGlvbkZvckF4aXNcIixlKSx3PWU/Sy50cmFuc2l0aW9uX2R1cmF0aW9uOjAseD1mP3c6MCx5PWc/dzowLGI9Ynx8SC5nZW5lcmF0ZUF4aXNUcmFuc2l0aW9ucyh5KSxtJiZLLmxlZ2VuZF9zaG93P0gudXBkYXRlTGVnZW5kKEgubWFwVG9JZHMoSC5kYXRhLnRhcmdldHMpLGEsYik6byYmSC51cGRhdGVEaW1lbnNpb24oITApLEguaXNDYXRlZ29yaXplZCgpJiYwPT09UC5sZW5ndGgmJkgueC5kb21haW4oWzAsSC5heGVzLnguc2VsZWN0QWxsKFwiLnRpY2tcIikuc2l6ZSgpXSksUC5sZW5ndGg/KEgudXBkYXRlWERvbWFpbihQLGosayxsKSxLLmF4aXNfeF90aWNrX3ZhbHVlc3x8KEI9SC51cGRhdGVYQXhpc1RpY2tWYWx1ZXMoUCkpKTooSC54QXhpcy50aWNrVmFsdWVzKFtdKSxILnN1YlhBeGlzLnRpY2tWYWx1ZXMoW10pKSxLLnpvb21fcmVzY2FsZSYmIWEuZmxvdyYmKEU9SC54Lm9yZ0RvbWFpbigpKSxILnkuZG9tYWluKEguZ2V0WURvbWFpbihQLFwieVwiLEUpKSxILnkyLmRvbWFpbihILmdldFlEb21haW4oUCxcInkyXCIsRSkpLCFLLmF4aXNfeV90aWNrX3ZhbHVlcyYmSy5heGlzX3lfdGlja19jb3VudCYmSC55QXhpcy50aWNrVmFsdWVzKEguZ2VuZXJhdGVUaWNrVmFsdWVzKEgueS5kb21haW4oKSxLLmF4aXNfeV90aWNrX2NvdW50KSksIUsuYXhpc195Ml90aWNrX3ZhbHVlcyYmSy5heGlzX3kyX3RpY2tfY291bnQmJkgueTJBeGlzLnRpY2tWYWx1ZXMoSC5nZW5lcmF0ZVRpY2tWYWx1ZXMoSC55Mi5kb21haW4oKSxLLmF4aXNfeTJfdGlja19jb3VudCkpLEgucmVkcmF3QXhpcyhiLE8pLEgudXBkYXRlQXhpc0xhYmVscyhlKSwoanx8cCkmJlAubGVuZ3RoKWlmKEsuYXhpc194X3RpY2tfY3VsbGluZyYmQil7Zm9yKEM9MTtDPEIubGVuZ3RoO0MrKylpZihCLmxlbmd0aC9DPEsuYXhpc194X3RpY2tfY3VsbGluZ19tYXgpe0Q9QzticmVha31ILnN2Zy5zZWxlY3RBbGwoXCIuXCIraS5heGlzWCtcIiAudGljayB0ZXh0XCIpLmVhY2goZnVuY3Rpb24oYSl7dmFyIGI9Qi5pbmRleE9mKGEpO2I+PTAmJkouc2VsZWN0KHRoaXMpLnN0eWxlKFwiZGlzcGxheVwiLGIlRD9cIm5vbmVcIjpcImJsb2NrXCIpfSl9ZWxzZSBILnN2Zy5zZWxlY3RBbGwoXCIuXCIraS5heGlzWCtcIiAudGljayB0ZXh0XCIpLnN0eWxlKFwiZGlzcGxheVwiLFwiYmxvY2tcIik7cT1ILmdlbmVyYXRlRHJhd0FyZWE/SC5nZW5lcmF0ZURyYXdBcmVhKEwsITEpOnZvaWQgMCxyPUguZ2VuZXJhdGVEcmF3QmFyP0guZ2VuZXJhdGVEcmF3QmFyKE0pOnZvaWQgMCxzPUguZ2VuZXJhdGVEcmF3TGluZT9ILmdlbmVyYXRlRHJhd0xpbmUoTiwhMSk6dm9pZCAwLHU9SC5nZW5lcmF0ZVhZRm9yVGV4dChMLE0sTiwhMCksdj1ILmdlbmVyYXRlWFlGb3JUZXh0KEwsTSxOLCExKSxjJiYoSC5zdWJZLmRvbWFpbihILmdldFlEb21haW4oUCxcInlcIikpLEguc3ViWTIuZG9tYWluKEguZ2V0WURvbWFpbihQLFwieTJcIikpKSxILnRvb2x0aXAuc3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpLEgudXBkYXRlWGdyaWRGb2N1cygpLEkuc2VsZWN0KFwidGV4dC5cIitpLnRleHQrXCIuXCIraS5lbXB0eSkuYXR0cihcInhcIixILndpZHRoLzIpLmF0dHIoXCJ5XCIsSC5oZWlnaHQvMikudGV4dChLLmRhdGFfZW1wdHlfbGFiZWxfdGV4dCkudHJhbnNpdGlvbigpLnN0eWxlKFwib3BhY2l0eVwiLFAubGVuZ3RoPzA6MSksSC51cGRhdGVHcmlkKHcpLEgudXBkYXRlUmVnaW9uKHcpLEgudXBkYXRlQmFyKHgpLEgudXBkYXRlTGluZSh4KSxILnVwZGF0ZUFyZWEoeCksSC51cGRhdGVDaXJjbGUoKSxILmhhc0RhdGFMYWJlbCgpJiZILnVwZGF0ZVRleHQoeCksSC5yZWRyYXdBcmMmJkgucmVkcmF3QXJjKHcseCxoKSxILnJlZHJhd1N1YmNoYXJ0JiZILnJlZHJhd1N1YmNoYXJ0KGQsYix3LHgsTCxNLE4pLEkuc2VsZWN0QWxsKFwiLlwiK2kuc2VsZWN0ZWRDaXJjbGVzKS5maWx0ZXIoSC5pc0JhclR5cGUuYmluZChIKSkuc2VsZWN0QWxsKFwiY2lyY2xlXCIpLnJlbW92ZSgpLEsuaW50ZXJhY3Rpb25fZW5hYmxlZCYmIWEuZmxvdyYmbiYmKEgucmVkcmF3RXZlbnRSZWN0KCksSC51cGRhdGVab29tJiZILnVwZGF0ZVpvb20oKSksSC51cGRhdGVDaXJjbGVZKCksRj0oSC5jb25maWcuYXhpc19yb3RhdGVkP0guY2lyY2xlWTpILmNpcmNsZVgpLmJpbmQoSCksRz0oSC5jb25maWcuYXhpc19yb3RhdGVkP0guY2lyY2xlWDpILmNpcmNsZVkpLmJpbmQoSCksYS5mbG93JiYoQT1ILmdlbmVyYXRlRmxvdyh7dGFyZ2V0czpQLGZsb3c6YS5mbG93LGR1cmF0aW9uOncsZHJhd0JhcjpyLGRyYXdMaW5lOnMsZHJhd0FyZWE6cSxjeDpGLGN5OkcseHY6USx4Rm9yVGV4dDp1LHlGb3JUZXh0OnZ9KSksdz9KLnRyYW5zaXRpb24oKS5kdXJhdGlvbih3KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9W107W0gucmVkcmF3QmFyKHIsITApLEgucmVkcmF3TGluZShzLCEwKSxILnJlZHJhd0FyZWEocSwhMCksSC5yZWRyYXdDaXJjbGUoRixHLCEwKSxILnJlZHJhd1RleHQodSx2LGEuZmxvdywhMCksSC5yZWRyYXdSZWdpb24oITApLEgucmVkcmF3R3JpZCghMCldLmZvckVhY2goZnVuY3Rpb24oYSl7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2IucHVzaChhKX0pfSksej1ILmdlbmVyYXRlV2FpdCgpLGIuZm9yRWFjaChmdW5jdGlvbihhKXt6LmFkZChhKX0pfSkuY2FsbCh6LGZ1bmN0aW9uKCl7QSYmQSgpLEsub25yZW5kZXJlZCYmSy5vbnJlbmRlcmVkLmNhbGwoSCl9KTooSC5yZWRyYXdCYXIociksSC5yZWRyYXdMaW5lKHMpLEgucmVkcmF3QXJlYShxKSxILnJlZHJhd0NpcmNsZShGLEcpLEsub25yZW5kZXJlZCYmSy5vbnJlbmRlcmVkLmNhbGwoSCkpLEgubWFwVG9JZHMoSC5kYXRhLnRhcmdldHMpLmZvckVhY2goZnVuY3Rpb24oYSl7SC53aXRob3V0RmFkZUluW2FdPSEwfSl9LGYudXBkYXRlQW5kUmVkcmF3PWZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcyxkPWMuY29uZmlnO2E9YXx8e30sYS53aXRoVHJhbnNpdGlvbj10KGEsXCJ3aXRoVHJhbnNpdGlvblwiLCEwKSxhLndpdGhUcmFuc2Zvcm09dChhLFwid2l0aFRyYW5zZm9ybVwiLCExKSxhLndpdGhMZWdlbmQ9dChhLFwid2l0aExlZ2VuZFwiLCExKSxhLndpdGhVcGRhdGVYRG9tYWluPSEwLGEud2l0aFVwZGF0ZU9yZ1hEb21haW49ITAsYS53aXRoVHJhbnNpdGlvbkZvckV4aXQ9ITEsYS53aXRoVHJhbnNpdGlvbkZvclRyYW5zZm9ybT10KGEsXCJ3aXRoVHJhbnNpdGlvbkZvclRyYW5zZm9ybVwiLGEud2l0aFRyYW5zaXRpb24pLGMudXBkYXRlU2l6ZXMoKSxhLndpdGhMZWdlbmQmJmQubGVnZW5kX3Nob3d8fChiPWMuZ2VuZXJhdGVBeGlzVHJhbnNpdGlvbnMoYS53aXRoVHJhbnNpdGlvbkZvckF4aXM/ZC50cmFuc2l0aW9uX2R1cmF0aW9uOjApLGMudXBkYXRlU2NhbGVzKCksYy51cGRhdGVTdmdTaXplKCksYy50cmFuc2Zvcm1BbGwoYS53aXRoVHJhbnNpdGlvbkZvclRyYW5zZm9ybSxiKSksYy5yZWRyYXcoYSxiKX0sZi5yZWRyYXdXaXRob3V0UmVzY2FsZT1mdW5jdGlvbigpe3RoaXMucmVkcmF3KHt3aXRoWTohMSx3aXRoU3ViY2hhcnQ6ITEsd2l0aEV2ZW50UmVjdDohMSx3aXRoVHJhbnNpdGlvbkZvckF4aXM6ITF9KX0sZi5pc1RpbWVTZXJpZXM9ZnVuY3Rpb24oKXtyZXR1cm5cInRpbWVzZXJpZXNcIj09PXRoaXMuY29uZmlnLmF4aXNfeF90eXBlfSxmLmlzQ2F0ZWdvcml6ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWcuYXhpc194X3R5cGUuaW5kZXhPZihcImNhdGVnb3JcIik+PTB9LGYuaXNDdXN0b21YPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnO3JldHVybiFhLmlzVGltZVNlcmllcygpJiYoYi5kYXRhX3h8fHMoYi5kYXRhX3hzKSl9LGYuaXNUaW1lU2VyaWVzWT1mdW5jdGlvbigpe3JldHVyblwidGltZXNlcmllc1wiPT09dGhpcy5jb25maWcuYXhpc195X3R5cGV9LGYuZ2V0VHJhbnNsYXRlPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD10aGlzLGU9ZC5jb25maWc7cmV0dXJuXCJtYWluXCI9PT1hPyhiPXAoZC5tYXJnaW4ubGVmdCksYz1wKGQubWFyZ2luLnRvcCkpOlwiY29udGV4dFwiPT09YT8oYj1wKGQubWFyZ2luMi5sZWZ0KSxjPXAoZC5tYXJnaW4yLnRvcCkpOlwibGVnZW5kXCI9PT1hPyhiPWQubWFyZ2luMy5sZWZ0LGM9ZC5tYXJnaW4zLnRvcCk6XCJ4XCI9PT1hPyhiPTAsYz1lLmF4aXNfcm90YXRlZD8wOmQuaGVpZ2h0KTpcInlcIj09PWE/KGI9MCxjPWUuYXhpc19yb3RhdGVkP2QuaGVpZ2h0OjApOlwieTJcIj09PWE/KGI9ZS5heGlzX3JvdGF0ZWQ/MDpkLndpZHRoLGM9ZS5heGlzX3JvdGF0ZWQ/MTowKTpcInN1YnhcIj09PWE/KGI9MCxjPWUuYXhpc19yb3RhdGVkPzA6ZC5oZWlnaHQyKTpcImFyY1wiPT09YSYmKGI9ZC5hcmNXaWR0aC8yLGM9ZC5hcmNIZWlnaHQvMiksXCJ0cmFuc2xhdGUoXCIrYitcIixcIitjK1wiKVwifSxmLmluaXRpYWxPcGFjaXR5PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT09YS52YWx1ZSYmdGhpcy53aXRob3V0RmFkZUluW2EuaWRdPzE6MH0sZi5pbml0aWFsT3BhY2l0eUZvckNpcmNsZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9PWEudmFsdWUmJnRoaXMud2l0aG91dEZhZGVJblthLmlkXT90aGlzLm9wYWNpdHlGb3JDaXJjbGUoYSk6MH0sZi5vcGFjaXR5Rm9yQ2lyY2xlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29uZmlnLnBvaW50X3Nob3c/MTowO3JldHVybiBqKGEudmFsdWUpP3RoaXMuaXNTY2F0dGVyVHlwZShhKT8uNTpiOjB9LGYub3BhY2l0eUZvclRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNEYXRhTGFiZWwoKT8xOjB9LGYueHg9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy54KGEueCk6bnVsbH0sZi54dj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9YS52YWx1ZTtyZXR1cm4gYi5pc1RpbWVTZXJpZXMoKT9jPWIucGFyc2VEYXRlKGEudmFsdWUpOmIuaXNDYXRlZ29yaXplZCgpJiZcInN0cmluZ1wiPT10eXBlb2YgYS52YWx1ZSYmKGM9Yi5jb25maWcuYXhpc194X2NhdGVnb3JpZXMuaW5kZXhPZihhLnZhbHVlKSksTWF0aC5jZWlsKGIueChjKSl9LGYueXY9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWEuYXhpcyYmXCJ5MlwiPT09YS5heGlzP2IueTI6Yi55O3JldHVybiBNYXRoLmNlaWwoYyhhLnZhbHVlKSl9LGYuc3VieHg9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5zdWJYKGEueCk6bnVsbH0sZi50cmFuc2Zvcm1NYWluPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpcztiJiZiLmF4aXNYP2M9Yi5heGlzWDooYz1mLm1haW4uc2VsZWN0KFwiLlwiK2kuYXhpc1gpLGEmJihjPWMudHJhbnNpdGlvbigpKSksYiYmYi5heGlzWT9kPWIuYXhpc1k6KGQ9Zi5tYWluLnNlbGVjdChcIi5cIitpLmF4aXNZKSxhJiYoZD1kLnRyYW5zaXRpb24oKSkpLGImJmIuYXhpc1kyP2U9Yi5heGlzWTI6KGU9Zi5tYWluLnNlbGVjdChcIi5cIitpLmF4aXNZMiksYSYmKGU9ZS50cmFuc2l0aW9uKCkpKSwoYT9mLm1haW4udHJhbnNpdGlvbigpOmYubWFpbikuYXR0cihcInRyYW5zZm9ybVwiLGYuZ2V0VHJhbnNsYXRlKFwibWFpblwiKSksYy5hdHRyKFwidHJhbnNmb3JtXCIsZi5nZXRUcmFuc2xhdGUoXCJ4XCIpKSxkLmF0dHIoXCJ0cmFuc2Zvcm1cIixmLmdldFRyYW5zbGF0ZShcInlcIikpLGUuYXR0cihcInRyYW5zZm9ybVwiLGYuZ2V0VHJhbnNsYXRlKFwieTJcIikpLGYubWFpbi5zZWxlY3QoXCIuXCIraS5jaGFydEFyY3MpLmF0dHIoXCJ0cmFuc2Zvcm1cIixmLmdldFRyYW5zbGF0ZShcImFyY1wiKSl9LGYudHJhbnNmb3JtQWxsPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztjLnRyYW5zZm9ybU1haW4oYSxiKSxjLmNvbmZpZy5zdWJjaGFydF9zaG93JiZjLnRyYW5zZm9ybUNvbnRleHQoYSxiKSxjLmxlZ2VuZCYmYy50cmFuc2Zvcm1MZWdlbmQoYSl9LGYudXBkYXRlU3ZnU2l6ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLnN2Zy5zZWxlY3QoXCIuYzMtYnJ1c2ggLmJhY2tncm91bmRcIik7YS5zdmcuYXR0cihcIndpZHRoXCIsYS5jdXJyZW50V2lkdGgpLmF0dHIoXCJoZWlnaHRcIixhLmN1cnJlbnRIZWlnaHQpLGEuc3ZnLnNlbGVjdEFsbChbXCIjXCIrYS5jbGlwSWQsXCIjXCIrYS5jbGlwSWRGb3JHcmlkXSkuc2VsZWN0KFwicmVjdFwiKS5hdHRyKFwid2lkdGhcIixhLndpZHRoKS5hdHRyKFwiaGVpZ2h0XCIsYS5oZWlnaHQpLGEuc3ZnLnNlbGVjdChcIiNcIithLmNsaXBJZEZvclhBeGlzKS5zZWxlY3QoXCJyZWN0XCIpLmF0dHIoXCJ4XCIsYS5nZXRYQXhpc0NsaXBYLmJpbmQoYSkpLmF0dHIoXCJ5XCIsYS5nZXRYQXhpc0NsaXBZLmJpbmQoYSkpLmF0dHIoXCJ3aWR0aFwiLGEuZ2V0WEF4aXNDbGlwV2lkdGguYmluZChhKSkuYXR0cihcImhlaWdodFwiLGEuZ2V0WEF4aXNDbGlwSGVpZ2h0LmJpbmQoYSkpLGEuc3ZnLnNlbGVjdChcIiNcIithLmNsaXBJZEZvcllBeGlzKS5zZWxlY3QoXCJyZWN0XCIpLmF0dHIoXCJ4XCIsYS5nZXRZQXhpc0NsaXBYLmJpbmQoYSkpLmF0dHIoXCJ5XCIsYS5nZXRZQXhpc0NsaXBZLmJpbmQoYSkpLmF0dHIoXCJ3aWR0aFwiLGEuZ2V0WUF4aXNDbGlwV2lkdGguYmluZChhKSkuYXR0cihcImhlaWdodFwiLGEuZ2V0WUF4aXNDbGlwSGVpZ2h0LmJpbmQoYSkpLGEuc3ZnLnNlbGVjdChcIiNcIithLmNsaXBJZEZvclN1YmNoYXJ0KS5zZWxlY3QoXCJyZWN0XCIpLmF0dHIoXCJ3aWR0aFwiLGEud2lkdGgpLmF0dHIoXCJoZWlnaHRcIixiLnNpemUoKT9iLmF0dHIoXCJoZWlnaHRcIik6MCksYS5zdmcuc2VsZWN0KFwiLlwiK2kuem9vbVJlY3QpLmF0dHIoXCJ3aWR0aFwiLGEud2lkdGgpLmF0dHIoXCJoZWlnaHRcIixhLmhlaWdodCksYS5zZWxlY3RDaGFydC5zdHlsZShcIm1heC1oZWlnaHRcIixhLmN1cnJlbnRIZWlnaHQrXCJweFwiKX0sZi51cGRhdGVEaW1lbnNpb249ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczthfHwoYi5jb25maWcuYXhpc19yb3RhdGVkPyhiLmF4ZXMueC5jYWxsKGIueEF4aXMpLGIuYXhlcy5zdWJ4LmNhbGwoYi5zdWJYQXhpcykpOihiLmF4ZXMueS5jYWxsKGIueUF4aXMpLGIuYXhlcy55Mi5jYWxsKGIueTJBeGlzKSkpLGIudXBkYXRlU2l6ZXMoKSxiLnVwZGF0ZVNjYWxlcygpLGIudXBkYXRlU3ZnU2l6ZSgpLGIudHJhbnNmb3JtQWxsKCExKX0sZi5vYnNlcnZlSW5zZXJ0ZWQ9ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkPW5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtcImNoaWxkTGlzdFwiPT09ZS50eXBlJiZlLnByZXZpb3VzU2libGluZyYmKGQuZGlzY29ubmVjdCgpLGMuaW50ZXJ2YWxGb3JPYnNlcnZlSW5zZXJ0ZWQ9YS5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2Iubm9kZSgpLnBhcmVudE5vZGUmJihhLmNsZWFySW50ZXJ2YWwoYy5pbnRlcnZhbEZvck9ic2VydmVJbnNlcnRlZCksYy51cGRhdGVEaW1lbnNpb24oKSxjLmNvbmZpZy5vbmluaXQuY2FsbChjKSxjLnJlZHJhdyh7d2l0aFRyYW5zZm9ybTohMCx3aXRoVXBkYXRlWERvbWFpbjohMCx3aXRoVXBkYXRlT3JnWERvbWFpbjohMCx3aXRoVHJhbnNpdGlvbjohMSx3aXRoVHJhbnNpdGlvbkZvclRyYW5zZm9ybTohMSx3aXRoTGVnZW5kOiEwfSksYi50cmFuc2l0aW9uKCkuc3R5bGUoXCJvcGFjaXR5XCIsMSkpfSwxMCkpfSl9KTtkLm9ic2VydmUoYi5ub2RlKCkse2F0dHJpYnV0ZXM6ITAsY2hpbGRMaXN0OiEwLGNoYXJhY3RlckRhdGE6ITB9KX0sZi5nZW5lcmF0ZVJlc2l6ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtiLmZvckVhY2goZnVuY3Rpb24oYSl7YSgpfSl9dmFyIGI9W107cmV0dXJuIGEuYWRkPWZ1bmN0aW9uKGEpe2IucHVzaChhKX0sYX0sZi5lbmRhbGw9ZnVuY3Rpb24oYSxiKXt2YXIgYz0wO2EuZWFjaChmdW5jdGlvbigpeysrY30pLmVhY2goXCJlbmRcIixmdW5jdGlvbigpey0tY3x8Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0sZi5nZW5lcmF0ZVdhaXQ9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt2YXIgYj0wO2EuZm9yRWFjaChmdW5jdGlvbihhKXtpZihhLmVtcHR5KCkpcmV0dXJuIHZvaWQoYis9MSk7dHJ5e2EudHJhbnNpdGlvbigpfWNhdGNoKGMpe2IrPTF9fSksYj09PWEubGVuZ3RoJiYoY2xlYXJJbnRlcnZhbChkKSxjJiZjKCkpfSwxMCl9O3JldHVybiBiLmFkZD1mdW5jdGlvbihiKXthLnB1c2goYil9LGJ9LGYucGFyc2VEYXRlPWZ1bmN0aW9uKGIpe3ZhciBjLGQ9dGhpcztyZXR1cm4gYz1iIGluc3RhbmNlb2YgRGF0ZT9iOlwibnVtYmVyXCIhPXR5cGVvZiBiJiZpc05hTihiKT9kLmRhdGFUaW1lRm9ybWF0KGQuY29uZmlnLmRhdGFfeEZvcm1hdCkucGFyc2UoYik6bmV3IERhdGUoK2IpLCghY3x8aXNOYU4oK2MpKSYmYS5jb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIHggJ1wiK2IrXCInIHRvIERhdGUgb2JqZWN0XCIpLGN9LGYuZ2V0RGVmYXVsdENvbmZpZz1mdW5jdGlvbigpe3ZhciBhPXtiaW5kdG86XCIjY2hhcnRcIixzaXplX3dpZHRoOnZvaWQgMCxzaXplX2hlaWdodDp2b2lkIDAscGFkZGluZ19sZWZ0OnZvaWQgMCxwYWRkaW5nX3JpZ2h0OnZvaWQgMCxwYWRkaW5nX3RvcDp2b2lkIDAscGFkZGluZ19ib3R0b206dm9pZCAwLHpvb21fZW5hYmxlZDohMSx6b29tX2V4dGVudDp2b2lkIDAsem9vbV9wcml2aWxlZ2VkOiExLHpvb21fcmVzY2FsZTohMSx6b29tX29uem9vbTpmdW5jdGlvbigpe30sem9vbV9vbnpvb21zdGFydDpmdW5jdGlvbigpe30sem9vbV9vbnpvb21lbmQ6ZnVuY3Rpb24oKXt9LGludGVyYWN0aW9uX2VuYWJsZWQ6ITAsb25tb3VzZW92ZXI6ZnVuY3Rpb24oKXt9LG9ubW91c2VvdXQ6ZnVuY3Rpb24oKXt9LG9ucmVzaXplOmZ1bmN0aW9uKCl7fSxvbnJlc2l6ZWQ6ZnVuY3Rpb24oKXt9LG9uaW5pdDpmdW5jdGlvbigpe30sb25yZW5kZXJlZDpmdW5jdGlvbigpe30sdHJhbnNpdGlvbl9kdXJhdGlvbjozNTAsZGF0YV94OnZvaWQgMCxkYXRhX3hzOnt9LGRhdGFfeEZvcm1hdDpcIiVZLSVtLSVkXCIsZGF0YV94TG9jYWx0aW1lOiEwLGRhdGFfeFNvcnQ6ITAsZGF0YV9pZENvbnZlcnRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYX0sZGF0YV9uYW1lczp7fSxkYXRhX2NsYXNzZXM6e30sZGF0YV9ncm91cHM6W10sZGF0YV9heGVzOnt9LGRhdGFfdHlwZTp2b2lkIDAsZGF0YV90eXBlczp7fSxkYXRhX2xhYmVsczp7fSxkYXRhX29yZGVyOlwiZGVzY1wiLGRhdGFfcmVnaW9uczp7fSxkYXRhX2NvbG9yOnZvaWQgMCxkYXRhX2NvbG9yczp7fSxkYXRhX2hpZGU6ITEsZGF0YV9maWx0ZXI6dm9pZCAwLGRhdGFfc2VsZWN0aW9uX2VuYWJsZWQ6ITEsZGF0YV9zZWxlY3Rpb25fZ3JvdXBlZDohMSxkYXRhX3NlbGVjdGlvbl9pc3NlbGVjdGFibGU6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZGF0YV9zZWxlY3Rpb25fbXVsdGlwbGU6ITAsZGF0YV9zZWxlY3Rpb25fZHJhZ2dhYmxlOiExLGRhdGFfb25jbGljazpmdW5jdGlvbigpe30sZGF0YV9vbm1vdXNlb3ZlcjpmdW5jdGlvbigpe30sZGF0YV9vbm1vdXNlb3V0OmZ1bmN0aW9uKCl7fSxkYXRhX29uc2VsZWN0ZWQ6ZnVuY3Rpb24oKXt9LGRhdGFfb251bnNlbGVjdGVkOmZ1bmN0aW9uKCl7fSxkYXRhX3VybDp2b2lkIDAsZGF0YV9qc29uOnZvaWQgMCxkYXRhX3Jvd3M6dm9pZCAwLGRhdGFfY29sdW1uczp2b2lkIDAsZGF0YV9taW1lVHlwZTp2b2lkIDAsZGF0YV9rZXlzOnZvaWQgMCxkYXRhX2VtcHR5X2xhYmVsX3RleHQ6XCJcIixzdWJjaGFydF9zaG93OiExLHN1YmNoYXJ0X3NpemVfaGVpZ2h0OjYwLHN1YmNoYXJ0X29uYnJ1c2g6ZnVuY3Rpb24oKXt9LGNvbG9yX3BhdHRlcm46W10sY29sb3JfdGhyZXNob2xkOnt9LGxlZ2VuZF9zaG93OiEwLGxlZ2VuZF9oaWRlOiExLGxlZ2VuZF9wb3NpdGlvbjpcImJvdHRvbVwiLGxlZ2VuZF9pbnNldF9hbmNob3I6XCJ0b3AtbGVmdFwiLGxlZ2VuZF9pbnNldF94OjEwLGxlZ2VuZF9pbnNldF95OjAsbGVnZW5kX2luc2V0X3N0ZXA6dm9pZCAwLGxlZ2VuZF9pdGVtX29uY2xpY2s6dm9pZCAwLGxlZ2VuZF9pdGVtX29ubW91c2VvdmVyOnZvaWQgMCxsZWdlbmRfaXRlbV9vbm1vdXNlb3V0OnZvaWQgMCxsZWdlbmRfZXF1YWxseTohMSxheGlzX3JvdGF0ZWQ6ITEsYXhpc194X3Nob3c6ITAsYXhpc194X3R5cGU6XCJpbmRleGVkXCIsYXhpc194X2xvY2FsdGltZTohMCxheGlzX3hfY2F0ZWdvcmllczpbXSxheGlzX3hfdGlja19jZW50ZXJlZDohMSxheGlzX3hfdGlja19mb3JtYXQ6dm9pZCAwLGF4aXNfeF90aWNrX2N1bGxpbmc6e30sYXhpc194X3RpY2tfY3VsbGluZ19tYXg6MTAsYXhpc194X3RpY2tfY291bnQ6dm9pZCAwLGF4aXNfeF90aWNrX2ZpdDohMCxheGlzX3hfdGlja192YWx1ZXM6bnVsbCxheGlzX3hfdGlja19yb3RhdGU6MCxheGlzX3hfdGlja19vdXRlcjohMCxheGlzX3hfdGlja19tdWx0aWxpbmU6ITAsYXhpc194X3RpY2tfd2lkdGg6bnVsbCxheGlzX3hfbWF4OnZvaWQgMCxheGlzX3hfbWluOnZvaWQgMCxheGlzX3hfcGFkZGluZzp7fSxheGlzX3hfaGVpZ2h0OnZvaWQgMCxheGlzX3hfZXh0ZW50OnZvaWQgMCxheGlzX3hfbGFiZWw6e30sYXhpc195X3Nob3c6ITAsYXhpc195X3R5cGU6dm9pZCAwLGF4aXNfeV9tYXg6dm9pZCAwLGF4aXNfeV9taW46dm9pZCAwLGF4aXNfeV9pbnZlcnRlZDohMSxheGlzX3lfY2VudGVyOnZvaWQgMCxheGlzX3lfaW5uZXI6dm9pZCAwLGF4aXNfeV9sYWJlbDp7fSxheGlzX3lfdGlja19mb3JtYXQ6dm9pZCAwLGF4aXNfeV90aWNrX291dGVyOiEwLGF4aXNfeV90aWNrX3ZhbHVlczpudWxsLGF4aXNfeV90aWNrX2NvdW50OnZvaWQgMCxheGlzX3lfdGlja190aW1lX3ZhbHVlOnZvaWQgMCxheGlzX3lfdGlja190aW1lX2ludGVydmFsOnZvaWQgMCxheGlzX3lfcGFkZGluZzp7fSxheGlzX3lfZGVmYXVsdDp2b2lkIDAsYXhpc195Ml9zaG93OiExLGF4aXNfeTJfbWF4OnZvaWQgMCxheGlzX3kyX21pbjp2b2lkIDAsYXhpc195Ml9pbnZlcnRlZDohMSxheGlzX3kyX2NlbnRlcjp2b2lkIDAsYXhpc195Ml9pbm5lcjp2b2lkIDAsYXhpc195Ml9sYWJlbDp7fSxheGlzX3kyX3RpY2tfZm9ybWF0OnZvaWQgMCxheGlzX3kyX3RpY2tfb3V0ZXI6ITAsYXhpc195Ml90aWNrX3ZhbHVlczpudWxsLGF4aXNfeTJfdGlja19jb3VudDp2b2lkIDAsYXhpc195Ml9wYWRkaW5nOnt9LGF4aXNfeTJfZGVmYXVsdDp2b2lkIDAsZ3JpZF94X3Nob3c6ITEsZ3JpZF94X3R5cGU6XCJ0aWNrXCIsZ3JpZF94X2xpbmVzOltdLGdyaWRfeV9zaG93OiExLGdyaWRfeV9saW5lczpbXSxncmlkX3lfdGlja3M6MTAsZ3JpZF9mb2N1c19zaG93OiEwLGdyaWRfbGluZXNfZnJvbnQ6ITAscG9pbnRfc2hvdzohMCxwb2ludF9yOjIuNSxwb2ludF9mb2N1c19leHBhbmRfZW5hYmxlZDohMCxwb2ludF9mb2N1c19leHBhbmRfcjp2b2lkIDAscG9pbnRfc2VsZWN0X3I6dm9pZCAwLGxpbmVfY29ubmVjdE51bGw6ITEsbGluZV9zdGVwX3R5cGU6XCJzdGVwXCIsYmFyX3dpZHRoOnZvaWQgMCxiYXJfd2lkdGhfcmF0aW86LjYsYmFyX3dpZHRoX21heDp2b2lkIDAsYmFyX3plcm9iYXNlZDohMCxhcmVhX3plcm9iYXNlZDohMCxwaWVfbGFiZWxfc2hvdzohMCxwaWVfbGFiZWxfZm9ybWF0OnZvaWQgMCxwaWVfbGFiZWxfdGhyZXNob2xkOi4wNSxwaWVfZXhwYW5kOiEwLGdhdWdlX2xhYmVsX3Nob3c6ITAsZ2F1Z2VfbGFiZWxfZm9ybWF0OnZvaWQgMCxnYXVnZV9leHBhbmQ6ITAsZ2F1Z2VfbWluOjAsZ2F1Z2VfbWF4OjEwMCxnYXVnZV91bml0czp2b2lkIDAsZ2F1Z2Vfd2lkdGg6dm9pZCAwLGRvbnV0X2xhYmVsX3Nob3c6ITAsZG9udXRfbGFiZWxfZm9ybWF0OnZvaWQgMCxkb251dF9sYWJlbF90aHJlc2hvbGQ6LjA1LGRvbnV0X3dpZHRoOnZvaWQgMCxkb251dF9leHBhbmQ6ITAsZG9udXRfdGl0bGU6XCJcIixyZWdpb25zOltdLHRvb2x0aXBfc2hvdzohMCx0b29sdGlwX2dyb3VwZWQ6ITAsdG9vbHRpcF9mb3JtYXRfdGl0bGU6dm9pZCAwLHRvb2x0aXBfZm9ybWF0X25hbWU6dm9pZCAwLHRvb2x0aXBfZm9ybWF0X3ZhbHVlOnZvaWQgMCx0b29sdGlwX3Bvc2l0aW9uOnZvaWQgMCx0b29sdGlwX2NvbnRlbnRzOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLmdldFRvb2x0aXBDb250ZW50P3RoaXMuZ2V0VG9vbHRpcENvbnRlbnQoYSxiLGMsZCk6XCJcIn0sdG9vbHRpcF9pbml0X3Nob3c6ITEsdG9vbHRpcF9pbml0X3g6MCx0b29sdGlwX2luaXRfcG9zaXRpb246e3RvcDpcIjBweFwiLGxlZnQ6XCI1MHB4XCJ9fTtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5hZGRpdGlvbmFsQ29uZmlnKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2FbYl09dGhpcy5hZGRpdGlvbmFsQ29uZmlnW2JdfSx0aGlzKSxhfSxmLmFkZGl0aW9uYWxDb25maWc9e30sZi5sb2FkQ29uZmlnPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXt2YXIgYT1kLnNoaWZ0KCk7cmV0dXJuIGEmJmMmJlwib2JqZWN0XCI9PXR5cGVvZiBjJiZhIGluIGM/KGM9Y1thXSxiKCkpOmE/dm9pZCAwOmN9dmFyIGMsZCxlLGY9dGhpcy5jb25maWc7T2JqZWN0LmtleXMoZikuZm9yRWFjaChmdW5jdGlvbihnKXtjPWEsZD1nLnNwbGl0KFwiX1wiKSxlPWIoKSxuKGUpJiYoZltnXT1lKX0pfSxmLmdldFNjYWxlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4oYz90aGlzLmQzLnRpbWUuc2NhbGUoKTp0aGlzLmQzLnNjYWxlLmxpbmVhcigpKS5yYW5nZShbYSxiXSl9LGYuZ2V0WD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmPXRoaXMsZz1mLmdldFNjYWxlKGEsYixmLmlzVGltZVNlcmllcygpKSxoPWM/Zy5kb21haW4oYyk6ZztmLmlzQ2F0ZWdvcml6ZWQoKT8oZD1kfHxmdW5jdGlvbigpe3JldHVybiAwfSxnPWZ1bmN0aW9uKGEsYil7dmFyIGM9aChhKStkKGEpO3JldHVybiBiP2M6TWF0aC5jZWlsKGMpfSk6Zz1mdW5jdGlvbihhLGIpe3ZhciBjPWgoYSk7cmV0dXJuIGI/YzpNYXRoLmNlaWwoYyl9O2ZvcihlIGluIGgpZ1tlXT1oW2VdO3JldHVybiBnLm9yZ0RvbWFpbj1mdW5jdGlvbigpe3JldHVybiBoLmRvbWFpbigpfSxmLmlzQ2F0ZWdvcml6ZWQoKSYmKGcuZG9tYWluPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhoLmRvbWFpbihhKSxnKTooYT10aGlzLm9yZ0RvbWFpbigpLFthWzBdLGFbMV0rMV0pfSksZ30sZi5nZXRZPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdldFNjYWxlKGEsYix0aGlzLmlzVGltZVNlcmllc1koKSk7cmV0dXJuIGMmJmQuZG9tYWluKGMpLGR9LGYuZ2V0WVNjYWxlPWZ1bmN0aW9uKGEpe3JldHVyblwieTJcIj09PXRoaXMuZ2V0QXhpc0lkKGEpP3RoaXMueTI6dGhpcy55fSxmLmdldFN1YllTY2FsZT1mdW5jdGlvbihhKXtyZXR1cm5cInkyXCI9PT10aGlzLmdldEF4aXNJZChhKT90aGlzLnN1YlkyOnRoaXMuc3ViWX0sZi51cGRhdGVTY2FsZXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25maWcsYz0hYS54O2EueE1pbj1iLmF4aXNfcm90YXRlZD8xOjAsYS54TWF4PWIuYXhpc19yb3RhdGVkP2EuaGVpZ2h0OmEud2lkdGgsYS55TWluPWIuYXhpc19yb3RhdGVkPzA6YS5oZWlnaHQsYS55TWF4PWIuYXhpc19yb3RhdGVkP2Eud2lkdGg6MSxhLnN1YlhNaW49YS54TWluLGEuc3ViWE1heD1hLnhNYXgsYS5zdWJZTWluPWIuYXhpc19yb3RhdGVkPzA6YS5oZWlnaHQyLGEuc3ViWU1heD1iLmF4aXNfcm90YXRlZD9hLndpZHRoMjoxLGEueD1hLmdldFgoYS54TWluLGEueE1heCxjP3ZvaWQgMDphLngub3JnRG9tYWluKCksZnVuY3Rpb24oKXtyZXR1cm4gYS54QXhpcy50aWNrT2Zmc2V0KCl9KSxhLnk9YS5nZXRZKGEueU1pbixhLnlNYXgsYz9iLmF4aXNfeV9kZWZhdWx0OmEueS5kb21haW4oKSksYS55Mj1hLmdldFkoYS55TWluLGEueU1heCxjP2IuYXhpc195Ml9kZWZhdWx0OmEueTIuZG9tYWluKCkpLGEuc3ViWD1hLmdldFgoYS54TWluLGEueE1heCxhLm9yZ1hEb21haW4sZnVuY3Rpb24oYil7cmV0dXJuIGIlMT8wOmEuc3ViWEF4aXMudGlja09mZnNldCgpfSksYS5zdWJZPWEuZ2V0WShhLnN1YllNaW4sYS5zdWJZTWF4LGM/Yi5heGlzX3lfZGVmYXVsdDphLnN1YlkuZG9tYWluKCkpLGEuc3ViWTI9YS5nZXRZKGEuc3ViWU1pbixhLnN1YllNYXgsYz9iLmF4aXNfeTJfZGVmYXVsdDphLnN1YlkyLmRvbWFpbigpKSxhLnhBeGlzVGlja0Zvcm1hdD1hLmdldFhBeGlzVGlja0Zvcm1hdCgpLGEueEF4aXNUaWNrVmFsdWVzPWEuZ2V0WEF4aXNUaWNrVmFsdWVzKCksYS55QXhpc1RpY2tWYWx1ZXM9YS5nZXRZQXhpc1RpY2tWYWx1ZXMoKSxhLnkyQXhpc1RpY2tWYWx1ZXM9YS5nZXRZMkF4aXNUaWNrVmFsdWVzKCksYS54QXhpcz1hLmdldFhBeGlzKGEueCxhLnhPcmllbnQsYS54QXhpc1RpY2tGb3JtYXQsYS54QXhpc1RpY2tWYWx1ZXMsYi5heGlzX3hfdGlja19vdXRlciksYS5zdWJYQXhpcz1hLmdldFhBeGlzKGEuc3ViWCxhLnN1YlhPcmllbnQsYS54QXhpc1RpY2tGb3JtYXQsYS54QXhpc1RpY2tWYWx1ZXMsYi5heGlzX3hfdGlja19vdXRlciksYS55QXhpcz1hLmdldFlBeGlzKGEueSxhLnlPcmllbnQsYi5heGlzX3lfdGlja19mb3JtYXQsYS55QXhpc1RpY2tWYWx1ZXMsYi5heGlzX3lfdGlja19vdXRlciksYS55MkF4aXM9YS5nZXRZQXhpcyhhLnkyLGEueTJPcmllbnQsYi5heGlzX3kyX3RpY2tfZm9ybWF0LGEueTJBeGlzVGlja1ZhbHVlcyxiLmF4aXNfeTJfdGlja19vdXRlciksY3x8KGEuYnJ1c2gmJmEuYnJ1c2guc2NhbGUoYS5zdWJYKSxiLnpvb21fZW5hYmxlZCYmYS56b29tLnNjYWxlKGEueCkpLGEudXBkYXRlQXJjJiZhLnVwZGF0ZUFyYygpfSxmLmdldFlEb21haW5NaW49ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGg9dGhpcyxpPWguY29uZmlnLGo9aC5tYXBUb0lkcyhhKSxrPWguZ2V0VmFsdWVzQXNJZEtleWVkKGEpO2lmKGkuZGF0YV9ncm91cHMubGVuZ3RoPjApZm9yKGc9aC5oYXNOZWdhdGl2ZVZhbHVlSW5UYXJnZXRzKGEpLGI9MDtiPGkuZGF0YV9ncm91cHMubGVuZ3RoO2IrKylpZihlPWkuZGF0YV9ncm91cHNbYl0uZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBqLmluZGV4T2YoYSk+PTB9KSwwIT09ZS5sZW5ndGgpZm9yKGQ9ZVswXSxnJiZrW2RdJiZrW2RdLmZvckVhY2goZnVuY3Rpb24oYSxiKXtrW2RdW2JdPTA+YT9hOjB9KSxjPTE7YzxlLmxlbmd0aDtjKyspZj1lW2NdLGtbZl0mJmtbZl0uZm9yRWFjaChmdW5jdGlvbihhLGIpe2guZ2V0QXhpc0lkKGYpIT09aC5nZXRBeGlzSWQoZCl8fCFrW2RdfHxnJiYrYT4wfHwoa1tkXVtiXSs9K2EpfSk7cmV0dXJuIGguZDMubWluKE9iamVjdC5rZXlzKGspLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gaC5kMy5taW4oa1thXSl9KSl9LGYuZ2V0WURvbWFpbk1heD1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaD10aGlzLGk9aC5jb25maWcsaj1oLm1hcFRvSWRzKGEpLGs9aC5nZXRWYWx1ZXNBc0lkS2V5ZWQoYSk7aWYoaS5kYXRhX2dyb3Vwcy5sZW5ndGg+MClmb3IoZz1oLmhhc1Bvc2l0aXZlVmFsdWVJblRhcmdldHMoYSksYj0wO2I8aS5kYXRhX2dyb3Vwcy5sZW5ndGg7YisrKWlmKGU9aS5kYXRhX2dyb3Vwc1tiXS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGouaW5kZXhPZihhKT49MH0pLDAhPT1lLmxlbmd0aClmb3IoZD1lWzBdLGcmJmtbZF0mJmtbZF0uZm9yRWFjaChmdW5jdGlvbihhLGIpe2tbZF1bYl09YT4wP2E6MH0pLGM9MTtjPGUubGVuZ3RoO2MrKylmPWVbY10sa1tmXSYma1tmXS5mb3JFYWNoKGZ1bmN0aW9uKGEsYil7aC5nZXRBeGlzSWQoZikhPT1oLmdldEF4aXNJZChkKXx8IWtbZF18fGcmJjA+K2F8fChrW2RdW2JdKz0rYSl9KTtyZXR1cm4gaC5kMy5tYXgoT2JqZWN0LmtleXMoaykubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBoLmQzLm1heChrW2FdKX0pKX0sZi5nZXRZRG9tYWluPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksayxsLG0sbixvLHA9dGhpcyxyPXAuY29uZmlnLHQ9YS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIHAuZ2V0QXhpc0lkKGEuaWQpPT09Yn0pLHU9Yz9wLmZpbHRlckJ5WERvbWFpbih0LGMpOnQsdj1cInkyXCI9PT1iP3IuYXhpc195Ml9taW46ci5heGlzX3lfbWluLHc9XCJ5MlwiPT09Yj9yLmF4aXNfeTJfbWF4OnIuYXhpc195X21heCx4PXAuZ2V0WURvbWFpbk1pbih1KSx5PXAuZ2V0WURvbWFpbk1heCh1KSx6PVwieTJcIj09PWI/ci5heGlzX3kyX2NlbnRlcjpyLmF4aXNfeV9jZW50ZXIsQT1wLmhhc1R5cGUoXCJiYXJcIix1KSYmci5iYXJfemVyb2Jhc2VkfHxwLmhhc1R5cGUoXCJhcmVhXCIsdSkmJnIuYXJlYV96ZXJvYmFzZWQsQj1cInkyXCI9PT1iP3IuYXhpc195Ml9pbnZlcnRlZDpyLmF4aXNfeV9pbnZlcnRlZCxDPXAuaGFzRGF0YUxhYmVsKCkmJnIuYXhpc19yb3RhdGVkLEQ9cC5oYXNEYXRhTGFiZWwoKSYmIXIuYXhpc19yb3RhdGVkO3JldHVybiB4PWoodik/djpqKHcpP3c+eD94OnctMTA6eCx5PWoodyk/dzpqKHYpP3k+dj95OnYrMTA6eSwwPT09dS5sZW5ndGg/XCJ5MlwiPT09Yj9wLnkyLmRvbWFpbigpOnAueS5kb21haW4oKTooaXNOYU4oeCkmJih4PTApLGlzTmFOKHkpJiYoeT14KSx4PT09eSYmKDA+eD95PTA6eD0wKSxuPXg+PTAmJnk+PTAsbz0wPj14JiYwPj15LChqKHYpJiZufHxqKHcpJiZvKSYmKEE9ITEpLEEmJihuJiYoeD0wKSxvJiYoeT0wKSksZT1NYXRoLmFicyh5LXgpLGY9Zz1oPS4xKmUsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHomJihpPU1hdGgubWF4KE1hdGguYWJzKHgpLE1hdGguYWJzKHkpKSx5PXoraSx4PXotaSksQz8oaz1wLmdldERhdGFMYWJlbExlbmd0aCh4LHksXCJ3aWR0aFwiKSxsPXEocC55LnJhbmdlKCkpLG09W2tbMF0vbCxrWzFdL2xdLGcrPWUqKG1bMV0vKDEtbVswXS1tWzFdKSksaCs9ZSoobVswXS8oMS1tWzBdLW1bMV0pKSk6RCYmKGs9cC5nZXREYXRhTGFiZWxMZW5ndGgoeCx5LFwiaGVpZ2h0XCIpLGcrPXRoaXMuY29udmVydFBpeGVsc1RvQXhpc1BhZGRpbmcoa1sxXSxlKSxoKz10aGlzLmNvbnZlcnRQaXhlbHNUb0F4aXNQYWRkaW5nKGtbMF0sZSkpLFwieVwiPT09YiYmcyhyLmF4aXNfeV9wYWRkaW5nKSYmKGc9cC5nZXRBeGlzUGFkZGluZyhyLmF4aXNfeV9wYWRkaW5nLFwidG9wXCIsZyxlKSxoPXAuZ2V0QXhpc1BhZGRpbmcoci5heGlzX3lfcGFkZGluZyxcImJvdHRvbVwiLGgsZSkpLFwieTJcIj09PWImJnMoci5heGlzX3kyX3BhZGRpbmcpJiYoZz1wLmdldEF4aXNQYWRkaW5nKHIuYXhpc195Ml9wYWRkaW5nLFwidG9wXCIsZyxlKSxoPXAuZ2V0QXhpc1BhZGRpbmcoci5heGlzX3kyX3BhZGRpbmcsXCJib3R0b21cIixoLGUpKSxBJiYobiYmKGg9eCksbyYmKGc9LXkpKSxkPVt4LWgseStnXSxCP2QucmV2ZXJzZSgpOmQpfSxmLmdldFhEb21haW5NaW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnO3JldHVybiBuKGMuYXhpc194X21pbik/Yi5pc1RpbWVTZXJpZXMoKT90aGlzLnBhcnNlRGF0ZShjLmF4aXNfeF9taW4pOmMuYXhpc194X21pbjpiLmQzLm1pbihhLGZ1bmN0aW9uKGEpe3JldHVybiBiLmQzLm1pbihhLnZhbHVlcyxmdW5jdGlvbihhKXtyZXR1cm4gYS54fSl9KX0sZi5nZXRYRG9tYWluTWF4PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZztyZXR1cm4gbihjLmF4aXNfeF9tYXgpP2IuaXNUaW1lU2VyaWVzKCk/dGhpcy5wYXJzZURhdGUoYy5heGlzX3hfbWF4KTpjLmF4aXNfeF9tYXg6Yi5kMy5tYXgoYSxmdW5jdGlvbihhKXtyZXR1cm4gYi5kMy5tYXgoYS52YWx1ZXMsZnVuY3Rpb24oYSl7cmV0dXJuIGEueH0pfSl9LGYuZ2V0WERvbWFpblBhZGRpbmc9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZj10aGlzLGc9Zi5jb25maWcsaD1hWzFdLWFbMF07cmV0dXJuIGYuaXNDYXRlZ29yaXplZCgpP2M9MDpmLmhhc1R5cGUoXCJiYXJcIik/KGI9Zi5nZXRNYXhEYXRhQ291bnQoKSxjPWI+MT9oLyhiLTEpLzI6LjUpOmM9LjAxKmgsXCJvYmplY3RcIj09dHlwZW9mIGcuYXhpc194X3BhZGRpbmcmJnMoZy5heGlzX3hfcGFkZGluZyk/KGQ9aihnLmF4aXNfeF9wYWRkaW5nLmxlZnQpP2cuYXhpc194X3BhZGRpbmcubGVmdDpjLGU9aihnLmF4aXNfeF9wYWRkaW5nLnJpZ2h0KT9nLmF4aXNfeF9wYWRkaW5nLnJpZ2h0OmMpOmQ9ZT1cIm51bWJlclwiPT10eXBlb2YgZy5heGlzX3hfcGFkZGluZz9nLmF4aXNfeF9wYWRkaW5nOmMse2xlZnQ6ZCxyaWdodDplfX0sZi5nZXRYRG9tYWluPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1bYi5nZXRYRG9tYWluTWluKGEpLGIuZ2V0WERvbWFpbk1heChhKV0sZD1jWzBdLGU9Y1sxXSxmPWIuZ2V0WERvbWFpblBhZGRpbmcoYyksZz0wLGg9MDtyZXR1cm4gZC1lIT09MHx8Yi5pc0NhdGVnb3JpemVkKCl8fChiLmlzVGltZVNlcmllcygpPyhkPW5ldyBEYXRlKC41KmQuZ2V0VGltZSgpKSxlPW5ldyBEYXRlKDEuNSplLmdldFRpbWUoKSkpOihkPTA9PT1kPzE6LjUqZCxlPTA9PT1lPy0xOjEuNSplKSksKGR8fDA9PT1kKSYmKGc9Yi5pc1RpbWVTZXJpZXMoKT9uZXcgRGF0ZShkLmdldFRpbWUoKS1mLmxlZnQpOmQtZi5sZWZ0KSwoZXx8MD09PWUpJiYoaD1iLmlzVGltZVNlcmllcygpP25ldyBEYXRlKGUuZ2V0VGltZSgpK2YucmlnaHQpOmUrZi5yaWdodCksW2csaF19LGYudXBkYXRlWERvbWFpbj1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXRoaXMsZz1mLmNvbmZpZztyZXR1cm4gYyYmKGYueC5kb21haW4oZT9lOmYuZDMuZXh0ZW50KGYuZ2V0WERvbWFpbihhKSkpLGYub3JnWERvbWFpbj1mLnguZG9tYWluKCksZy56b29tX2VuYWJsZWQmJmYuem9vbS5zY2FsZShmLngpLnVwZGF0ZVNjYWxlRXh0ZW50KCksZi5zdWJYLmRvbWFpbihmLnguZG9tYWluKCkpLGYuYnJ1c2gmJmYuYnJ1c2guc2NhbGUoZi5zdWJYKSksYiYmKGYueC5kb21haW4oZT9lOiFmLmJydXNofHxmLmJydXNoLmVtcHR5KCk/Zi5vcmdYRG9tYWluOmYuYnJ1c2guZXh0ZW50KCkpLGcuem9vbV9lbmFibGVkJiZmLnpvb20uc2NhbGUoZi54KS51cGRhdGVTY2FsZUV4dGVudCgpKSxkJiZmLnguZG9tYWluKGYudHJpbVhEb21haW4oZi54Lm9yZ0RvbWFpbigpKSksZi54LmRvbWFpbigpfSxmLnRyaW1YRG9tYWluPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIGFbMF08PWIub3JnWERvbWFpblswXSYmKGFbMV09K2FbMV0rKGIub3JnWERvbWFpblswXS1hWzBdKSxhWzBdPWIub3JnWERvbWFpblswXSksYi5vcmdYRG9tYWluWzFdPD1hWzFdJiYoYVswXT0rYVswXS0oYVsxXS1iLm9yZ1hEb21haW5bMV0pLGFbMV09Yi5vcmdYRG9tYWluWzFdKSxhfSxmLmlzWD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWc7cmV0dXJuIGMuZGF0YV94JiZhPT09Yy5kYXRhX3h8fHMoYy5kYXRhX3hzKSYmdShjLmRhdGFfeHMsYSl9LGYuaXNOb3RYPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmlzWChhKX0sZi5nZXRYS2V5PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZztyZXR1cm4gYy5kYXRhX3g/Yy5kYXRhX3g6cyhjLmRhdGFfeHMpP2MuZGF0YV94c1thXTpudWxsfSxmLmdldFhWYWx1ZXNPZlhLZXk9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXRoaXMsZT1iJiZzKGIpP2QubWFwVG9JZHMoYik6W107cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihiKXtkLmdldFhLZXkoYik9PT1hJiYoYz1kLmRhdGEueHNbYl0pfSksY30sZi5nZXRJbmRleEJ5WD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5maWx0ZXJCeVgoYi5kYXRhLnRhcmdldHMsYSk7XG5yZXR1cm4gYy5sZW5ndGg/Y1swXS5pbmRleDpudWxsfSxmLmdldFhWYWx1ZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7cmV0dXJuIGEgaW4gYy5kYXRhLnhzJiZjLmRhdGEueHNbYV0mJmooYy5kYXRhLnhzW2FdW2JdKT9jLmRhdGEueHNbYV1bYl06Yn0sZi5nZXRPdGhlclRhcmdldFhzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPU9iamVjdC5rZXlzKGEuZGF0YS54cyk7cmV0dXJuIGIubGVuZ3RoP2EuZGF0YS54c1tiWzBdXTpudWxsfSxmLmdldE90aGVyVGFyZ2V0WD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldE90aGVyVGFyZ2V0WHMoKTtyZXR1cm4gYiYmYTxiLmxlbmd0aD9iW2FdOm51bGx9LGYuYWRkWHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztPYmplY3Qua2V5cyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGMpe2IuY29uZmlnLmRhdGFfeHNbY109YVtjXX0pfSxmLmhhc011bHRpcGxlWD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5kMy5zZXQoT2JqZWN0LmtleXMoYSkubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhW2JdfSkpLnNpemUoKT4xfSxmLmlzTXVsdGlwbGVYPWZ1bmN0aW9uKCl7cmV0dXJuIHModGhpcy5jb25maWcuZGF0YV94cyl8fCF0aGlzLmNvbmZpZy5kYXRhX3hTb3J0fHx0aGlzLmhhc1R5cGUoXCJzY2F0dGVyXCIpfSxmLmFkZE5hbWU9ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzO3JldHVybiBhJiYoYj1jLmNvbmZpZy5kYXRhX25hbWVzW2EuaWRdLGEubmFtZT1iP2I6YS5pZCksYX0sZi5nZXRWYWx1ZU9uSW5kZXg9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5pbmRleD09PWJ9KTtyZXR1cm4gYy5sZW5ndGg/Y1swXTpudWxsfSxmLnVwZGF0ZVRhcmdldFg9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2EuZm9yRWFjaChmdW5jdGlvbihhKXthLnZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGQsZSl7ZC54PWMuZ2VuZXJhdGVUYXJnZXRYKGJbZV0sYS5pZCxlKX0pLGMuZGF0YS54c1thLmlkXT1ifSl9LGYudXBkYXRlVGFyZ2V0WHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2EuZm9yRWFjaChmdW5jdGlvbihhKXtiW2EuaWRdJiZjLnVwZGF0ZVRhcmdldFgoW2FdLGJbYS5pZF0pfSl9LGYuZ2VuZXJhdGVUYXJnZXRYPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPXRoaXM7cmV0dXJuIGQ9ZS5pc1RpbWVTZXJpZXMoKT9lLnBhcnNlRGF0ZShhP2E6ZS5nZXRYVmFsdWUoYixjKSk6ZS5pc0N1c3RvbVgoKSYmIWUuaXNDYXRlZ29yaXplZCgpP2ooYSk/K2E6ZS5nZXRYVmFsdWUoYixjKTpjfSxmLmNsb25lVGFyZ2V0PWZ1bmN0aW9uKGEpe3JldHVybntpZDphLmlkLGlkX29yZzphLmlkX29yZyx2YWx1ZXM6YS52YWx1ZXMubWFwKGZ1bmN0aW9uKGEpe3JldHVybnt4OmEueCx2YWx1ZTphLnZhbHVlLGlkOmEuaWR9fSl9fSxmLnVwZGF0ZVhzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmRhdGEudGFyZ2V0cy5sZW5ndGgmJihhLnhzPVtdLGEuZGF0YS50YXJnZXRzWzBdLnZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGIpe2EueHNbYi5pbmRleF09Yi54fSkpfSxmLmdldFByZXZYPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMueHNbYS0xXTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgYj9iOm51bGx9LGYuZ2V0TmV4dFg9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy54c1thKzFdO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBiP2I6bnVsbH0sZi5nZXRNYXhEYXRhQ291bnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBhLmQzLm1heChhLmRhdGEudGFyZ2V0cyxmdW5jdGlvbihhKXtyZXR1cm4gYS52YWx1ZXMubGVuZ3RofSl9LGYuZ2V0TWF4RGF0YUNvdW50VGFyZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiLGM9YS5sZW5ndGgsZD0wO3JldHVybiBjPjE/YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EudmFsdWVzLmxlbmd0aD5kJiYoYj1hLGQ9YS52YWx1ZXMubGVuZ3RoKX0pOmI9Yz9hWzBdOm51bGwsYn0sZi5nZXRFZGdlWD1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBhLmxlbmd0aD9bYi5kMy5taW4oYSxmdW5jdGlvbihhKXtyZXR1cm4gYS52YWx1ZXNbMF0ueH0pLGIuZDMubWF4KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEudmFsdWVzW2EudmFsdWVzLmxlbmd0aC0xXS54fSldOlswLDBdfSxmLm1hcFRvSWRzPWZ1bmN0aW9uKGEpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5pZH0pfSxmLm1hcFRvVGFyZ2V0SWRzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIGE/bChhKT9bYV06YTpiLm1hcFRvSWRzKGIuZGF0YS50YXJnZXRzKX0sZi5oYXNUYXJnZXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXRoaXMubWFwVG9JZHMoYSk7Zm9yKGM9MDtjPGQubGVuZ3RoO2MrKylpZihkW2NdPT09YilyZXR1cm4hMDtyZXR1cm4hMX0sZi5pc1RhcmdldFRvU2hvdz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oaWRkZW5UYXJnZXRJZHMuaW5kZXhPZihhKTwwfSxmLmlzTGVnZW5kVG9TaG93PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhpZGRlbkxlZ2VuZElkcy5pbmRleE9mKGEpPDB9LGYuZmlsdGVyVGFyZ2V0c1RvU2hvdz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBhLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYi5pc1RhcmdldFRvU2hvdyhhLmlkKX0pfSxmLm1hcFRhcmdldHNUb1VuaXF1ZVhzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmQzLnNldChiLmQzLm1lcmdlKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZhbHVlcy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuK2EueH0pfSkpKS52YWx1ZXMoKTtyZXR1cm4gYy5tYXAoYi5pc1RpbWVTZXJpZXMoKT9mdW5jdGlvbihhKXtyZXR1cm4gbmV3IERhdGUoK2EpfTpmdW5jdGlvbihhKXtyZXR1cm4rYX0pfSxmLmFkZEhpZGRlblRhcmdldElkcz1mdW5jdGlvbihhKXt0aGlzLmhpZGRlblRhcmdldElkcz10aGlzLmhpZGRlblRhcmdldElkcy5jb25jYXQoYSl9LGYucmVtb3ZlSGlkZGVuVGFyZ2V0SWRzPWZ1bmN0aW9uKGEpe3RoaXMuaGlkZGVuVGFyZ2V0SWRzPXRoaXMuaGlkZGVuVGFyZ2V0SWRzLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gYS5pbmRleE9mKGIpPDB9KX0sZi5hZGRIaWRkZW5MZWdlbmRJZHM9ZnVuY3Rpb24oYSl7dGhpcy5oaWRkZW5MZWdlbmRJZHM9dGhpcy5oaWRkZW5MZWdlbmRJZHMuY29uY2F0KGEpfSxmLnJlbW92ZUhpZGRlbkxlZ2VuZElkcz1mdW5jdGlvbihhKXt0aGlzLmhpZGRlbkxlZ2VuZElkcz10aGlzLmhpZGRlbkxlZ2VuZElkcy5maWx0ZXIoZnVuY3Rpb24oYil7cmV0dXJuIGEuaW5kZXhPZihiKTwwfSl9LGYuZ2V0VmFsdWVzQXNJZEtleWVkPWZ1bmN0aW9uKGEpe3ZhciBiPXt9O3JldHVybiBhLmZvckVhY2goZnVuY3Rpb24oYSl7YlthLmlkXT1bXSxhLnZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGMpe2JbYS5pZF0ucHVzaChjLnZhbHVlKX0pfSksYn0sZi5jaGVja1ZhbHVlSW5UYXJnZXRzPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9T2JqZWN0LmtleXMoYSk7Zm9yKGM9MDtjPGYubGVuZ3RoO2MrKylmb3IoZT1hW2ZbY11dLnZhbHVlcyxkPTA7ZDxlLmxlbmd0aDtkKyspaWYoYihlW2RdLnZhbHVlKSlyZXR1cm4hMDtyZXR1cm4hMX0sZi5oYXNOZWdhdGl2ZVZhbHVlSW5UYXJnZXRzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNoZWNrVmFsdWVJblRhcmdldHMoYSxmdW5jdGlvbihhKXtyZXR1cm4gMD5hfSl9LGYuaGFzUG9zaXRpdmVWYWx1ZUluVGFyZ2V0cz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jaGVja1ZhbHVlSW5UYXJnZXRzKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE+MH0pfSxmLmlzT3JkZXJEZXNjPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb25maWc7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGEuZGF0YV9vcmRlciYmXCJkZXNjXCI9PT1hLmRhdGFfb3JkZXIudG9Mb3dlckNhc2UoKX0sZi5pc09yZGVyQXNjPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb25maWc7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGEuZGF0YV9vcmRlciYmXCJhc2NcIj09PWEuZGF0YV9vcmRlci50b0xvd2VyQ2FzZSgpfSxmLm9yZGVyVGFyZ2V0cz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWcsZD1iLmlzT3JkZXJBc2MoKSxlPWIuaXNPcmRlckRlc2MoKTtyZXR1cm4gZHx8ZT9hLnNvcnQoZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbihhLGIpe3JldHVybiBhK01hdGguYWJzKGIudmFsdWUpfSxlPWEudmFsdWVzLnJlZHVjZShjLDApLGY9Yi52YWx1ZXMucmVkdWNlKGMsMCk7cmV0dXJuIGQ/Zi1lOmUtZn0pOmsoYy5kYXRhX29yZGVyKSYmYS5zb3J0KGMuZGF0YV9vcmRlciksYX0sZi5maWx0ZXJCeVg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5kMy5tZXJnZShhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52YWx1ZXN9KSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLngtYj09PTB9KX0sZi5maWx0ZXJSZW1vdmVOdWxsPWZ1bmN0aW9uKGEpe3JldHVybiBhLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gaihhLnZhbHVlKX0pfSxmLmZpbHRlckJ5WERvbWFpbj1mdW5jdGlvbihhLGIpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm57aWQ6YS5pZCxpZF9vcmc6YS5pZF9vcmcsdmFsdWVzOmEudmFsdWVzLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYlswXTw9YS54JiZhLng8PWJbMV19KX19KX0sZi5oYXNEYXRhTGFiZWw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbmZpZztyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGEuZGF0YV9sYWJlbHMmJmEuZGF0YV9sYWJlbHM/ITA6XCJvYmplY3RcIj09dHlwZW9mIGEuZGF0YV9sYWJlbHMmJnMoYS5kYXRhX2xhYmVscyk/ITA6ITF9LGYuZ2V0RGF0YUxhYmVsTGVuZ3RoPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9WzAsMF0sZj0xLjM7cmV0dXJuIGQuc2VsZWN0Q2hhcnQuc2VsZWN0KFwic3ZnXCIpLnNlbGVjdEFsbChcIi5kdW1teVwiKS5kYXRhKFthLGJdKS5lbnRlcigpLmFwcGVuZChcInRleHRcIikudGV4dChmdW5jdGlvbihhKXtyZXR1cm4gZC5kYXRhTGFiZWxGb3JtYXQoYS5pZCkoYSl9KS5lYWNoKGZ1bmN0aW9uKGEsYil7ZVtiXT10aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW2NdKmZ9KS5yZW1vdmUoKSxlfSxmLmlzTm9uZUFyYz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXNUYXJnZXQodGhpcy5kYXRhLnRhcmdldHMsYS5pZCl9LGYuaXNBcmM9ZnVuY3Rpb24oYSl7cmV0dXJuXCJkYXRhXCJpbiBhJiZ0aGlzLmhhc1RhcmdldCh0aGlzLmRhdGEudGFyZ2V0cyxhLmRhdGEuaWQpfSxmLmZpbmRTYW1lWE9mVmFsdWVzPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1hW2JdLngsZT1bXTtmb3IoYz1iLTE7Yz49MCYmZD09PWFbY10ueDtjLS0pZS5wdXNoKGFbY10pO2ZvcihjPWI7YzxhLmxlbmd0aCYmZD09PWFbY10ueDtjKyspZS5wdXNoKGFbY10pO3JldHVybiBlfSxmLmZpbmRDbG9zZXN0RnJvbVRhcmdldHM9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXRoaXM7cmV0dXJuIGM9YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGQuZmluZENsb3Nlc3QoYS52YWx1ZXMsYil9KSxkLmZpbmRDbG9zZXN0KGMsYil9LGYuZmluZENsb3Nlc3Q9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXRoaXMsZT0xMDA7cmV0dXJuIGEuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhJiZkLmlzQmFyVHlwZShhLmlkKX0pLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9ZC5tYWluLnNlbGVjdChcIi5cIitpLmJhcnMrZC5nZXRUYXJnZXRTZWxlY3RvclN1ZmZpeChhLmlkKStcIiAuXCIraS5iYXIrXCItXCIrYS5pbmRleCkubm9kZSgpOyFjJiZkLmlzV2l0aGluQmFyKGIpJiYoYz1hKX0pLGEuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhJiYhZC5pc0JhclR5cGUoYS5pZCl9KS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBmPWQuZGlzdChhLGIpO2U+ZiYmKGU9ZixjPWEpfSksY30sZi5kaXN0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuY29uZmlnLGU9ZC5heGlzX3JvdGF0ZWQ/MTowLGY9ZC5heGlzX3JvdGF0ZWQ/MDoxLGc9Yy5jaXJjbGVZKGEsYS5pbmRleCksaD1jLngoYS54KTtyZXR1cm4gTWF0aC5wb3coaC1iW2VdLDIpK01hdGgucG93KGctYltmXSwyKX0sZi5jb252ZXJ0VmFsdWVzVG9TdGVwPWZ1bmN0aW9uKGEpe3ZhciBiLGM9W10uY29uY2F0KGEpO2lmKCF0aGlzLmlzQ2F0ZWdvcml6ZWQoKSlyZXR1cm4gYTtmb3IoYj1hLmxlbmd0aCsxO2I+MDtiLS0pY1tiXT1jW2ItMV07cmV0dXJuIGNbMF09e3g6Y1swXS54LTEsdmFsdWU6Y1swXS52YWx1ZSxpZDpjWzBdLmlkfSxjW2EubGVuZ3RoKzFdPXt4OmNbYS5sZW5ndGhdLngrMSx2YWx1ZTpjW2EubGVuZ3RoXS52YWx1ZSxpZDpjW2EubGVuZ3RoXS5pZH0sY30sZi51cGRhdGVEYXRhQXR0cmlidXRlcz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLmNvbmZpZyxlPWRbXCJkYXRhX1wiK2FdO3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBiP2U6KE9iamVjdC5rZXlzKGIpLmZvckVhY2goZnVuY3Rpb24oYSl7ZVthXT1iW2FdfSksYy5yZWRyYXcoe3dpdGhMZWdlbmQ6ITB9KSxlKX0sZi5jb252ZXJ0VXJsVG9EYXRhPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMsZj1iP2I6XCJjc3ZcIjtlLmQzLnhocihhLGZ1bmN0aW9uKGEsYil7dmFyIGc7Zz1cImpzb25cIj09PWY/ZS5jb252ZXJ0SnNvblRvRGF0YShKU09OLnBhcnNlKGIucmVzcG9uc2UpLGMpOlwidHN2XCI9PT1mP2UuY29udmVydFRzdlRvRGF0YShiLnJlc3BvbnNlKTplLmNvbnZlcnRDc3ZUb0RhdGEoYi5yZXNwb25zZSksZC5jYWxsKGUsZyl9KX0sZi5jb252ZXJ0WHN2VG9EYXRhPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1iLnBhcnNlUm93cyhhKTtyZXR1cm4gMT09PWQubGVuZ3RoPyhjPVt7fV0sZFswXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2NbMF1bYV09bnVsbH0pKTpjPWIucGFyc2UoYSksY30sZi5jb252ZXJ0Q3N2VG9EYXRhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbnZlcnRYc3ZUb0RhdGEoYSx0aGlzLmQzLmNzdil9LGYuY29udmVydFRzdlRvRGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb252ZXJ0WHN2VG9EYXRhKGEsdGhpcy5kMy50c3YpfSxmLmNvbnZlcnRKc29uVG9EYXRhPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPXRoaXMsZj1bXTtyZXR1cm4gYj8oYz1iLnZhbHVlLGIueCYmKGMucHVzaChiLngpLGUuY29uZmlnLmRhdGFfeD1iLngpLGYucHVzaChjKSxhLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9W107Yy5mb3JFYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPW0oYVtjXSk/bnVsbDphW2NdO2IucHVzaChkKX0pLGYucHVzaChiKX0pLGQ9ZS5jb252ZXJ0Um93c1RvRGF0YShmKSk6KE9iamVjdC5rZXlzKGEpLmZvckVhY2goZnVuY3Rpb24oYil7Zi5wdXNoKFtiXS5jb25jYXQoYVtiXSkpfSksZD1lLmNvbnZlcnRDb2x1bW5zVG9EYXRhKGYpKSxkfSxmLmNvbnZlcnRSb3dzVG9EYXRhPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD1hWzBdLGU9e30sZj1bXTtmb3IoYj0xO2I8YS5sZW5ndGg7YisrKXtmb3IoZT17fSxjPTA7YzxhW2JdLmxlbmd0aDtjKyspe2lmKG0oYVtiXVtjXSkpdGhyb3cgbmV3IEVycm9yKFwiU291cmNlIGRhdGEgaXMgbWlzc2luZyBhIGNvbXBvbmVudCBhdCAoXCIrYitcIixcIitjK1wiKSFcIik7ZVtkW2NdXT1hW2JdW2NdfWYucHVzaChlKX1yZXR1cm4gZn0sZi5jb252ZXJ0Q29sdW1uc1RvRGF0YT1mdW5jdGlvbihhKXt2YXIgYixjLGQsZT1bXTtmb3IoYj0wO2I8YS5sZW5ndGg7YisrKWZvcihkPWFbYl1bMF0sYz0xO2M8YVtiXS5sZW5ndGg7YysrKXtpZihtKGVbYy0xXSkmJihlW2MtMV09e30pLG0oYVtiXVtjXSkpdGhyb3cgbmV3IEVycm9yKFwiU291cmNlIGRhdGEgaXMgbWlzc2luZyBhIGNvbXBvbmVudCBhdCAoXCIrYitcIixcIitjK1wiKSFcIik7ZVtjLTFdW2RdPWFbYl1bY119cmV0dXJuIGV9LGYuY29udmVydERhdGFUb1RhcmdldHM9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXRoaXMsZT1kLmNvbmZpZyxmPWQuZDMua2V5cyhhWzBdKS5maWx0ZXIoZC5pc05vdFgsZCksZz1kLmQzLmtleXMoYVswXSkuZmlsdGVyKGQuaXNYLGQpO3JldHVybiBmLmZvckVhY2goZnVuY3Rpb24oYyl7dmFyIGY9ZC5nZXRYS2V5KGMpO2QuaXNDdXN0b21YKCl8fGQuaXNUaW1lU2VyaWVzKCk/Zy5pbmRleE9mKGYpPj0wP2QuZGF0YS54c1tjXT0oYiYmZC5kYXRhLnhzW2NdP2QuZGF0YS54c1tjXTpbXSkuY29uY2F0KGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhW2ZdfSkuZmlsdGVyKGopLm1hcChmdW5jdGlvbihhLGIpe3JldHVybiBkLmdlbmVyYXRlVGFyZ2V0WChhLGMsYil9KSk6ZS5kYXRhX3g/ZC5kYXRhLnhzW2NdPWQuZ2V0T3RoZXJUYXJnZXRYcygpOnMoZS5kYXRhX3hzKSYmKGQuZGF0YS54c1tjXT1kLmdldFhWYWx1ZXNPZlhLZXkoZixkLmRhdGEudGFyZ2V0cykpOmQuZGF0YS54c1tjXT1hLm1hcChmdW5jdGlvbihhLGIpe3JldHVybiBifSl9KSxmLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoIWQuZGF0YS54c1thXSl0aHJvdyBuZXcgRXJyb3IoJ3ggaXMgbm90IGRlZmluZWQgZm9yIGlkID0gXCInK2ErJ1wiLicpfSksYz1mLm1hcChmdW5jdGlvbihiLGMpe3ZhciBmPWUuZGF0YV9pZENvbnZlcnRlcihiKTtyZXR1cm57aWQ6ZixpZF9vcmc6Yix2YWx1ZXM6YS5tYXAoZnVuY3Rpb24oYSxnKXt2YXIgaD1kLmdldFhLZXkoYiksaT1hW2hdLGo9ZC5nZW5lcmF0ZVRhcmdldFgoaSxiLGcpO3JldHVybiBkLmlzQ3VzdG9tWCgpJiZkLmlzQ2F0ZWdvcml6ZWQoKSYmMD09PWMmJmkmJigwPT09ZyYmKGUuYXhpc194X2NhdGVnb3JpZXM9W10pLGUuYXhpc194X2NhdGVnb3JpZXMucHVzaChpKSksKG0oYVtiXSl8fGQuZGF0YS54c1tiXS5sZW5ndGg8PWcpJiYoaj12b2lkIDApLHt4OmosdmFsdWU6bnVsbD09PWFbYl18fGlzTmFOKGFbYl0pP251bGw6K2FbYl0saWQ6Zn19KS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIG4oYS54KX0pfX0pLGMuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYjtlLmRhdGFfeFNvcnQmJihhLnZhbHVlcz1hLnZhbHVlcy5zb3J0KGZ1bmN0aW9uKGEsYil7dmFyIGM9YS54fHwwPT09YS54P2EueDoxLzAsZD1iLnh8fDA9PT1iLng/Yi54OjEvMDtyZXR1cm4gYy1kfSkpLGI9MCxhLnZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuaW5kZXg9YisrfSksZC5kYXRhLnhzW2EuaWRdLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS1ifSl9KSxlLmRhdGFfdHlwZSYmZC5zZXRUYXJnZXRUeXBlKGQubWFwVG9JZHMoYykuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEoYSBpbiBlLmRhdGFfdHlwZXMpfSksZS5kYXRhX3R5cGUpLGMuZm9yRWFjaChmdW5jdGlvbihhKXtkLmFkZENhY2hlKGEuaWRfb3JnLGEpfSksY30sZi5sb2FkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczthJiYoYi5maWx0ZXImJihhPWEuZmlsdGVyKGIuZmlsdGVyKSksKGIudHlwZXx8Yi50eXBlcykmJmEuZm9yRWFjaChmdW5jdGlvbihhKXtjLnNldFRhcmdldFR5cGUoYS5pZCxiLnR5cGVzP2IudHlwZXNbYS5pZF06Yi50eXBlKX0pLGMuZGF0YS50YXJnZXRzLmZvckVhY2goZnVuY3Rpb24oYil7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspaWYoYi5pZD09PWFbY10uaWQpe2IudmFsdWVzPWFbY10udmFsdWVzLGEuc3BsaWNlKGMsMSk7YnJlYWt9fSksYy5kYXRhLnRhcmdldHM9Yy5kYXRhLnRhcmdldHMuY29uY2F0KGEpKSxjLnVwZGF0ZVRhcmdldHMoYy5kYXRhLnRhcmdldHMpLGMucmVkcmF3KHt3aXRoVXBkYXRlT3JnWERvbWFpbjohMCx3aXRoVXBkYXRlWERvbWFpbjohMCx3aXRoTGVnZW5kOiEwfSksYi5kb25lJiZiLmRvbmUoKX0sZi5sb2FkRnJvbUFyZ3M9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczthLmRhdGE/Yi5sb2FkKGIuY29udmVydERhdGFUb1RhcmdldHMoYS5kYXRhKSxhKTphLnVybD9iLmNvbnZlcnRVcmxUb0RhdGEoYS51cmwsYS5taW1lVHlwZSxhLmtleXMsZnVuY3Rpb24oYyl7Yi5sb2FkKGIuY29udmVydERhdGFUb1RhcmdldHMoYyksYSl9KTphLmpzb24/Yi5sb2FkKGIuY29udmVydERhdGFUb1RhcmdldHMoYi5jb252ZXJ0SnNvblRvRGF0YShhLmpzb24sYS5rZXlzKSksYSk6YS5yb3dzP2IubG9hZChiLmNvbnZlcnREYXRhVG9UYXJnZXRzKGIuY29udmVydFJvd3NUb0RhdGEoYS5yb3dzKSksYSk6YS5jb2x1bW5zP2IubG9hZChiLmNvbnZlcnREYXRhVG9UYXJnZXRzKGIuY29udmVydENvbHVtbnNUb0RhdGEoYS5jb2x1bW5zKSksYSk6Yi5sb2FkKG51bGwsYSl9LGYudW5sb2FkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztyZXR1cm4gYnx8KGI9ZnVuY3Rpb24oKXt9KSxhPWEuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBjLmhhc1RhcmdldChjLmRhdGEudGFyZ2V0cyxhKX0pLGEmJjAhPT1hLmxlbmd0aD8oYy5zdmcuc2VsZWN0QWxsKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBjLnNlbGVjdG9yVGFyZ2V0KGEpfSkpLnRyYW5zaXRpb24oKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5yZW1vdmUoKS5jYWxsKGMuZW5kYWxsLGIpLHZvaWQgYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Mud2l0aG91dEZhZGVJblthXT0hMSxjLmxlZ2VuZCYmYy5sZWdlbmQuc2VsZWN0QWxsKFwiLlwiK2kubGVnZW5kSXRlbStjLmdldFRhcmdldFNlbGVjdG9yU3VmZml4KGEpKS5yZW1vdmUoKSxjLmRhdGEudGFyZ2V0cz1jLmRhdGEudGFyZ2V0cy5maWx0ZXIoZnVuY3Rpb24oYil7cmV0dXJuIGIuaWQhPT1hfSl9KSk6dm9pZCBiKCl9LGYuY2F0ZWdvcnlOYW1lPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29uZmlnO3JldHVybiBhPGIuYXhpc194X2NhdGVnb3JpZXMubGVuZ3RoP2IuYXhpc194X2NhdGVnb3JpZXNbYV06YX0sZi5pbml0RXZlbnRSZWN0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLm1haW4uc2VsZWN0KFwiLlwiK2kuY2hhcnQpLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsaS5ldmVudFJlY3RzKS5zdHlsZShcImZpbGwtb3BhY2l0eVwiLDApfSxmLnJlZHJhd0V2ZW50UmVjdD1mdW5jdGlvbigpe3ZhciBhLGIsYz10aGlzLGQ9Yy5jb25maWcsZT1jLmlzTXVsdGlwbGVYKCksZj1jLm1haW4uc2VsZWN0KFwiLlwiK2kuZXZlbnRSZWN0cykuc3R5bGUoXCJjdXJzb3JcIixkLnpvb21fZW5hYmxlZD9kLmF4aXNfcm90YXRlZD9cIm5zLXJlc2l6ZVwiOlwiZXctcmVzaXplXCI6bnVsbCkuY2xhc3NlZChpLmV2ZW50UmVjdHNNdWx0aXBsZSxlKS5jbGFzc2VkKGkuZXZlbnRSZWN0c1NpbmdsZSwhZSk7Zi5zZWxlY3RBbGwoXCIuXCIraS5ldmVudFJlY3QpLnJlbW92ZSgpLGMuZXZlbnRSZWN0PWYuc2VsZWN0QWxsKFwiLlwiK2kuZXZlbnRSZWN0KSxlPyhhPWMuZXZlbnRSZWN0LmRhdGEoWzBdKSxjLmdlbmVyYXRlRXZlbnRSZWN0c0Zvck11bHRpcGxlWHMoYS5lbnRlcigpKSxjLnVwZGF0ZUV2ZW50UmVjdChhKSk6KGI9Yy5nZXRNYXhEYXRhQ291bnRUYXJnZXQoYy5kYXRhLnRhcmdldHMpLGYuZGF0dW0oYj9iLnZhbHVlczpbXSksYy5ldmVudFJlY3Q9Zi5zZWxlY3RBbGwoXCIuXCIraS5ldmVudFJlY3QpLGE9Yy5ldmVudFJlY3QuZGF0YShmdW5jdGlvbihhKXtyZXR1cm4gYX0pLGMuZ2VuZXJhdGVFdmVudFJlY3RzRm9yU2luZ2xlWChhLmVudGVyKCkpLGMudXBkYXRlRXZlbnRSZWN0KGEpLGEuZXhpdCgpLnJlbW92ZSgpKX0sZi51cGRhdGVFdmVudFJlY3Q9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGg9dGhpcyxpPWguY29uZmlnO2E9YXx8aC5ldmVudFJlY3QuZGF0YShmdW5jdGlvbihhKXtyZXR1cm4gYX0pLGguaXNNdWx0aXBsZVgoKT8oYj0wLGM9MCxkPWgud2lkdGgsZT1oLmhlaWdodCk6KCFoLmlzQ3VzdG9tWCgpJiYhaC5pc1RpbWVTZXJpZXMoKXx8aC5pc0NhdGVnb3JpemVkKCk/KGY9aC5nZXRFdmVudFJlY3RXaWR0aCgpLGc9ZnVuY3Rpb24oYSl7cmV0dXJuIGgueChhLngpLWYvMn0pOihoLnVwZGF0ZVhzKCksZj1mdW5jdGlvbihhKXt2YXIgYj1oLmdldFByZXZYKGEuaW5kZXgpLGM9aC5nZXROZXh0WChhLmluZGV4KTtyZXR1cm4gbnVsbD09PWImJm51bGw9PT1jP2kuYXhpc19yb3RhdGVkP2guaGVpZ2h0Omgud2lkdGg6KG51bGw9PT1iJiYoYj1oLnguZG9tYWluKClbMF0pLG51bGw9PT1jJiYoYz1oLnguZG9tYWluKClbMV0pLE1hdGgubWF4KDAsKGgueChjKS1oLngoYikpLzIpKX0sZz1mdW5jdGlvbihhKXt2YXIgYj1oLmdldFByZXZYKGEuaW5kZXgpLGM9aC5nZXROZXh0WChhLmluZGV4KSxkPWguZGF0YS54c1thLmlkXVthLmluZGV4XTtyZXR1cm4gbnVsbD09PWImJm51bGw9PT1jPzA6KG51bGw9PT1iJiYoYj1oLnguZG9tYWluKClbMF0pLChoLngoZCkraC54KGIpKS8yKX0pLGI9aS5heGlzX3JvdGF0ZWQ/MDpnLGM9aS5heGlzX3JvdGF0ZWQ/ZzowLGQ9aS5heGlzX3JvdGF0ZWQ/aC53aWR0aDpmLGU9aS5heGlzX3JvdGF0ZWQ/ZjpoLmhlaWdodCksYS5hdHRyKFwiY2xhc3NcIixoLmNsYXNzRXZlbnQuYmluZChoKSkuYXR0cihcInhcIixiKS5hdHRyKFwieVwiLGMpLmF0dHIoXCJ3aWR0aFwiLGQpLmF0dHIoXCJoZWlnaHRcIixlKX0sZi5nZW5lcmF0ZUV2ZW50UmVjdHNGb3JTaW5nbGVYPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmQzLGQ9Yi5jb25maWc7YS5hcHBlbmQoXCJyZWN0XCIpLmF0dHIoXCJjbGFzc1wiLGIuY2xhc3NFdmVudC5iaW5kKGIpKS5zdHlsZShcImN1cnNvclwiLGQuZGF0YV9zZWxlY3Rpb25fZW5hYmxlZCYmZC5kYXRhX3NlbGVjdGlvbl9ncm91cGVkP1wicG9pbnRlclwiOm51bGwpLm9uKFwibW91c2VvdmVyXCIsZnVuY3Rpb24oYSl7dmFyIGMsZSxmPWEuaW5kZXg7Yi5kcmFnZ2luZ3x8Yi5mbG93aW5nfHxiLmhhc0FyY1R5cGUoKXx8KGM9Yi5kYXRhLnRhcmdldHMubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBiLmFkZE5hbWUoYi5nZXRWYWx1ZU9uSW5kZXgoYS52YWx1ZXMsZikpfSksZT1bXSxPYmplY3Qua2V5cyhkLmRhdGFfbmFtZXMpLmZvckVhY2goZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxjLmxlbmd0aDtiKyspaWYoY1tiXSYmY1tiXS5pZD09PWEpe2UucHVzaChjW2JdKSxjLnNoaWZ0KGIpO2JyZWFrfX0pLGM9ZS5jb25jYXQoYyksZC5wb2ludF9mb2N1c19leHBhbmRfZW5hYmxlZCYmYi5leHBhbmRDaXJjbGVzKGYsbnVsbCwhMCksYi5leHBhbmRCYXJzKGYsbnVsbCwhMCksYi5tYWluLnNlbGVjdEFsbChcIi5cIitpLnNoYXBlK1wiLVwiK2YpLmVhY2goZnVuY3Rpb24oYSl7ZC5kYXRhX29ubW91c2VvdmVyLmNhbGwoYi5hcGksYSl9KSl9KS5vbihcIm1vdXNlb3V0XCIsZnVuY3Rpb24oYSl7dmFyIGM9YS5pbmRleDtiLmhhc0FyY1R5cGUoKXx8KGIuaGlkZVhHcmlkRm9jdXMoKSxiLmhpZGVUb29sdGlwKCksYi51bmV4cGFuZENpcmNsZXMoKSxiLnVuZXhwYW5kQmFycygpLGIubWFpbi5zZWxlY3RBbGwoXCIuXCIraS5zaGFwZStcIi1cIitjKS5lYWNoKGZ1bmN0aW9uKGEpe2QuZGF0YV9vbm1vdXNlb3V0LmNhbGwoYi5hcGksYSl9KSl9KS5vbihcIm1vdXNlbW92ZVwiLGZ1bmN0aW9uKGEpe3ZhciBlLGY9YS5pbmRleCxnPWIuc3ZnLnNlbGVjdChcIi5cIitpLmV2ZW50UmVjdCtcIi1cIitmKTtiLmRyYWdnaW5nfHxiLmZsb3dpbmd8fGIuaGFzQXJjVHlwZSgpfHwoYi5pc1N0ZXBUeXBlKGEpJiZcInN0ZXAtYWZ0ZXJcIj09PWIuY29uZmlnLmxpbmVfc3RlcF90eXBlJiZjLm1vdXNlKHRoaXMpWzBdPGIueChiLmdldFhWYWx1ZShhLmlkLGYpKSYmKGYtPTEpLGU9Yi5maWx0ZXJUYXJnZXRzVG9TaG93KGIuZGF0YS50YXJnZXRzKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGIuYWRkTmFtZShiLmdldFZhbHVlT25JbmRleChhLnZhbHVlcyxmKSl9KSxkLnRvb2x0aXBfZ3JvdXBlZCYmKGIuc2hvd1Rvb2x0aXAoZSx0aGlzKSxiLnNob3dYR3JpZEZvY3VzKGUpKSwoIWQudG9vbHRpcF9ncm91cGVkfHxkLmRhdGFfc2VsZWN0aW9uX2VuYWJsZWQmJiFkLmRhdGFfc2VsZWN0aW9uX2dyb3VwZWQpJiZiLm1haW4uc2VsZWN0QWxsKFwiLlwiK2kuc2hhcGUrXCItXCIrZikuZWFjaChmdW5jdGlvbigpe2Muc2VsZWN0KHRoaXMpLmNsYXNzZWQoaS5FWFBBTkRFRCwhMCksZC5kYXRhX3NlbGVjdGlvbl9lbmFibGVkJiZnLnN0eWxlKFwiY3Vyc29yXCIsZC5kYXRhX3NlbGVjdGlvbl9ncm91cGVkP1wicG9pbnRlclwiOm51bGwpLGQudG9vbHRpcF9ncm91cGVkfHwoYi5oaWRlWEdyaWRGb2N1cygpLGIuaGlkZVRvb2x0aXAoKSxkLmRhdGFfc2VsZWN0aW9uX2dyb3VwZWR8fChiLnVuZXhwYW5kQ2lyY2xlcyhmKSxiLnVuZXhwYW5kQmFycyhmKSkpfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBiLmlzV2l0aGluU2hhcGUodGhpcyxhKX0pLmVhY2goZnVuY3Rpb24oYSl7ZC5kYXRhX3NlbGVjdGlvbl9lbmFibGVkJiYoZC5kYXRhX3NlbGVjdGlvbl9ncm91cGVkfHxkLmRhdGFfc2VsZWN0aW9uX2lzc2VsZWN0YWJsZShhKSkmJmcuc3R5bGUoXCJjdXJzb3JcIixcInBvaW50ZXJcIiksZC50b29sdGlwX2dyb3VwZWR8fChiLnNob3dUb29sdGlwKFthXSx0aGlzKSxiLnNob3dYR3JpZEZvY3VzKFthXSksZC5wb2ludF9mb2N1c19leHBhbmRfZW5hYmxlZCYmYi5leHBhbmRDaXJjbGVzKGYsYS5pZCwhMCksYi5leHBhbmRCYXJzKGYsYS5pZCwhMCkpfSkpfSkub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe3ZhciBlPWEuaW5kZXg7aWYoIWIuaGFzQXJjVHlwZSgpJiZiLnRvZ2dsZVNoYXBlKXtpZihiLmNhbmNlbENsaWNrKXJldHVybiB2b2lkKGIuY2FuY2VsQ2xpY2s9ITEpO2IuaXNTdGVwVHlwZShhKSYmXCJzdGVwLWFmdGVyXCI9PT1kLmxpbmVfc3RlcF90eXBlJiZjLm1vdXNlKHRoaXMpWzBdPGIueChiLmdldFhWYWx1ZShhLmlkLGUpKSYmKGUtPTEpLGIubWFpbi5zZWxlY3RBbGwoXCIuXCIraS5zaGFwZStcIi1cIitlKS5lYWNoKGZ1bmN0aW9uKGEpeyhkLmRhdGFfc2VsZWN0aW9uX2dyb3VwZWR8fGIuaXNXaXRoaW5TaGFwZSh0aGlzLGEpKSYmKGIudG9nZ2xlU2hhcGUodGhpcyxhLGUpLGIuY29uZmlnLmRhdGFfb25jbGljay5jYWxsKGIuYXBpLGEsdGhpcykpfSl9fSkuY2FsbChkLmRhdGFfc2VsZWN0aW9uX2RyYWdnYWJsZSYmYi5kcmFnP2MuYmVoYXZpb3IuZHJhZygpLm9yaWdpbihPYmplY3QpLm9uKFwiZHJhZ1wiLGZ1bmN0aW9uKCl7Yi5kcmFnKGMubW91c2UodGhpcykpfSkub24oXCJkcmFnc3RhcnRcIixmdW5jdGlvbigpe2IuZHJhZ3N0YXJ0KGMubW91c2UodGhpcykpfSkub24oXCJkcmFnZW5kXCIsZnVuY3Rpb24oKXtiLmRyYWdlbmQoKX0pOmZ1bmN0aW9uKCl7fSl9LGYuZ2VuZXJhdGVFdmVudFJlY3RzRm9yTXVsdGlwbGVYcz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7Yy5zdmcuc2VsZWN0KFwiLlwiK2kuZXZlbnRSZWN0KS5zdHlsZShcImN1cnNvclwiLG51bGwpLGMuaGlkZVhHcmlkRm9jdXMoKSxjLmhpZGVUb29sdGlwKCksYy51bmV4cGFuZENpcmNsZXMoKSxjLnVuZXhwYW5kQmFycygpfXZhciBjPXRoaXMsZD1jLmQzLGU9Yy5jb25maWc7YS5hcHBlbmQoXCJyZWN0XCIpLmF0dHIoXCJ4XCIsMCkuYXR0cihcInlcIiwwKS5hdHRyKFwid2lkdGhcIixjLndpZHRoKS5hdHRyKFwiaGVpZ2h0XCIsYy5oZWlnaHQpLmF0dHIoXCJjbGFzc1wiLGkuZXZlbnRSZWN0KS5vbihcIm1vdXNlb3V0XCIsZnVuY3Rpb24oKXtjLmhhc0FyY1R5cGUoKXx8YigpfSkub24oXCJtb3VzZW1vdmVcIixmdW5jdGlvbigpe3ZhciBhLGYsZyxoLGo9Yy5maWx0ZXJUYXJnZXRzVG9TaG93KGMuZGF0YS50YXJnZXRzKTtpZighYy5kcmFnZ2luZyYmIWMuaGFzQXJjVHlwZShqKSl7aWYoYT1kLm1vdXNlKHRoaXMpLGY9Yy5maW5kQ2xvc2VzdEZyb21UYXJnZXRzKGosYSksIWMubW91c2VvdmVyfHxmJiZmLmlkPT09Yy5tb3VzZW92ZXIuaWR8fChlLmRhdGFfb25tb3VzZW91dC5jYWxsKGMuYXBpLGMubW91c2VvdmVyKSxjLm1vdXNlb3Zlcj12b2lkIDApLCFmKXJldHVybiB2b2lkIGIoKTtnPWMuaXNTY2F0dGVyVHlwZShmKXx8IWUudG9vbHRpcF9ncm91cGVkP1tmXTpjLmZpbHRlckJ5WChqLGYueCksaD1nLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYy5hZGROYW1lKGEpfSksYy5zaG93VG9vbHRpcChoLHRoaXMpLGUucG9pbnRfZm9jdXNfZXhwYW5kX2VuYWJsZWQmJmMuZXhwYW5kQ2lyY2xlcyhmLmluZGV4LGYuaWQsITApLGMuZXhwYW5kQmFycyhmLmluZGV4LGYuaWQsITApLGMuc2hvd1hHcmlkRm9jdXMoaCksKGMuaXNCYXJUeXBlKGYuaWQpfHxjLmRpc3QoZixhKTwxMDApJiYoYy5zdmcuc2VsZWN0KFwiLlwiK2kuZXZlbnRSZWN0KS5zdHlsZShcImN1cnNvclwiLFwicG9pbnRlclwiKSxjLm1vdXNlb3Zlcnx8KGUuZGF0YV9vbm1vdXNlb3Zlci5jYWxsKGMuYXBpLGYpLGMubW91c2VvdmVyPWYpKX19KS5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXt2YXIgYSxiLGY9Yy5maWx0ZXJUYXJnZXRzVG9TaG93KGMuZGF0YS50YXJnZXRzKTtjLmhhc0FyY1R5cGUoZil8fChhPWQubW91c2UodGhpcyksYj1jLmZpbmRDbG9zZXN0RnJvbVRhcmdldHMoZixhKSxiJiYoYy5pc0JhclR5cGUoYi5pZCl8fGMuZGlzdChiLGEpPDEwMCkmJmMubWFpbi5zZWxlY3RBbGwoXCIuXCIraS5zaGFwZXMrYy5nZXRUYXJnZXRTZWxlY3RvclN1ZmZpeChiLmlkKSkuc2VsZWN0KFwiLlwiK2kuc2hhcGUrXCItXCIrYi5pbmRleCkuZWFjaChmdW5jdGlvbigpeyhlLmRhdGFfc2VsZWN0aW9uX2dyb3VwZWR8fGMuaXNXaXRoaW5TaGFwZSh0aGlzLGIpKSYmKGMudG9nZ2xlU2hhcGUodGhpcyxiLGIuaW5kZXgpLGMuY29uZmlnLmRhdGFfb25jbGljay5jYWxsKGMuYXBpLGIsdGhpcykpfSkpfSkuY2FsbChkLmJlaGF2aW9yLmRyYWcoKS5vcmlnaW4oT2JqZWN0KS5vbihcImRyYWdcIixmdW5jdGlvbigpe2MuZHJhZyhkLm1vdXNlKHRoaXMpKX0pLm9uKFwiZHJhZ3N0YXJ0XCIsZnVuY3Rpb24oKXtjLmRyYWdzdGFydChkLm1vdXNlKHRoaXMpKX0pLm9uKFwiZHJhZ2VuZFwiLGZ1bmN0aW9uKCl7Yy5kcmFnZW5kKCl9KSl9LGYuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihiLGMsZCl7dmFyIGU9dGhpcyxmPVwiLlwiK2kuZXZlbnRSZWN0KyhlLmlzTXVsdGlwbGVYKCk/XCJcIjpcIi1cIitjKSxnPWUubWFpbi5zZWxlY3QoZikubm9kZSgpLGg9Zy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxqPWgubGVmdCsoZD9kWzBdOjApLGs9aC50b3ArKGQ/ZFsxXTowKSxsPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudHNcIik7bC5pbml0TW91c2VFdmVudChiLCEwLCEwLGEsMCxqLGssaixrLCExLCExLCExLCExLDAsbnVsbCksZy5kaXNwYXRjaEV2ZW50KGwpfSxmLmdldEN1cnJlbnRXaWR0aD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZztyZXR1cm4gYi5zaXplX3dpZHRoP2Iuc2l6ZV93aWR0aDphLmdldFBhcmVudFdpZHRoKCl9LGYuZ2V0Q3VycmVudEhlaWdodD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZyxjPWIuc2l6ZV9oZWlnaHQ/Yi5zaXplX2hlaWdodDphLmdldFBhcmVudEhlaWdodCgpO3JldHVybiBjPjA/YzozMjAvKGEuaGFzVHlwZShcImdhdWdlXCIpPzI6MSl9LGYuZ2V0Q3VycmVudFBhZGRpbmdUb3A9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbmZpZztyZXR1cm4gaihhLnBhZGRpbmdfdG9wKT9hLnBhZGRpbmdfdG9wOjB9LGYuZ2V0Q3VycmVudFBhZGRpbmdCb3R0b209ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbmZpZztyZXR1cm4gaihhLnBhZGRpbmdfYm90dG9tKT9hLnBhZGRpbmdfYm90dG9tOjB9LGYuZ2V0Q3VycmVudFBhZGRpbmdMZWZ0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZztyZXR1cm4gaihjLnBhZGRpbmdfbGVmdCk/Yy5wYWRkaW5nX2xlZnQ6Yy5heGlzX3JvdGF0ZWQ/Yy5heGlzX3hfc2hvdz9NYXRoLm1heChvKGIuZ2V0QXhpc1dpZHRoQnlBeGlzSWQoXCJ4XCIsYSkpLDQwKToxOiFjLmF4aXNfeV9zaG93fHxjLmF4aXNfeV9pbm5lcj9iLmdldFlBeGlzTGFiZWxQb3NpdGlvbigpLmlzT3V0ZXI/MzA6MTpvKGIuZ2V0QXhpc1dpZHRoQnlBeGlzSWQoXCJ5XCIsYSkpfSxmLmdldEN1cnJlbnRQYWRkaW5nUmlnaHQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25maWcsYz0xMCxkPWEuaXNMZWdlbmRSaWdodD9hLmdldExlZ2VuZFdpZHRoKCkrMjA6MDtyZXR1cm4gaihiLnBhZGRpbmdfcmlnaHQpP2IucGFkZGluZ19yaWdodCsxOmIuYXhpc19yb3RhdGVkP2MrZDohYi5heGlzX3kyX3Nob3d8fGIuYXhpc195Ml9pbm5lcj8yK2QrKGEuZ2V0WTJBeGlzTGFiZWxQb3NpdGlvbigpLmlzT3V0ZXI/MjA6MCk6byhhLmdldEF4aXNXaWR0aEJ5QXhpc0lkKFwieTJcIikpK2R9LGYuZ2V0UGFyZW50UmVjdFZhbHVlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPXRoaXMuc2VsZWN0Q2hhcnQubm9kZSgpO2MmJlwiQk9EWVwiIT09Yy50YWdOYW1lJiYhKGI9Yy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVthXSk7KWM9Yy5wYXJlbnROb2RlO3JldHVybiBifSxmLmdldFBhcmVudFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UGFyZW50UmVjdFZhbHVlKFwid2lkdGhcIil9LGYuZ2V0UGFyZW50SGVpZ2h0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3RDaGFydC5zdHlsZShcImhlaWdodFwiKTtyZXR1cm4gYS5pbmRleE9mKFwicHhcIik+MD8rYS5yZXBsYWNlKFwicHhcIixcIlwiKTowfSxmLmdldFN2Z0xlZnQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnLGQ9Yy5heGlzX3JvdGF0ZWR8fCFjLmF4aXNfcm90YXRlZCYmIWMuYXhpc195X2lubmVyLGU9Yy5heGlzX3JvdGF0ZWQ/aS5heGlzWDppLmF4aXNZLGY9Yi5tYWluLnNlbGVjdChcIi5cIitlKS5ub2RlKCksZz1mJiZkP2YuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6e3JpZ2h0OjB9LGg9Yi5zZWxlY3RDaGFydC5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaj1iLmhhc0FyY1R5cGUoKSxrPWcucmlnaHQtaC5sZWZ0LShqPzA6Yi5nZXRDdXJyZW50UGFkZGluZ0xlZnQoYSkpO3JldHVybiBrPjA/azowfSxmLmdldEF4aXNXaWR0aEJ5QXhpc0lkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuZ2V0QXhpc0xhYmVsUG9zaXRpb25CeUlkKGEpO3JldHVybiBjLmdldE1heFRpY2tXaWR0aChhLGIpKyhkLmlzSW5uZXI/MjA6NDApfSxmLmdldEhvcml6b250YWxBeGlzSGVpZ2h0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZyxkPTMwO3JldHVyblwieFwiIT09YXx8Yy5heGlzX3hfc2hvdz9cInhcIj09PWEmJmMuYXhpc194X2hlaWdodD9jLmF4aXNfeF9oZWlnaHQ6XCJ5XCIhPT1hfHxjLmF4aXNfeV9zaG93P1wieTJcIiE9PWF8fGMuYXhpc195Ml9zaG93PyhcInhcIj09PWEmJiFjLmF4aXNfcm90YXRlZCYmYy5heGlzX3hfdGlja19yb3RhdGUmJihkPWIuZ2V0TWF4VGlja1dpZHRoKGEpKk1hdGguY29zKE1hdGguUEkqKDkwLWMuYXhpc194X3RpY2tfcm90YXRlKS8xODApKSxkKyhiLmdldEF4aXNMYWJlbFBvc2l0aW9uQnlJZChhKS5pc0lubmVyPzA6MTApKyhcInkyXCI9PT1hPy0xMDowKSk6Yi5yb3RhdGVkX3BhZGRpbmdfdG9wOiFjLmxlZ2VuZF9zaG93fHxiLmlzTGVnZW5kUmlnaHR8fGIuaXNMZWdlbmRJbnNldD8xOjEwOjh9LGYuZ2V0RXZlbnRSZWN0V2lkdGg9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZz10aGlzLGg9Zy5nZXRNYXhEYXRhQ291bnRUYXJnZXQoZy5kYXRhLnRhcmdldHMpO3JldHVybiBoPyhhPWgudmFsdWVzWzBdLGI9aC52YWx1ZXNbaC52YWx1ZXMubGVuZ3RoLTFdLGM9Zy54KGIueCktZy54KGEueCksMD09PWM/Zy5jb25maWcuYXhpc19yb3RhdGVkP2cuaGVpZ2h0Omcud2lkdGg6KGQ9Zy5nZXRNYXhEYXRhQ291bnQoKSxlPWcuaGFzVHlwZShcImJhclwiKT8oZC0oZy5pc0NhdGVnb3JpemVkKCk/LjI1OjEpKS9kOjEsZj1kPjE/YyplLyhkLTEpOmMsMT5mPzE6ZikpOjB9LGYuZ2V0U2hhcGVJbmRpY2VzPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD10aGlzLGU9ZC5jb25maWcsZj17fSxnPTA7cmV0dXJuIGQuZmlsdGVyVGFyZ2V0c1RvU2hvdyhkLmRhdGEudGFyZ2V0cy5maWx0ZXIoYSxkKSkuZm9yRWFjaChmdW5jdGlvbihhKXtmb3IoYj0wO2I8ZS5kYXRhX2dyb3Vwcy5sZW5ndGg7YisrKWlmKCEoZS5kYXRhX2dyb3Vwc1tiXS5pbmRleE9mKGEuaWQpPDApKWZvcihjPTA7YzxlLmRhdGFfZ3JvdXBzW2JdLmxlbmd0aDtjKyspaWYoZS5kYXRhX2dyb3Vwc1tiXVtjXWluIGYpe2ZbYS5pZF09ZltlLmRhdGFfZ3JvdXBzW2JdW2NdXTticmVha31tKGZbYS5pZF0pJiYoZlthLmlkXT1nKyspfSksZi5fX21heF9fPWctMSxmfSxmLmdldFNoYXBlWD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLGY9ZD9lLnN1Ylg6ZS54O3JldHVybiBmdW5jdGlvbihkKXt2YXIgZT1kLmlkIGluIGM/Y1tkLmlkXTowO3JldHVybiBkLnh8fDA9PT1kLng/ZihkLngpLWEqKGIvMi1lKTowfX0sZi5nZXRTaGFwZVk9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9YT9iLmdldFN1YllTY2FsZShjLmlkKTpiLmdldFlTY2FsZShjLmlkKTtyZXR1cm4gZChjLnZhbHVlKX19LGYuZ2V0U2hhcGVPZmZzZXQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMsZT1kLm9yZGVyVGFyZ2V0cyhkLmZpbHRlclRhcmdldHNUb1Nob3coZC5kYXRhLnRhcmdldHMuZmlsdGVyKGEsZCkpKSxmPWUubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlkfSk7cmV0dXJuIGZ1bmN0aW9uKGEsZyl7dmFyIGg9Yz9kLmdldFN1YllTY2FsZShhLmlkKTpkLmdldFlTY2FsZShhLmlkKSxpPWgoMCksaj1pO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oYyl7dmFyIGU9ZC5pc1N0ZXBUeXBlKGEpP2QuY29udmVydFZhbHVlc1RvU3RlcChjLnZhbHVlcyk6Yy52YWx1ZXM7Yy5pZCE9PWEuaWQmJmJbYy5pZF09PT1iW2EuaWRdJiZmLmluZGV4T2YoYy5pZCk8Zi5pbmRleE9mKGEuaWQpJiZlW2ddLnZhbHVlKmEudmFsdWU+PTAmJihqKz1oKGVbZ10udmFsdWUpLWkpfSksan19LGYuaXNXaXRoaW5TaGFwZT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9dGhpcyxlPWQuZDMuc2VsZWN0KGEpO3JldHVybiBkLmlzVGFyZ2V0VG9TaG93KGIuaWQpP1wiY2lyY2xlXCI9PT1hLm5vZGVOYW1lP2M9ZC5pc1N0ZXBUeXBlKGIpP2QuaXNXaXRoaW5TdGVwKGEsZC5nZXRZU2NhbGUoYi5pZCkoYi52YWx1ZSkpOmQuaXNXaXRoaW5DaXJjbGUoYSwxLjUqZC5wb2ludFNlbGVjdFIoYikpOlwicGF0aFwiPT09YS5ub2RlTmFtZSYmKGM9ZS5jbGFzc2VkKGkuYmFyKT9kLmlzV2l0aGluQmFyKGEpOiEwKTpjPSExLGN9LGYuZ2V0SW50ZXJwb2xhdGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gYi5pc1NwbGluZVR5cGUoYSk/XCJjYXJkaW5hbFwiOmIuaXNTdGVwVHlwZShhKT9iLmNvbmZpZy5saW5lX3N0ZXBfdHlwZTpcImxpbmVhclwifSxmLmluaXRMaW5lPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLm1haW4uc2VsZWN0KFwiLlwiK2kuY2hhcnQpLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsaS5jaGFydExpbmVzKX0sZi51cGRhdGVUYXJnZXRzRm9yTGluZT1mdW5jdGlvbihhKXt2YXIgYixjLGQ9dGhpcyxlPWQuY29uZmlnLGY9ZC5jbGFzc0NoYXJ0TGluZS5iaW5kKGQpLGc9ZC5jbGFzc0xpbmVzLmJpbmQoZCksaD1kLmNsYXNzQXJlYXMuYmluZChkKSxqPWQuY2xhc3NDaXJjbGVzLmJpbmQoZCksaz1kLmNsYXNzRm9jdXMuYmluZChkKTtiPWQubWFpbi5zZWxlY3QoXCIuXCIraS5jaGFydExpbmVzKS5zZWxlY3RBbGwoXCIuXCIraS5jaGFydExpbmUpLmRhdGEoYSkuYXR0cihcImNsYXNzXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGYoYSkrayhhKX0pLGM9Yi5lbnRlcigpLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsZikuc3R5bGUoXCJvcGFjaXR5XCIsMCkuc3R5bGUoXCJwb2ludGVyLWV2ZW50c1wiLFwibm9uZVwiKSxjLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsZyksYy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGgpLGMuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixmdW5jdGlvbihhKXtyZXR1cm4gZC5nZW5lcmF0ZUNsYXNzKGkuc2VsZWN0ZWRDaXJjbGVzLGEuaWQpfSksYy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGopLnN0eWxlKFwiY3Vyc29yXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGUuZGF0YV9zZWxlY3Rpb25faXNzZWxlY3RhYmxlKGEpP1wicG9pbnRlclwiOm51bGx9KSxhLmZvckVhY2goZnVuY3Rpb24oYSl7ZC5tYWluLnNlbGVjdEFsbChcIi5cIitpLnNlbGVjdGVkQ2lyY2xlcytkLmdldFRhcmdldFNlbGVjdG9yU3VmZml4KGEuaWQpKS5zZWxlY3RBbGwoXCIuXCIraS5zZWxlY3RlZENpcmNsZSkuZWFjaChmdW5jdGlvbihiKXtiLnZhbHVlPWEudmFsdWVzW2IuaW5kZXhdLnZhbHVlfSl9KX0sZi51cGRhdGVMaW5lPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5tYWluTGluZT1iLm1haW4uc2VsZWN0QWxsKFwiLlwiK2kubGluZXMpLnNlbGVjdEFsbChcIi5cIitpLmxpbmUpLmRhdGEoYi5saW5lRGF0YS5iaW5kKGIpKSxiLm1haW5MaW5lLmVudGVyKCkuYXBwZW5kKFwicGF0aFwiKS5hdHRyKFwiY2xhc3NcIixiLmNsYXNzTGluZS5iaW5kKGIpKS5zdHlsZShcInN0cm9rZVwiLGIuY29sb3IpLGIubWFpbkxpbmUuc3R5bGUoXCJvcGFjaXR5XCIsYi5pbml0aWFsT3BhY2l0eS5iaW5kKGIpKS5zdHlsZShcInNoYXBlLXJlbmRlcmluZ1wiLGZ1bmN0aW9uKGEpe3JldHVybiBiLmlzU3RlcFR5cGUoYSk/XCJjcmlzcEVkZ2VzXCI6XCJcIn0pLmF0dHIoXCJ0cmFuc2Zvcm1cIixudWxsKSxiLm1haW5MaW5lLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oYSkuc3R5bGUoXCJvcGFjaXR5XCIsMCkucmVtb3ZlKCl9LGYucmVkcmF3TGluZT1mdW5jdGlvbihhLGIpe3JldHVyblsoYj90aGlzLm1haW5MaW5lLnRyYW5zaXRpb24oKTp0aGlzLm1haW5MaW5lKS5hdHRyKFwiZFwiLGEpLnN0eWxlKFwic3Ryb2tlXCIsdGhpcy5jb2xvcikuc3R5bGUoXCJvcGFjaXR5XCIsMSldfSxmLmdlbmVyYXRlRHJhd0xpbmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy5jb25maWcsZT1jLmQzLnN2Zy5saW5lKCksZj1jLmdlbmVyYXRlR2V0TGluZVBvaW50cyhhLGIpLGc9Yj9jLmdldFN1YllTY2FsZTpjLmdldFlTY2FsZSxoPWZ1bmN0aW9uKGEpe3JldHVybihiP2Muc3VieHg6Yy54eCkuY2FsbChjLGEpfSxpPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGQuZGF0YV9ncm91cHMubGVuZ3RoPjA/ZihhLGIpWzBdWzFdOmcuY2FsbChjLGEuaWQpKGEudmFsdWUpfTtyZXR1cm4gZT1kLmF4aXNfcm90YXRlZD9lLngoaSkueShoKTplLngoaCkueShpKSxkLmxpbmVfY29ubmVjdE51bGx8fChlPWUuZGVmaW5lZChmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS52YWx1ZX0pKSxmdW5jdGlvbihhKXt2YXIgZixoPWQubGluZV9jb25uZWN0TnVsbD9jLmZpbHRlclJlbW92ZU51bGwoYS52YWx1ZXMpOmEudmFsdWVzLGk9Yj9jLng6Yy5zdWJYLGo9Zy5jYWxsKGMsYS5pZCksaz0wLGw9MDtyZXR1cm4gYy5pc0xpbmVUeXBlKGEpP2QuZGF0YV9yZWdpb25zW2EuaWRdP2Y9Yy5saW5lV2l0aFJlZ2lvbnMoaCxpLGosZC5kYXRhX3JlZ2lvbnNbYS5pZF0pOihjLmlzU3RlcFR5cGUoYSkmJihoPWMuY29udmVydFZhbHVlc1RvU3RlcChoKSksZj1lLmludGVycG9sYXRlKGMuZ2V0SW50ZXJwb2xhdGUoYSkpKGgpKTooaFswXSYmKGs9aShoWzBdLngpLGw9aihoWzBdLnZhbHVlKSksZj1kLmF4aXNfcm90YXRlZD9cIk0gXCIrbCtcIiBcIitrOlwiTSBcIitrK1wiIFwiK2wpLGY/ZjpcIk0gMCAwXCJ9fSxmLmdlbmVyYXRlR2V0TGluZVBvaW50cz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLmNvbmZpZyxlPWEuX19tYXhfXysxLGY9Yy5nZXRTaGFwZVgoMCxlLGEsISFiKSxnPWMuZ2V0U2hhcGVZKCEhYiksaD1jLmdldFNoYXBlT2Zmc2V0KGMuaXNMaW5lVHlwZSxhLCEhYiksaT1iP2MuZ2V0U3ViWVNjYWxlOmMuZ2V0WVNjYWxlO3JldHVybiBmdW5jdGlvbihhLGIpe3ZhciBlPWkuY2FsbChjLGEuaWQpKDApLGo9aChhLGIpfHxlLGs9ZihhKSxsPWcoYSk7cmV0dXJuIGQuYXhpc19yb3RhdGVkJiYoMDxhLnZhbHVlJiZlPmx8fGEudmFsdWU8MCYmbD5lKSYmKGw9ZSksW1trLGwtKGUtaildLFtrLGwtKGUtaildLFtrLGwtKGUtaildLFtrLGwtKGUtaildXX19LGYubGluZVdpdGhSZWdpb25zPWZ1bmN0aW9uKGEsYixjLGQpe2Z1bmN0aW9uIGUoYSxiKXt2YXIgYztmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKWlmKGJbY10uc3RhcnQ8YSYmYTw9YltjXS5lbmQpcmV0dXJuITA7cmV0dXJuITF9dmFyIGYsZyxoLGksaixrLGwsbyxwLHEscixzLHQ9dGhpcyx1PXQuY29uZmlnLHY9LTEsdz1cIk1cIix4PVtdO2lmKG4oZCkpZm9yKGY9MDtmPGQubGVuZ3RoO2YrKyl4W2ZdPXt9LHhbZl0uc3RhcnQ9bShkW2ZdLnN0YXJ0KT9hWzBdLng6dC5pc1RpbWVTZXJpZXMoKT90LnBhcnNlRGF0ZShkW2ZdLnN0YXJ0KTpkW2ZdLnN0YXJ0LHhbZl0uZW5kPW0oZFtmXS5lbmQpP2FbYS5sZW5ndGgtMV0ueDp0LmlzVGltZVNlcmllcygpP3QucGFyc2VEYXRlKGRbZl0uZW5kKTpkW2ZdLmVuZDtmb3Iocj11LmF4aXNfcm90YXRlZD9mdW5jdGlvbihhKXtyZXR1cm4gYyhhLnZhbHVlKX06ZnVuY3Rpb24oYSl7cmV0dXJuIGIoYS54KX0scz11LmF4aXNfcm90YXRlZD9mdW5jdGlvbihhKXtyZXR1cm4gYihhLngpfTpmdW5jdGlvbihhKXtyZXR1cm4gYyhhLnZhbHVlKX0saD10LmlzVGltZVNlcmllcygpP2Z1bmN0aW9uKGEsZCxlLGYpe3ZhciBnPWEueC5nZXRUaW1lKCksaD1kLngtYS54LGk9bmV3IERhdGUoZytoKmUpLGs9bmV3IERhdGUoZytoKihlK2YpKTtyZXR1cm5cIk1cIitiKGkpK1wiIFwiK2MoaihlKSkrXCIgXCIrYihrKStcIiBcIitjKGooZStmKSl9OmZ1bmN0aW9uKGEsZCxlLGYpe3JldHVyblwiTVwiK2IoaShlKSwhMCkrXCIgXCIrYyhqKGUpKStcIiBcIitiKGkoZStmKSwhMCkrXCIgXCIrYyhqKGUrZikpfSxmPTA7ZjxhLmxlbmd0aDtmKyspe2lmKG0oeCl8fCFlKGFbZl0ueCx4KSl3Kz1cIiBcIityKGFbZl0pK1wiIFwiK3MoYVtmXSk7ZWxzZSBmb3IoaT10LmdldFNjYWxlKGFbZi0xXS54LGFbZl0ueCx0LmlzVGltZVNlcmllcygpKSxqPXQuZ2V0U2NhbGUoYVtmLTFdLnZhbHVlLGFbZl0udmFsdWUpLGs9YihhW2ZdLngpLWIoYVtmLTFdLngpLGw9YyhhW2ZdLnZhbHVlKS1jKGFbZi0xXS52YWx1ZSksbz1NYXRoLnNxcnQoTWF0aC5wb3coaywyKStNYXRoLnBvdyhsLDIpKSxwPTIvbyxxPTIqcCxnPXA7MT49ZztnKz1xKXcrPWgoYVtmLTFdLGFbZl0sZyxwKTt2PWFbZl0ueH1yZXR1cm4gd30sZi51cGRhdGVBcmVhPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmQzO2IubWFpbkFyZWE9Yi5tYWluLnNlbGVjdEFsbChcIi5cIitpLmFyZWFzKS5zZWxlY3RBbGwoXCIuXCIraS5hcmVhKS5kYXRhKGIubGluZURhdGEuYmluZChiKSksYi5tYWluQXJlYS5lbnRlcigpLmFwcGVuZChcInBhdGhcIikuYXR0cihcImNsYXNzXCIsYi5jbGFzc0FyZWEuYmluZChiKSkuc3R5bGUoXCJmaWxsXCIsYi5jb2xvcikuc3R5bGUoXCJvcGFjaXR5XCIsZnVuY3Rpb24oKXtyZXR1cm4gYi5vcmdBcmVhT3BhY2l0eT0rYy5zZWxlY3QodGhpcykuc3R5bGUoXCJvcGFjaXR5XCIpLDB9KSxiLm1haW5BcmVhLnN0eWxlKFwib3BhY2l0eVwiLGIub3JnQXJlYU9wYWNpdHkpLGIubWFpbkFyZWEuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5yZW1vdmUoKX0sZi5yZWRyYXdBcmVhPWZ1bmN0aW9uKGEsYil7cmV0dXJuWyhiP3RoaXMubWFpbkFyZWEudHJhbnNpdGlvbigpOnRoaXMubWFpbkFyZWEpLmF0dHIoXCJkXCIsYSkuc3R5bGUoXCJmaWxsXCIsdGhpcy5jb2xvcikuc3R5bGUoXCJvcGFjaXR5XCIsdGhpcy5vcmdBcmVhT3BhY2l0eSldfSxmLmdlbmVyYXRlRHJhd0FyZWE9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy5jb25maWcsZT1jLmQzLnN2Zy5hcmVhKCksZj1jLmdlbmVyYXRlR2V0QXJlYVBvaW50cyhhLGIpLGc9Yj9jLmdldFN1YllTY2FsZTpjLmdldFlTY2FsZSxoPWZ1bmN0aW9uKGEpe3JldHVybihiP2Muc3VieHg6Yy54eCkuY2FsbChjLGEpfSxpPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGQuZGF0YV9ncm91cHMubGVuZ3RoPjA/ZihhLGIpWzBdWzFdOmcuY2FsbChjLGEuaWQpKGMuZ2V0QXJlYUJhc2VWYWx1ZShhLmlkKSl9LGo9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZC5kYXRhX2dyb3Vwcy5sZW5ndGg+MD9mKGEsYilbMV1bMV06Zy5jYWxsKGMsYS5pZCkoYS52YWx1ZSl9O3JldHVybiBlPWQuYXhpc19yb3RhdGVkP2UueDAoaSkueDEoaikueShoKTplLngoaCkueTAoaSkueTEoaiksZC5saW5lX2Nvbm5lY3ROdWxsfHwoZT1lLmRlZmluZWQoZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPT1hLnZhbHVlfSkpLGZ1bmN0aW9uKGEpe3ZhciBiLGY9ZC5saW5lX2Nvbm5lY3ROdWxsP2MuZmlsdGVyUmVtb3ZlTnVsbChhLnZhbHVlcyk6YS52YWx1ZXMsZz0wLGg9MDtyZXR1cm4gYy5pc0FyZWFUeXBlKGEpPyhjLmlzU3RlcFR5cGUoYSkmJihmPWMuY29udmVydFZhbHVlc1RvU3RlcChmKSksYj1lLmludGVycG9sYXRlKGMuZ2V0SW50ZXJwb2xhdGUoYSkpKGYpKTooZlswXSYmKGc9Yy54KGZbMF0ueCksaD1jLmdldFlTY2FsZShhLmlkKShmWzBdLnZhbHVlKSksYj1kLmF4aXNfcm90YXRlZD9cIk0gXCIraCtcIiBcIitnOlwiTSBcIitnK1wiIFwiK2gpLGI/YjpcIk0gMCAwXCJ9fSxmLmdldEFyZWFCYXNlVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sZi5nZW5lcmF0ZUdldEFyZWFQb2ludHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy5jb25maWcsZT1hLl9fbWF4X18rMSxmPWMuZ2V0U2hhcGVYKDAsZSxhLCEhYiksZz1jLmdldFNoYXBlWSghIWIpLGg9Yy5nZXRTaGFwZU9mZnNldChjLmlzQXJlYVR5cGUsYSwhIWIpLGk9Yj9jLmdldFN1YllTY2FsZTpjLmdldFlTY2FsZTtyZXR1cm4gZnVuY3Rpb24oYSxiKXt2YXIgZT1pLmNhbGwoYyxhLmlkKSgwKSxqPWgoYSxiKXx8ZSxrPWYoYSksbD1nKGEpO3JldHVybiBkLmF4aXNfcm90YXRlZCYmKDA8YS52YWx1ZSYmZT5sfHxhLnZhbHVlPDAmJmw+ZSkmJihsPWUpLFtbayxqXSxbayxsLShlLWopXSxbayxsLShlLWopXSxbayxqXV19fSxmLnVwZGF0ZUNpcmNsZT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5tYWluQ2lyY2xlPWEubWFpbi5zZWxlY3RBbGwoXCIuXCIraS5jaXJjbGVzKS5zZWxlY3RBbGwoXCIuXCIraS5jaXJjbGUpLmRhdGEoYS5saW5lT3JTY2F0dGVyRGF0YS5iaW5kKGEpKSxhLm1haW5DaXJjbGUuZW50ZXIoKS5hcHBlbmQoXCJjaXJjbGVcIikuYXR0cihcImNsYXNzXCIsYS5jbGFzc0NpcmNsZS5iaW5kKGEpKS5hdHRyKFwiclwiLGEucG9pbnRSLmJpbmQoYSkpLnN0eWxlKFwiZmlsbFwiLGEuY29sb3IpLGEubWFpbkNpcmNsZS5zdHlsZShcIm9wYWNpdHlcIixhLmluaXRpYWxPcGFjaXR5Rm9yQ2lyY2xlLmJpbmQoYSkpLGEubWFpbkNpcmNsZS5leGl0KCkucmVtb3ZlKCl9LGYucmVkcmF3Q2lyY2xlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLm1haW4uc2VsZWN0QWxsKFwiLlwiK2kuc2VsZWN0ZWRDaXJjbGUpO3JldHVyblsoYz90aGlzLm1haW5DaXJjbGUudHJhbnNpdGlvbigpOnRoaXMubWFpbkNpcmNsZSkuc3R5bGUoXCJvcGFjaXR5XCIsdGhpcy5vcGFjaXR5Rm9yQ2lyY2xlLmJpbmQodGhpcykpLnN0eWxlKFwiZmlsbFwiLHRoaXMuY29sb3IpLmF0dHIoXCJjeFwiLGEpLmF0dHIoXCJjeVwiLGIpLChjP2QudHJhbnNpdGlvbigpOmQpLmF0dHIoXCJjeFwiLGEpLmF0dHIoXCJjeVwiLGIpXX0sZi5jaXJjbGVYPWZ1bmN0aW9uKGEpe3JldHVybiBhLnh8fDA9PT1hLng/dGhpcy54KGEueCk6bnVsbH0sZi51cGRhdGVDaXJjbGVZPWZ1bmN0aW9uKCl7dmFyIGEsYixjPXRoaXM7Yy5jb25maWcuZGF0YV9ncm91cHMubGVuZ3RoPjA/KGE9Yy5nZXRTaGFwZUluZGljZXMoYy5pc0xpbmVUeXBlKSxiPWMuZ2VuZXJhdGVHZXRMaW5lUG9pbnRzKGEpLGMuY2lyY2xlWT1mdW5jdGlvbihhLGMpe3JldHVybiBiKGEsYylbMF1bMV19KTpjLmNpcmNsZVk9ZnVuY3Rpb24oYSl7cmV0dXJuIGMuZ2V0WVNjYWxlKGEuaWQpKGEudmFsdWUpfX0sZi5nZXRDaXJjbGVzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztyZXR1cm4oYj9jLm1haW4uc2VsZWN0QWxsKFwiLlwiK2kuY2lyY2xlcytjLmdldFRhcmdldFNlbGVjdG9yU3VmZml4KGIpKTpjLm1haW4pLnNlbGVjdEFsbChcIi5cIitpLmNpcmNsZSsoaihhKT9cIi1cIithOlwiXCIpKX0sZi5leHBhbmRDaXJjbGVzPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9ZC5wb2ludEV4cGFuZGVkUi5iaW5kKGQpO2MmJmQudW5leHBhbmRDaXJjbGVzKCksZC5nZXRDaXJjbGVzKGEsYikuY2xhc3NlZChpLkVYUEFOREVELCEwKS5hdHRyKFwiclwiLGUpfSxmLnVuZXhwYW5kQ2lyY2xlcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5wb2ludFIuYmluZChiKTtiLmdldENpcmNsZXMoYSkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIGIuZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoaS5FWFBBTkRFRCl9KS5jbGFzc2VkKGkuRVhQQU5ERUQsITEpLmF0dHIoXCJyXCIsYyl9LGYucG9pbnRSPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZztyZXR1cm4gYi5pc1N0ZXBUeXBlKGEpPzA6ayhjLnBvaW50X3IpP2MucG9pbnRfcihhKTpjLnBvaW50X3J9LGYucG9pbnRFeHBhbmRlZFI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnO3JldHVybiBjLnBvaW50X2ZvY3VzX2V4cGFuZF9lbmFibGVkP2MucG9pbnRfZm9jdXNfZXhwYW5kX3I/Yy5wb2ludF9mb2N1c19leHBhbmRfcjoxLjc1KmIucG9pbnRSKGEpOmIucG9pbnRSKGEpfSxmLnBvaW50U2VsZWN0Uj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWc7cmV0dXJuIGMucG9pbnRfc2VsZWN0X3I/Yy5wb2ludF9zZWxlY3Rfcjo0KmIucG9pbnRSKGEpfSxmLmlzV2l0aGluQ2lyY2xlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5kMyxkPWMubW91c2UoYSksZT1jLnNlbGVjdChhKSxmPStlLmF0dHIoXCJjeFwiKSxnPStlLmF0dHIoXCJjeVwiKTtyZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGYtZFswXSwyKStNYXRoLnBvdyhnLWRbMV0sMikpPGJ9LGYuaXNXaXRoaW5TdGVwPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE1hdGguYWJzKGItdGhpcy5kMy5tb3VzZShhKVsxXSk8MzB9LGYuaW5pdEJhcj1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5tYWluLnNlbGVjdChcIi5cIitpLmNoYXJ0KS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGkuY2hhcnRCYXJzKX0sZi51cGRhdGVUYXJnZXRzRm9yQmFyPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD10aGlzLGU9ZC5jb25maWcsZj1kLmNsYXNzQ2hhcnRCYXIuYmluZChkKSxnPWQuY2xhc3NCYXJzLmJpbmQoZCksaD1kLmNsYXNzRm9jdXMuYmluZChkKTtiPWQubWFpbi5zZWxlY3QoXCIuXCIraS5jaGFydEJhcnMpLnNlbGVjdEFsbChcIi5cIitpLmNoYXJ0QmFyKS5kYXRhKGEpLmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKGEpe3JldHVybiBmKGEpK2goYSl9KSxjPWIuZW50ZXIoKS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGYpLnN0eWxlKFwib3BhY2l0eVwiLDApLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIixcIm5vbmVcIiksYy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGcpLnN0eWxlKFwiY3Vyc29yXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGUuZGF0YV9zZWxlY3Rpb25faXNzZWxlY3RhYmxlKGEpP1wicG9pbnRlclwiOm51bGx9KX0sZi51cGRhdGVCYXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuYmFyRGF0YS5iaW5kKGIpLGQ9Yi5jbGFzc0Jhci5iaW5kKGIpLGU9Yi5pbml0aWFsT3BhY2l0eS5iaW5kKGIpLGY9ZnVuY3Rpb24oYSl7cmV0dXJuIGIuY29sb3IoYS5pZCl9O2IubWFpbkJhcj1iLm1haW4uc2VsZWN0QWxsKFwiLlwiK2kuYmFycykuc2VsZWN0QWxsKFwiLlwiK2kuYmFyKS5kYXRhKGMpLGIubWFpbkJhci5lbnRlcigpLmFwcGVuZChcInBhdGhcIikuYXR0cihcImNsYXNzXCIsZCkuc3R5bGUoXCJzdHJva2VcIixmKS5zdHlsZShcImZpbGxcIixmKSxiLm1haW5CYXIuc3R5bGUoXCJvcGFjaXR5XCIsZSksYi5tYWluQmFyLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oYSkuc3R5bGUoXCJvcGFjaXR5XCIsMCkucmVtb3ZlKCl9LGYucmVkcmF3QmFyPWZ1bmN0aW9uKGEsYil7cmV0dXJuWyhiP3RoaXMubWFpbkJhci50cmFuc2l0aW9uKCk6dGhpcy5tYWluQmFyKS5hdHRyKFwiZFwiLGEpLnN0eWxlKFwiZmlsbFwiLHRoaXMuY29sb3IpLnN0eWxlKFwib3BhY2l0eVwiLDEpXX0sZi5nZXRCYXJXPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuY29uZmlnLGU9XCJudW1iZXJcIj09dHlwZW9mIGQuYmFyX3dpZHRoP2QuYmFyX3dpZHRoOmI/MiphLnRpY2tPZmZzZXQoKSpkLmJhcl93aWR0aF9yYXRpby9iOjA7cmV0dXJuIGQuYmFyX3dpZHRoX21heCYmZT5kLmJhcl93aWR0aF9tYXg/ZC5iYXJfd2lkdGhfbWF4OmV9LGYuZ2V0QmFycz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7cmV0dXJuKGI/Yy5tYWluLnNlbGVjdEFsbChcIi5cIitpLmJhcnMrYy5nZXRUYXJnZXRTZWxlY3RvclN1ZmZpeChiKSk6Yy5tYWluKS5zZWxlY3RBbGwoXCIuXCIraS5iYXIrKGooYSk/XCItXCIrYTpcIlwiKSl9LGYuZXhwYW5kQmFycz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcztjJiZkLnVuZXhwYW5kQmFycygpLGQuZ2V0QmFycyhhLGIpLmNsYXNzZWQoaS5FWFBBTkRFRCwhMCl9LGYudW5leHBhbmRCYXJzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5nZXRCYXJzKGEpLmNsYXNzZWQoaS5FWFBBTkRFRCwhMSl9LGYuZ2VuZXJhdGVEcmF3QmFyPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuY29uZmlnLGU9Yy5nZW5lcmF0ZUdldEJhclBvaW50cyhhLGIpO3JldHVybiBmdW5jdGlvbihhLGIpe3ZhciBjPWUoYSxiKSxmPWQuYXhpc19yb3RhdGVkPzE6MCxnPWQuYXhpc19yb3RhdGVkPzA6MSxoPVwiTSBcIitjWzBdW2ZdK1wiLFwiK2NbMF1bZ10rXCIgTFwiK2NbMV1bZl0rXCIsXCIrY1sxXVtnXStcIiBMXCIrY1syXVtmXStcIixcIitjWzJdW2ddK1wiIExcIitjWzNdW2ZdK1wiLFwiK2NbM11bZ10rXCIgelwiO3JldHVybiBofX0sZi5nZW5lcmF0ZUdldEJhclBvaW50cz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1iP2Muc3ViWEF4aXM6Yy54QXhpcyxlPWEuX19tYXhfXysxLGY9Yy5nZXRCYXJXKGQsZSksZz1jLmdldFNoYXBlWChmLGUsYSwhIWIpLGg9Yy5nZXRTaGFwZVkoISFiKSxpPWMuZ2V0U2hhcGVPZmZzZXQoYy5pc0JhclR5cGUsYSwhIWIpLGo9Yj9jLmdldFN1YllTY2FsZTpjLmdldFlTY2FsZTtyZXR1cm4gZnVuY3Rpb24oYSxiKXt2YXIgZD1qLmNhbGwoYyxhLmlkKSgwKSxlPWkoYSxiKXx8ZCxrPWcoYSksbD1oKGEpO3JldHVybiBjLmNvbmZpZy5heGlzX3JvdGF0ZWQmJigwPGEudmFsdWUmJmQ+bHx8YS52YWx1ZTwwJiZsPmQpJiYobD1kKSxbW2ssZV0sW2ssbC0oZC1lKV0sW2srZixsLShkLWUpXSxbaytmLGVdXX19LGYuaXNXaXRoaW5CYXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5kMy5tb3VzZShhKSxjPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZD1hLnBhdGhTZWdMaXN0LmdldEl0ZW0oMCksZT1hLnBhdGhTZWdMaXN0LmdldEl0ZW0oMSksZj1NYXRoLm1pbihkLngsZS54KSxnPU1hdGgubWluKGQueSxlLnkpLGg9Yy53aWR0aCxpPWMuaGVpZ2h0LGo9MixrPWYtaixsPWYraCtqLG09ZytpK2osbj1nLWo7cmV0dXJuIGs8YlswXSYmYlswXTxsJiZuPGJbMV0mJmJbMV08bX0sZi5pbml0VGV4dD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5tYWluLnNlbGVjdChcIi5cIitpLmNoYXJ0KS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGkuY2hhcnRUZXh0cyksYS5tYWluVGV4dD1hLmQzLnNlbGVjdEFsbChbXSl9LGYudXBkYXRlVGFyZ2V0c0ZvclRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPXRoaXMsZT1kLmNsYXNzQ2hhcnRUZXh0LmJpbmQoZCksZj1kLmNsYXNzVGV4dHMuYmluZChkKSxnPWQuY2xhc3NGb2N1cy5iaW5kKGQpO2I9ZC5tYWluLnNlbGVjdChcIi5cIitpLmNoYXJ0VGV4dHMpLnNlbGVjdEFsbChcIi5cIitpLmNoYXJ0VGV4dCkuZGF0YShhKS5hdHRyKFwiY2xhc3NcIixmdW5jdGlvbihhKXtyZXR1cm4gZShhKStnKGEpfSksYz1iLmVudGVyKCkuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixlKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsXCJub25lXCIpLGMuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixmKX0sZi51cGRhdGVUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZyxkPWIuYmFyT3JMaW5lRGF0YS5iaW5kKGIpLGU9Yi5jbGFzc1RleHQuYmluZChiKTtiLm1haW5UZXh0PWIubWFpbi5zZWxlY3RBbGwoXCIuXCIraS50ZXh0cykuc2VsZWN0QWxsKFwiLlwiK2kudGV4dCkuZGF0YShkKSxiLm1haW5UZXh0LmVudGVyKCkuYXBwZW5kKFwidGV4dFwiKS5hdHRyKFwiY2xhc3NcIixlKS5hdHRyKFwidGV4dC1hbmNob3JcIixmdW5jdGlvbihhKXtyZXR1cm4gYy5heGlzX3JvdGF0ZWQ/YS52YWx1ZTwwP1wiZW5kXCI6XCJzdGFydFwiOlwibWlkZGxlXCJ9KS5zdHlsZShcInN0cm9rZVwiLFwibm9uZVwiKS5zdHlsZShcImZpbGxcIixmdW5jdGlvbihhKXtyZXR1cm4gYi5jb2xvcihhKX0pLnN0eWxlKFwiZmlsbC1vcGFjaXR5XCIsMCksYi5tYWluVGV4dC50ZXh0KGZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYi5kYXRhTGFiZWxGb3JtYXQoYS5pZCkoYS52YWx1ZSxhLmlkLGMsZClcbn0pLGIubWFpblRleHQuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKS5zdHlsZShcImZpbGwtb3BhY2l0eVwiLDApLnJlbW92ZSgpfSxmLnJlZHJhd1RleHQ9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuWyhkP3RoaXMubWFpblRleHQudHJhbnNpdGlvbigpOnRoaXMubWFpblRleHQpLmF0dHIoXCJ4XCIsYSkuYXR0cihcInlcIixiKS5zdHlsZShcImZpbGxcIix0aGlzLmNvbG9yKS5zdHlsZShcImZpbGwtb3BhY2l0eVwiLGM/MDp0aGlzLm9wYWNpdHlGb3JUZXh0LmJpbmQodGhpcykpXX0sZi5nZXRUZXh0UmVjdD1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9dGhpcy5kMy5zZWxlY3QoXCJib2R5XCIpLmNsYXNzZWQoXCJjM1wiLCEwKSxlPWQuYXBwZW5kKFwic3ZnXCIpLnN0eWxlKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpO3JldHVybiBlLnNlbGVjdEFsbChcIi5kdW1teVwiKS5kYXRhKFthXSkuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpLmNsYXNzZWQoYj9iOlwiXCIsITApLnRleHQoYSkuZWFjaChmdW5jdGlvbigpe2M9dGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX0pLGUucmVtb3ZlKCksZC5jbGFzc2VkKFwiYzNcIiwhMSksY30sZi5nZW5lcmF0ZVhZRm9yVGV4dD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLGY9ZS5nZW5lcmF0ZUdldEFyZWFQb2ludHMoYiwhMSksZz1lLmdlbmVyYXRlR2V0QmFyUG9pbnRzKGIsITEpLGg9ZS5nZW5lcmF0ZUdldExpbmVQb2ludHMoYywhMSksaT1kP2UuZ2V0WEZvclRleHQ6ZS5nZXRZRm9yVGV4dDtyZXR1cm4gZnVuY3Rpb24oYSxiKXt2YXIgYz1lLmlzQXJlYVR5cGUoYSk/ZjplLmlzQmFyVHlwZShhKT9nOmg7cmV0dXJuIGkuY2FsbChlLGMoYSxiKSxhLHRoaXMpfX0sZi5nZXRYRm9yVGV4dD1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPXRoaXMsZz1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiBmLmNvbmZpZy5heGlzX3JvdGF0ZWQ/KGU9Zi5pc0JhclR5cGUoYik/NDo2LGQ9YVsyXVsxXStlKihiLnZhbHVlPDA/LTE6MSkpOmQ9Zi5oYXNUeXBlKFwiYmFyXCIpPyhhWzJdWzBdK2FbMF1bMF0pLzI6YVswXVswXSxudWxsPT09Yi52YWx1ZSYmKGQ+Zi53aWR0aD9kPWYud2lkdGgtZy53aWR0aDowPmQmJihkPTQpKSxkfSxmLmdldFlGb3JUZXh0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPXRoaXMsZj1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiBkPWUuY29uZmlnLmF4aXNfcm90YXRlZD8oYVswXVswXSthWzJdWzBdKy42KmYuaGVpZ2h0KS8yOmFbMl1bMV0rKGIudmFsdWU8MD9mLmhlaWdodDplLmlzQmFyVHlwZShiKT8tMzotNiksbnVsbCE9PWIudmFsdWV8fGUuY29uZmlnLmF4aXNfcm90YXRlZHx8KGQ8Zi5oZWlnaHQ/ZD1mLmhlaWdodDpkPnRoaXMuaGVpZ2h0JiYoZD10aGlzLmhlaWdodC00KSksZH0sZi5zZXRUYXJnZXRUeXBlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuY29uZmlnO2MubWFwVG9UYXJnZXRJZHMoYSkuZm9yRWFjaChmdW5jdGlvbihhKXtjLndpdGhvdXRGYWRlSW5bYV09Yj09PWQuZGF0YV90eXBlc1thXSxkLmRhdGFfdHlwZXNbYV09Yn0pLGF8fChkLmRhdGFfdHlwZT1iKX0sZi5oYXNUeXBlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuY29uZmlnLmRhdGFfdHlwZXMsZT0hMTtyZXR1cm4gYj1ifHxjLmRhdGEudGFyZ2V0cyxiJiZiLmxlbmd0aD9iLmZvckVhY2goZnVuY3Rpb24oYil7dmFyIGM9ZFtiLmlkXTsoYyYmYy5pbmRleE9mKGEpPj0wfHwhYyYmXCJsaW5lXCI9PT1hKSYmKGU9ITApfSk6T2JqZWN0LmtleXMoZCkubGVuZ3RoP09iamVjdC5rZXlzKGQpLmZvckVhY2goZnVuY3Rpb24oYil7ZFtiXT09PWEmJihlPSEwKX0pOmU9Yy5jb25maWcuZGF0YV90eXBlPT09YSxlfSxmLmhhc0FyY1R5cGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGFzVHlwZShcInBpZVwiLGEpfHx0aGlzLmhhc1R5cGUoXCJkb251dFwiLGEpfHx0aGlzLmhhc1R5cGUoXCJnYXVnZVwiLGEpfSxmLmlzTGluZVR5cGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jb25maWcsYz1sKGEpP2E6YS5pZDtyZXR1cm4hYi5kYXRhX3R5cGVzW2NdfHxbXCJsaW5lXCIsXCJzcGxpbmVcIixcImFyZWFcIixcImFyZWEtc3BsaW5lXCIsXCJzdGVwXCIsXCJhcmVhLXN0ZXBcIl0uaW5kZXhPZihiLmRhdGFfdHlwZXNbY10pPj0wfSxmLmlzU3RlcFR5cGU9ZnVuY3Rpb24oYSl7dmFyIGI9bChhKT9hOmEuaWQ7cmV0dXJuW1wic3RlcFwiLFwiYXJlYS1zdGVwXCJdLmluZGV4T2YodGhpcy5jb25maWcuZGF0YV90eXBlc1tiXSk+PTB9LGYuaXNTcGxpbmVUeXBlPWZ1bmN0aW9uKGEpe3ZhciBiPWwoYSk/YTphLmlkO3JldHVybltcInNwbGluZVwiLFwiYXJlYS1zcGxpbmVcIl0uaW5kZXhPZih0aGlzLmNvbmZpZy5kYXRhX3R5cGVzW2JdKT49MH0sZi5pc0FyZWFUeXBlPWZ1bmN0aW9uKGEpe3ZhciBiPWwoYSk/YTphLmlkO3JldHVybltcImFyZWFcIixcImFyZWEtc3BsaW5lXCIsXCJhcmVhLXN0ZXBcIl0uaW5kZXhPZih0aGlzLmNvbmZpZy5kYXRhX3R5cGVzW2JdKT49MH0sZi5pc0JhclR5cGU9ZnVuY3Rpb24oYSl7dmFyIGI9bChhKT9hOmEuaWQ7cmV0dXJuXCJiYXJcIj09PXRoaXMuY29uZmlnLmRhdGFfdHlwZXNbYl19LGYuaXNTY2F0dGVyVHlwZT1mdW5jdGlvbihhKXt2YXIgYj1sKGEpP2E6YS5pZDtyZXR1cm5cInNjYXR0ZXJcIj09PXRoaXMuY29uZmlnLmRhdGFfdHlwZXNbYl19LGYuaXNQaWVUeXBlPWZ1bmN0aW9uKGEpe3ZhciBiPWwoYSk/YTphLmlkO3JldHVyblwicGllXCI9PT10aGlzLmNvbmZpZy5kYXRhX3R5cGVzW2JdfSxmLmlzR2F1Z2VUeXBlPWZ1bmN0aW9uKGEpe3ZhciBiPWwoYSk/YTphLmlkO3JldHVyblwiZ2F1Z2VcIj09PXRoaXMuY29uZmlnLmRhdGFfdHlwZXNbYl19LGYuaXNEb251dFR5cGU9ZnVuY3Rpb24oYSl7dmFyIGI9bChhKT9hOmEuaWQ7cmV0dXJuXCJkb251dFwiPT09dGhpcy5jb25maWcuZGF0YV90eXBlc1tiXX0sZi5pc0FyY1R5cGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNQaWVUeXBlKGEpfHx0aGlzLmlzRG9udXRUeXBlKGEpfHx0aGlzLmlzR2F1Z2VUeXBlKGEpfSxmLmxpbmVEYXRhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzTGluZVR5cGUoYSk/W2FdOltdfSxmLmFyY0RhdGE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNBcmNUeXBlKGEuZGF0YSk/W2FdOltdfSxmLmJhckRhdGE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNCYXJUeXBlKGEpP2EudmFsdWVzOltdfSxmLmxpbmVPclNjYXR0ZXJEYXRhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzTGluZVR5cGUoYSl8fHRoaXMuaXNTY2F0dGVyVHlwZShhKT9hLnZhbHVlczpbXX0sZi5iYXJPckxpbmVEYXRhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzQmFyVHlwZShhKXx8dGhpcy5pc0xpbmVUeXBlKGEpP2EudmFsdWVzOltdfSxmLmluaXRHcmlkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnLGM9YS5kMzthLmdyaWQ9YS5tYWluLmFwcGVuZChcImdcIikuYXR0cihcImNsaXAtcGF0aFwiLGEuY2xpcFBhdGhGb3JHcmlkKS5hdHRyKFwiY2xhc3NcIixpLmdyaWQpLGIuZ3JpZF94X3Nob3cmJmEuZ3JpZC5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGkueGdyaWRzKSxiLmdyaWRfeV9zaG93JiZhLmdyaWQuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixpLnlncmlkcyksYi5ncmlkX2ZvY3VzX3Nob3cmJmEuZ3JpZC5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGkueGdyaWRGb2N1cykuYXBwZW5kKFwibGluZVwiKS5hdHRyKFwiY2xhc3NcIixpLnhncmlkRm9jdXMpLGEueGdyaWQ9Yy5zZWxlY3RBbGwoW10pLGIuZ3JpZF9saW5lc19mcm9udHx8YS5pbml0R3JpZExpbmVzKCl9LGYuaW5pdEdyaWRMaW5lcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmQzO2EuZ3JpZExpbmVzPWEubWFpbi5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGlwLXBhdGhcIixhLmNsaXBQYXRoRm9yR3JpZCkuYXR0cihcImNsYXNzXCIsaS5ncmlkK1wiIFwiK2kuZ3JpZExpbmVzKSxhLmdyaWRMaW5lcy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGkueGdyaWRMaW5lcyksYS5ncmlkTGluZXMuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixpLnlncmlkTGluZXMpLGEueGdyaWRMaW5lcz1iLnNlbGVjdEFsbChbXSl9LGYudXBkYXRlWEdyaWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnLGQ9Yi5kMyxlPWIuZ2VuZXJhdGVHcmlkRGF0YShjLmdyaWRfeF90eXBlLGIueCksZj1iLmlzQ2F0ZWdvcml6ZWQoKT9iLnhBeGlzLnRpY2tPZmZzZXQoKTowO2IueGdyaWRBdHRyPWMuYXhpc19yb3RhdGVkP3t4MTowLHgyOmIud2lkdGgseTE6ZnVuY3Rpb24oYSl7cmV0dXJuIGIueChhKS1mfSx5MjpmdW5jdGlvbihhKXtyZXR1cm4gYi54KGEpLWZ9fTp7eDE6ZnVuY3Rpb24oYSl7cmV0dXJuIGIueChhKStmfSx4MjpmdW5jdGlvbihhKXtyZXR1cm4gYi54KGEpK2Z9LHkxOjAseTI6Yi5oZWlnaHR9LGIueGdyaWQ9Yi5tYWluLnNlbGVjdChcIi5cIitpLnhncmlkcykuc2VsZWN0QWxsKFwiLlwiK2kueGdyaWQpLmRhdGEoZSksYi54Z3JpZC5lbnRlcigpLmFwcGVuZChcImxpbmVcIikuYXR0cihcImNsYXNzXCIsaS54Z3JpZCksYXx8Yi54Z3JpZC5hdHRyKGIueGdyaWRBdHRyKS5zdHlsZShcIm9wYWNpdHlcIixmdW5jdGlvbigpe3JldHVybitkLnNlbGVjdCh0aGlzKS5hdHRyKGMuYXhpc19yb3RhdGVkP1wieTFcIjpcIngxXCIpPT09KGMuYXhpc19yb3RhdGVkP2IuaGVpZ2h0OjApPzA6MX0pLGIueGdyaWQuZXhpdCgpLnJlbW92ZSgpfSxmLnVwZGF0ZVlHcmlkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnLGM9YS55QXhpcy50aWNrVmFsdWVzKCl8fGEueS50aWNrcyhiLmdyaWRfeV90aWNrcyk7YS55Z3JpZD1hLm1haW4uc2VsZWN0KFwiLlwiK2kueWdyaWRzKS5zZWxlY3RBbGwoXCIuXCIraS55Z3JpZCkuZGF0YShjKSxhLnlncmlkLmVudGVyKCkuYXBwZW5kKFwibGluZVwiKS5hdHRyKFwiY2xhc3NcIixpLnlncmlkKSxhLnlncmlkLmF0dHIoXCJ4MVwiLGIuYXhpc19yb3RhdGVkP2EueTowKS5hdHRyKFwieDJcIixiLmF4aXNfcm90YXRlZD9hLnk6YS53aWR0aCkuYXR0cihcInkxXCIsYi5heGlzX3JvdGF0ZWQ/MDphLnkpLmF0dHIoXCJ5MlwiLGIuYXhpc19yb3RhdGVkP2EuaGVpZ2h0OmEueSksYS55Z3JpZC5leGl0KCkucmVtb3ZlKCksYS5zbW9vdGhMaW5lcyhhLnlncmlkLFwiZ3JpZFwiKX0sZi51cGRhdGVHcmlkPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPXRoaXMsZj1lLm1haW4sZz1lLmNvbmZpZztlLmdyaWQuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsZS5oYXNBcmNUeXBlKCk/XCJoaWRkZW5cIjpcInZpc2libGVcIiksZi5zZWxlY3QoXCJsaW5lLlwiK2kueGdyaWRGb2N1cykuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIiksZy5ncmlkX3hfc2hvdyYmZS51cGRhdGVYR3JpZCgpLGUueGdyaWRMaW5lcz1mLnNlbGVjdChcIi5cIitpLnhncmlkTGluZXMpLnNlbGVjdEFsbChcIi5cIitpLnhncmlkTGluZSkuZGF0YShnLmdyaWRfeF9saW5lcyksYj1lLnhncmlkTGluZXMuZW50ZXIoKS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKGEpe3JldHVybiBpLnhncmlkTGluZSsoYVtcImNsYXNzXCJdP1wiIFwiK2FbXCJjbGFzc1wiXTpcIlwiKX0pLGIuYXBwZW5kKFwibGluZVwiKS5zdHlsZShcIm9wYWNpdHlcIiwwKSxiLmFwcGVuZChcInRleHRcIikuYXR0cihcInRleHQtYW5jaG9yXCIsXCJlbmRcIikuYXR0cihcInRyYW5zZm9ybVwiLGcuYXhpc19yb3RhdGVkP1wiXCI6XCJyb3RhdGUoLTkwKVwiKS5hdHRyKFwiZHhcIiwtNCkuYXR0cihcImR5XCIsLTUpLnN0eWxlKFwib3BhY2l0eVwiLDApLGUueGdyaWRMaW5lcy5leGl0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpLnN0eWxlKFwib3BhY2l0eVwiLDApLnJlbW92ZSgpLGcuZ3JpZF95X3Nob3cmJmUudXBkYXRlWUdyaWQoKSxlLnlncmlkTGluZXM9Zi5zZWxlY3QoXCIuXCIraS55Z3JpZExpbmVzKS5zZWxlY3RBbGwoXCIuXCIraS55Z3JpZExpbmUpLmRhdGEoZy5ncmlkX3lfbGluZXMpLGM9ZS55Z3JpZExpbmVzLmVudGVyKCkuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixmdW5jdGlvbihhKXtyZXR1cm4gaS55Z3JpZExpbmUrKGFbXCJjbGFzc1wiXT9cIiBcIithW1wiY2xhc3NcIl06XCJcIil9KSxjLmFwcGVuZChcImxpbmVcIikuc3R5bGUoXCJvcGFjaXR5XCIsMCksYy5hcHBlbmQoXCJ0ZXh0XCIpLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLFwiZW5kXCIpLmF0dHIoXCJ0cmFuc2Zvcm1cIixnLmF4aXNfcm90YXRlZD9cInJvdGF0ZSgtOTApXCI6XCJcIikuYXR0cihcImR4XCIsZy5heGlzX3JvdGF0ZWQ/MDotZS5tYXJnaW4udG9wKS5hdHRyKFwiZHlcIiwtNSkuc3R5bGUoXCJvcGFjaXR5XCIsMCksZD1lLnl2LmJpbmQoZSksZS55Z3JpZExpbmVzLnNlbGVjdChcImxpbmVcIikudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpLmF0dHIoXCJ4MVwiLGcuYXhpc19yb3RhdGVkP2Q6MCkuYXR0cihcIngyXCIsZy5heGlzX3JvdGF0ZWQ/ZDplLndpZHRoKS5hdHRyKFwieTFcIixnLmF4aXNfcm90YXRlZD8wOmQpLmF0dHIoXCJ5MlwiLGcuYXhpc19yb3RhdGVkP2UuaGVpZ2h0OmQpLnN0eWxlKFwib3BhY2l0eVwiLDEpLGUueWdyaWRMaW5lcy5zZWxlY3QoXCJ0ZXh0XCIpLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKS5hdHRyKFwieFwiLGcuYXhpc19yb3RhdGVkPzA6ZS53aWR0aCkuYXR0cihcInlcIixkKS50ZXh0KGZ1bmN0aW9uKGEpe3JldHVybiBhLnRleHR9KS5zdHlsZShcIm9wYWNpdHlcIiwxKSxlLnlncmlkTGluZXMuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5yZW1vdmUoKX0sZi5yZWRyYXdHcmlkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZyxkPWIueHYuYmluZChiKSxlPWIueGdyaWRMaW5lcy5zZWxlY3QoXCJsaW5lXCIpLGY9Yi54Z3JpZExpbmVzLnNlbGVjdChcInRleHRcIik7cmV0dXJuWyhhP2UudHJhbnNpdGlvbigpOmUpLmF0dHIoXCJ4MVwiLGMuYXhpc19yb3RhdGVkPzA6ZCkuYXR0cihcIngyXCIsYy5heGlzX3JvdGF0ZWQ/Yi53aWR0aDpkKS5hdHRyKFwieTFcIixjLmF4aXNfcm90YXRlZD9kOjApLmF0dHIoXCJ5MlwiLGMuYXhpc19yb3RhdGVkP2Q6Yi5oZWlnaHQpLnN0eWxlKFwib3BhY2l0eVwiLDEpLChhP2YudHJhbnNpdGlvbigpOmYpLmF0dHIoXCJ4XCIsYy5heGlzX3JvdGF0ZWQ/Yi53aWR0aDowKS5hdHRyKFwieVwiLGQpLnRleHQoZnVuY3Rpb24oYSl7cmV0dXJuIGEudGV4dH0pLnN0eWxlKFwib3BhY2l0eVwiLDEpXX0sZi5zaG93WEdyaWRGb2N1cz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWcsZD1hLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYSYmaihhLnZhbHVlKX0pLGU9Yi5tYWluLnNlbGVjdEFsbChcImxpbmUuXCIraS54Z3JpZEZvY3VzKSxmPWIueHguYmluZChiKTtjLnRvb2x0aXBfc2hvdyYmKGIuaGFzVHlwZShcInNjYXR0ZXJcIil8fGIuaGFzQXJjVHlwZSgpfHwoZS5zdHlsZShcInZpc2liaWxpdHlcIixcInZpc2libGVcIikuZGF0YShbZFswXV0pLmF0dHIoYy5heGlzX3JvdGF0ZWQ/XCJ5MVwiOlwieDFcIixmKS5hdHRyKGMuYXhpc19yb3RhdGVkP1wieTJcIjpcIngyXCIsZiksYi5zbW9vdGhMaW5lcyhlLFwiZ3JpZFwiKSkpfSxmLmhpZGVYR3JpZEZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5tYWluLnNlbGVjdChcImxpbmUuXCIraS54Z3JpZEZvY3VzKS5zdHlsZShcInZpc2liaWxpdHlcIixcImhpZGRlblwiKX0sZi51cGRhdGVYZ3JpZEZvY3VzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnO2EubWFpbi5zZWxlY3QoXCJsaW5lLlwiK2kueGdyaWRGb2N1cykuYXR0cihcIngxXCIsYi5heGlzX3JvdGF0ZWQ/MDotMTApLmF0dHIoXCJ4MlwiLGIuYXhpc19yb3RhdGVkP2Eud2lkdGg6LTEwKS5hdHRyKFwieTFcIixiLmF4aXNfcm90YXRlZD8tMTA6MCkuYXR0cihcInkyXCIsYi5heGlzX3JvdGF0ZWQ/LTEwOmEuaGVpZ2h0KX0sZi5nZW5lcmF0ZUdyaWREYXRhPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZz10aGlzLGg9W10saj1nLm1haW4uc2VsZWN0KFwiLlwiK2kuYXhpc1gpLnNlbGVjdEFsbChcIi50aWNrXCIpLnNpemUoKTtpZihcInllYXJcIj09PWEpZm9yKGM9Zy5nZXRYRG9tYWluKCksZD1jWzBdLmdldEZ1bGxZZWFyKCksZT1jWzFdLmdldEZ1bGxZZWFyKCksZj1kO2U+PWY7ZisrKWgucHVzaChuZXcgRGF0ZShmK1wiLTAxLTAxIDAwOjAwOjAwXCIpKTtlbHNlIGg9Yi50aWNrcygxMCksaC5sZW5ndGg+aiYmKGg9aC5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuKFwiXCIrYSkuaW5kZXhPZihcIi5cIik8MH0pKTtyZXR1cm4gaH0sZi5nZXRHcmlkRmlsdGVyVG9SZW1vdmU9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/ZnVuY3Rpb24oYil7dmFyIGM9ITE7cmV0dXJuW10uY29uY2F0KGEpLmZvckVhY2goZnVuY3Rpb24oYSl7KFwidmFsdWVcImluIGEmJmIudmFsdWU9PT1hLnZhbHVlfHxcImNsYXNzXCJpbiBhJiZiW1wiY2xhc3NcIl09PT1hW1wiY2xhc3NcIl0pJiYoYz0hMCl9KSxjfTpmdW5jdGlvbigpe3JldHVybiEwfX0sZi5yZW1vdmVHcmlkTGluZXM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy5jb25maWcsZT1jLmdldEdyaWRGaWx0ZXJUb1JlbW92ZShhKSxmPWZ1bmN0aW9uKGEpe3JldHVybiFlKGEpfSxnPWI/aS54Z3JpZExpbmVzOmkueWdyaWRMaW5lcyxoPWI/aS54Z3JpZExpbmU6aS55Z3JpZExpbmU7Yy5tYWluLnNlbGVjdChcIi5cIitnKS5zZWxlY3RBbGwoXCIuXCIraCkuZmlsdGVyKGUpLnRyYW5zaXRpb24oKS5kdXJhdGlvbihkLnRyYW5zaXRpb25fZHVyYXRpb24pLnN0eWxlKFwib3BhY2l0eVwiLDApLnJlbW92ZSgpLGI/ZC5ncmlkX3hfbGluZXM9ZC5ncmlkX3hfbGluZXMuZmlsdGVyKGYpOmQuZ3JpZF95X2xpbmVzPWQuZ3JpZF95X2xpbmVzLmZpbHRlcihmKX0sZi5pbml0VG9vbHRpcD1mdW5jdGlvbigpe3ZhciBhLGI9dGhpcyxjPWIuY29uZmlnO2lmKGIudG9vbHRpcD1iLnNlbGVjdENoYXJ0LnN0eWxlKFwicG9zaXRpb25cIixcInJlbGF0aXZlXCIpLmFwcGVuZChcImRpdlwiKS5hdHRyKFwiY2xhc3NcIixpLnRvb2x0aXBDb250YWluZXIpLnN0eWxlKFwicG9zaXRpb25cIixcImFic29sdXRlXCIpLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIixcIm5vbmVcIikuc3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpLGMudG9vbHRpcF9pbml0X3Nob3cpe2lmKGIuaXNUaW1lU2VyaWVzKCkmJmwoYy50b29sdGlwX2luaXRfeCkpe2ZvcihjLnRvb2x0aXBfaW5pdF94PWIucGFyc2VEYXRlKGMudG9vbHRpcF9pbml0X3gpLGE9MDthPGIuZGF0YS50YXJnZXRzWzBdLnZhbHVlcy5sZW5ndGgmJmIuZGF0YS50YXJnZXRzWzBdLnZhbHVlc1thXS54LWMudG9vbHRpcF9pbml0X3ghPT0wO2ErKyk7Yy50b29sdGlwX2luaXRfeD1hfWIudG9vbHRpcC5odG1sKGMudG9vbHRpcF9jb250ZW50cy5jYWxsKGIsYi5kYXRhLnRhcmdldHMubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBiLmFkZE5hbWUoYS52YWx1ZXNbYy50b29sdGlwX2luaXRfeF0pfSksYi5nZXRYQXhpc1RpY2tGb3JtYXQoKSxiLmdldFlGb3JtYXQoYi5oYXNBcmNUeXBlKCkpLGIuY29sb3IpKSxiLnRvb2x0aXAuc3R5bGUoXCJ0b3BcIixjLnRvb2x0aXBfaW5pdF9wb3NpdGlvbi50b3ApLnN0eWxlKFwibGVmdFwiLGMudG9vbHRpcF9pbml0X3Bvc2l0aW9uLmxlZnQpLnN0eWxlKFwiZGlzcGxheVwiLFwiYmxvY2tcIil9fSxmLmdldFRvb2x0aXBDb250ZW50PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoLGosayxsPXRoaXMsbT1sLmNvbmZpZyxuPW0udG9vbHRpcF9mb3JtYXRfdGl0bGV8fGIsbz1tLnRvb2x0aXBfZm9ybWF0X25hbWV8fGZ1bmN0aW9uKGEpe3JldHVybiBhfSxwPW0udG9vbHRpcF9mb3JtYXRfdmFsdWV8fGM7Zm9yKGY9MDtmPGEubGVuZ3RoO2YrKylhW2ZdJiYoYVtmXS52YWx1ZXx8MD09PWFbZl0udmFsdWUpJiYoZXx8KGc9bj9uKGFbZl0ueCk6YVtmXS54LGU9XCI8dGFibGUgY2xhc3M9J1wiK2kudG9vbHRpcCtcIic+XCIrKGd8fDA9PT1nP1wiPHRyPjx0aCBjb2xzcGFuPScyJz5cIitnK1wiPC90aD48L3RyPlwiOlwiXCIpKSxoPXAoYVtmXS52YWx1ZSxhW2ZdLnJhdGlvLGFbZl0uaWQsYVtmXS5pbmRleCksdm9pZCAwIT09aCYmKGo9byhhW2ZdLm5hbWUsYVtmXS5yYXRpbyxhW2ZdLmlkLGFbZl0uaW5kZXgpLGs9bC5sZXZlbENvbG9yP2wubGV2ZWxDb2xvcihhW2ZdLnZhbHVlKTpkKGFbZl0uaWQpLGUrPVwiPHRyIGNsYXNzPSdcIitpLnRvb2x0aXBOYW1lK1wiLVwiK2FbZl0uaWQrXCInPlwiLGUrPVwiPHRkIGNsYXNzPSduYW1lJz48c3BhbiBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjpcIitrK1wiJz48L3NwYW4+XCIraitcIjwvdGQ+XCIsZSs9XCI8dGQgY2xhc3M9J3ZhbHVlJz5cIitoK1wiPC90ZD5cIixlKz1cIjwvdHI+XCIpKTtyZXR1cm4gZStcIjwvdGFibGU+XCJ9LGYudG9vbHRpcFBvc2l0aW9uPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoLGksaj10aGlzLGs9ai5jb25maWcsbD1qLmQzLG09ai5oYXNBcmNUeXBlKCksbj1sLm1vdXNlKGQpO3JldHVybiBtPyhmPShqLndpZHRoLShqLmlzTGVnZW5kUmlnaHQ/ai5nZXRMZWdlbmRXaWR0aCgpOjApKS8yK25bMF0saD1qLmhlaWdodC8yK25bMV0rMjApOihlPWouZ2V0U3ZnTGVmdCghMCksay5heGlzX3JvdGF0ZWQ/KGY9ZStuWzBdKzEwMCxnPWYrYixpPWouY3VycmVudFdpZHRoLWouZ2V0Q3VycmVudFBhZGRpbmdSaWdodCgpLGg9ai54KGFbMF0ueCkrMjApOihmPWUrai5nZXRDdXJyZW50UGFkZGluZ0xlZnQoITApK2oueChhWzBdLngpKzIwLGc9ZitiLGk9ZStqLmN1cnJlbnRXaWR0aC1qLmdldEN1cnJlbnRQYWRkaW5nUmlnaHQoKSxoPW5bMV0rMTUpLGc+aSYmKGYtPWctaSksaCtjPmouY3VycmVudEhlaWdodCYmKGgtPWMrMzApKSwwPmgmJihoPTApLHt0b3A6aCxsZWZ0OmZ9fSxmLnNob3dUb29sdGlwPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGc9dGhpcyxoPWcuY29uZmlnLGk9Zy5oYXNBcmNUeXBlKCksaz1hLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYSYmaihhLnZhbHVlKX0pLGw9aC50b29sdGlwX3Bvc2l0aW9ufHxmLnRvb2x0aXBQb3NpdGlvbjswIT09ay5sZW5ndGgmJmgudG9vbHRpcF9zaG93JiYoZy50b29sdGlwLmh0bWwoaC50b29sdGlwX2NvbnRlbnRzLmNhbGwoZyxhLGcuZ2V0WEF4aXNUaWNrRm9ybWF0KCksZy5nZXRZRm9ybWF0KGkpLGcuY29sb3IpKS5zdHlsZShcImRpc3BsYXlcIixcImJsb2NrXCIpLGM9Zy50b29sdGlwLnByb3BlcnR5KFwib2Zmc2V0V2lkdGhcIiksZD1nLnRvb2x0aXAucHJvcGVydHkoXCJvZmZzZXRIZWlnaHRcIiksZT1sLmNhbGwodGhpcyxrLGMsZCxiKSxnLnRvb2x0aXAuc3R5bGUoXCJ0b3BcIixlLnRvcCtcInB4XCIpLnN0eWxlKFwibGVmdFwiLGUubGVmdCtcInB4XCIpKX0sZi5oaWRlVG9vbHRpcD1mdW5jdGlvbigpe3RoaXMudG9vbHRpcC5zdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIil9LGYuaW5pdExlZ2VuZD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEubGVnZW5kSGFzUmVuZGVyZWQ9ITEsYS5sZWdlbmQ9YS5zdmcuYXBwZW5kKFwiZ1wiKS5hdHRyKFwidHJhbnNmb3JtXCIsYS5nZXRUcmFuc2xhdGUoXCJsZWdlbmRcIikpLGEuY29uZmlnLmxlZ2VuZF9zaG93P3ZvaWQgYS51cGRhdGVMZWdlbmRXaXRoRGVmYXVsdHMoKTooYS5sZWdlbmQuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIiksdm9pZChhLmhpZGRlbkxlZ2VuZElkcz1hLm1hcFRvSWRzKGEuZGF0YS50YXJnZXRzKSkpfSxmLnVwZGF0ZUxlZ2VuZFdpdGhEZWZhdWx0cz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS51cGRhdGVMZWdlbmQoYS5tYXBUb0lkcyhhLmRhdGEudGFyZ2V0cykse3dpdGhUcmFuc2Zvcm06ITEsd2l0aFRyYW5zaXRpb25Gb3JUcmFuc2Zvcm06ITEsd2l0aFRyYW5zaXRpb246ITF9KX0sZi51cGRhdGVTaXplRm9yTGVnZW5kPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuY29uZmlnLGU9e3RvcDpjLmlzTGVnZW5kVG9wP2MuZ2V0Q3VycmVudFBhZGRpbmdUb3AoKStkLmxlZ2VuZF9pbnNldF95KzUuNTpjLmN1cnJlbnRIZWlnaHQtYS1jLmdldEN1cnJlbnRQYWRkaW5nQm90dG9tKCktZC5sZWdlbmRfaW5zZXRfeSxsZWZ0OmMuaXNMZWdlbmRMZWZ0P2MuZ2V0Q3VycmVudFBhZGRpbmdMZWZ0KCkrZC5sZWdlbmRfaW5zZXRfeCsuNTpjLmN1cnJlbnRXaWR0aC1iLWMuZ2V0Q3VycmVudFBhZGRpbmdSaWdodCgpLWQubGVnZW5kX2luc2V0X3grLjV9O2MubWFyZ2luMz17dG9wOmMuaXNMZWdlbmRSaWdodD8wOmMuaXNMZWdlbmRJbnNldD9lLnRvcDpjLmN1cnJlbnRIZWlnaHQtYSxyaWdodDowLzAsYm90dG9tOjAsbGVmdDpjLmlzTGVnZW5kUmlnaHQ/Yy5jdXJyZW50V2lkdGgtYjpjLmlzTGVnZW5kSW5zZXQ/ZS5sZWZ0OjB9fSxmLnRyYW5zZm9ybUxlZ2VuZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzOyhhP2IubGVnZW5kLnRyYW5zaXRpb24oKTpiLmxlZ2VuZCkuYXR0cihcInRyYW5zZm9ybVwiLGIuZ2V0VHJhbnNsYXRlKFwibGVnZW5kXCIpKX0sZi51cGRhdGVMZWdlbmRTdGVwPWZ1bmN0aW9uKGEpe3RoaXMubGVnZW5kU3RlcD1hfSxmLnVwZGF0ZUxlZ2VuZEl0ZW1XaWR0aD1mdW5jdGlvbihhKXt0aGlzLmxlZ2VuZEl0ZW1XaWR0aD1hfSxmLnVwZGF0ZUxlZ2VuZEl0ZW1IZWlnaHQ9ZnVuY3Rpb24oYSl7dGhpcy5sZWdlbmRJdGVtSGVpZ2h0PWF9LGYuZ2V0TGVnZW5kV2lkdGg9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBhLmNvbmZpZy5sZWdlbmRfc2hvdz9hLmlzTGVnZW5kUmlnaHR8fGEuaXNMZWdlbmRJbnNldD9hLmxlZ2VuZEl0ZW1XaWR0aCooYS5sZWdlbmRTdGVwKzEpOmEuY3VycmVudFdpZHRoOjB9LGYuZ2V0TGVnZW5kSGVpZ2h0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPTA7cmV0dXJuIGEuY29uZmlnLmxlZ2VuZF9zaG93JiYoYj1hLmlzTGVnZW5kUmlnaHQ/YS5jdXJyZW50SGVpZ2h0Ok1hdGgubWF4KDIwLGEubGVnZW5kSXRlbUhlaWdodCkqKGEubGVnZW5kU3RlcCsxKSksYn0sZi5vcGFjaXR5Rm9yTGVnZW5kPWZ1bmN0aW9uKGEpe3JldHVybiBhLmNsYXNzZWQoaS5sZWdlbmRJdGVtSGlkZGVuKT9udWxsOjF9LGYub3BhY2l0eUZvclVuZm9jdXNlZExlZ2VuZD1mdW5jdGlvbihhKXtyZXR1cm4gYS5jbGFzc2VkKGkubGVnZW5kSXRlbUhpZGRlbik/bnVsbDouM30sZi50b2dnbGVGb2N1c0xlZ2VuZD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7YT1jLm1hcFRvVGFyZ2V0SWRzKGEpLGMubGVnZW5kLnNlbGVjdEFsbChcIi5cIitpLmxlZ2VuZEl0ZW0pLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gYS5pbmRleE9mKGIpPj0wfSkuY2xhc3NlZChpLmxlZ2VuZEl0ZW1Gb2N1c2VkLGIpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDApLnN0eWxlKFwib3BhY2l0eVwiLGZ1bmN0aW9uKCl7dmFyIGE9Yj9jLm9wYWNpdHlGb3JMZWdlbmQ6Yy5vcGFjaXR5Rm9yVW5mb2N1c2VkTGVnZW5kO3JldHVybiBhLmNhbGwoYyxjLmQzLnNlbGVjdCh0aGlzKSl9KX0sZi5yZXZlcnRMZWdlbmQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5kMzthLmxlZ2VuZC5zZWxlY3RBbGwoXCIuXCIraS5sZWdlbmRJdGVtKS5jbGFzc2VkKGkubGVnZW5kSXRlbUZvY3VzZWQsITEpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDApLnN0eWxlKFwib3BhY2l0eVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGEub3BhY2l0eUZvckxlZ2VuZChiLnNlbGVjdCh0aGlzKSl9KX0sZi5zaG93TGVnZW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZztjLmxlZ2VuZF9zaG93fHwoYy5sZWdlbmRfc2hvdz0hMCxiLmxlZ2VuZC5zdHlsZShcInZpc2liaWxpdHlcIixcInZpc2libGVcIiksYi5sZWdlbmRIYXNSZW5kZXJlZHx8Yi51cGRhdGVMZWdlbmRXaXRoRGVmYXVsdHMoKSksYi5yZW1vdmVIaWRkZW5MZWdlbmRJZHMoYSksYi5sZWdlbmQuc2VsZWN0QWxsKGIuc2VsZWN0b3JMZWdlbmRzKGEpKS5zdHlsZShcInZpc2liaWxpdHlcIixcInZpc2libGVcIikudHJhbnNpdGlvbigpLnN0eWxlKFwib3BhY2l0eVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGIub3BhY2l0eUZvckxlZ2VuZChiLmQzLnNlbGVjdCh0aGlzKSl9KX0sZi5oaWRlTGVnZW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZztjLmxlZ2VuZF9zaG93JiZyKGEpJiYoYy5sZWdlbmRfc2hvdz0hMSxiLmxlZ2VuZC5zdHlsZShcInZpc2liaWxpdHlcIixcImhpZGRlblwiKSksYi5hZGRIaWRkZW5MZWdlbmRJZHMoYSksYi5sZWdlbmQuc2VsZWN0QWxsKGIuc2VsZWN0b3JMZWdlbmRzKGEpKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5zdHlsZShcInZpc2liaWxpdHlcIixcImhpZGRlblwiKX07dmFyIGg9e307Zi5jbGVhckxlZ2VuZEl0ZW1UZXh0Qm94Q2FjaGU9ZnVuY3Rpb24oKXtoPXt9fSxmLnVwZGF0ZUxlZ2VuZD1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhLGIpe3JldHVybiBoW2JdfHwoaFtiXT13LmdldFRleHRSZWN0KGEudGV4dENvbnRlbnQsaS5sZWdlbmRJdGVtKSksaFtiXX1mdW5jdGlvbiBlKGIsYyxlKXtmdW5jdGlvbiBmKGEsYil7Ynx8KGc9KG8tRS1uKS8yLEM+ZyYmKGc9KG8tbikvMixFPTAsSysrKSksSlthXT1LLElbS109dy5pc0xlZ2VuZEluc2V0PzEwOmcsRlthXT1FLEUrPW59dmFyIGcsaCxpPTA9PT1lLGo9ZT09PWEubGVuZ3RoLTEsaz1kKGIsYyksbD1rLndpZHRoK0QrKCFqfHx3LmlzTGVnZW5kUmlnaHR8fHcuaXNMZWdlbmRJbnNldD96OjApLG09ay5oZWlnaHQreSxuPXcuaXNMZWdlbmRSaWdodHx8dy5pc0xlZ2VuZEluc2V0P206bCxvPXcuaXNMZWdlbmRSaWdodHx8dy5pc0xlZ2VuZEluc2V0P3cuZ2V0TGVnZW5kSGVpZ2h0KCk6dy5nZXRMZWdlbmRXaWR0aCgpO3JldHVybiBpJiYoRT0wLEs9MCxBPTAsQj0wKSx4LmxlZ2VuZF9zaG93JiYhdy5pc0xlZ2VuZFRvU2hvdyhjKT92b2lkKEdbY109SFtjXT1KW2NdPUZbY109MCk6KEdbY109bCxIW2NdPW0sKCFBfHxsPj1BKSYmKEE9bCksKCFCfHxtPj1CKSYmKEI9bSksaD13LmlzTGVnZW5kUmlnaHR8fHcuaXNMZWdlbmRJbnNldD9COkEsdm9pZCh4LmxlZ2VuZF9lcXVhbGx5PyhPYmplY3Qua2V5cyhHKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe0dbYV09QX0pLE9iamVjdC5rZXlzKEgpLmZvckVhY2goZnVuY3Rpb24oYSl7SFthXT1CfSksZz0oby1oKmEubGVuZ3RoKS8yLEM+Zz8oRT0wLEs9MCxhLmZvckVhY2goZnVuY3Rpb24oYSl7ZihhKX0pKTpmKGMsITApKTpmKGMpKSl9dmFyIGYsZyxqLGssbCxtLG8scCxxLHIscyx1LHYsdz10aGlzLHg9dy5jb25maWcseT00LHo9MTAsQT0wLEI9MCxDPTEwLEQ9MTUsRT0wLEY9e30sRz17fSxIPXt9LEk9WzBdLEo9e30sSz0wLEw9dy5sZWdlbmQuc2VsZWN0QWxsKFwiLlwiK2kubGVnZW5kSXRlbUZvY3VzZWQpLnNpemUoKTtiPWJ8fHt9LHA9dChiLFwid2l0aFRyYW5zaXRpb25cIiwhMCkscT10KGIsXCJ3aXRoVHJhbnNpdGlvbkZvclRyYW5zZm9ybVwiLCEwKSx3LmlzTGVnZW5kSW5zZXQmJihLPXgubGVnZW5kX2luc2V0X3N0ZXA/eC5sZWdlbmRfaW5zZXRfc3RlcDphLmxlbmd0aCx3LnVwZGF0ZUxlZ2VuZFN0ZXAoSykpLHcuaXNMZWdlbmRSaWdodD8oZj1mdW5jdGlvbihhKXtyZXR1cm4gQSpKW2FdfSxrPWZ1bmN0aW9uKGEpe3JldHVybiBJW0pbYV1dK0ZbYV19KTp3LmlzTGVnZW5kSW5zZXQ/KGY9ZnVuY3Rpb24oYSl7cmV0dXJuIEEqSlthXSsxMH0saz1mdW5jdGlvbihhKXtyZXR1cm4gSVtKW2FdXStGW2FdfSk6KGY9ZnVuY3Rpb24oYSl7cmV0dXJuIElbSlthXV0rRlthXX0saz1mdW5jdGlvbihhKXtyZXR1cm4gQipKW2FdfSksZz1mdW5jdGlvbihhLGIpe3JldHVybiBmKGEsYikrMTR9LGw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gayhhLGIpKzl9LGo9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZihhLGIpfSxtPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGsoYSxiKS01fSxvPXcubGVnZW5kLnNlbGVjdEFsbChcIi5cIitpLmxlZ2VuZEl0ZW0pLmRhdGEoYSkuZW50ZXIoKS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKGEpe3JldHVybiB3LmdlbmVyYXRlQ2xhc3MoaS5sZWdlbmRJdGVtLGEpfSkuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsZnVuY3Rpb24oYSl7cmV0dXJuIHcuaXNMZWdlbmRUb1Nob3coYSk/XCJ2aXNpYmxlXCI6XCJoaWRkZW5cIn0pLnN0eWxlKFwiY3Vyc29yXCIsXCJwb2ludGVyXCIpLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXt4LmxlZ2VuZF9pdGVtX29uY2xpY2s/eC5sZWdlbmRfaXRlbV9vbmNsaWNrLmNhbGwodyxhKTp3LmQzLmV2ZW50LmFsdEtleT8ody5hcGkuaGlkZSgpLHcuYXBpLnNob3coYSkpOih3LmFwaS50b2dnbGUoYSksdy5pc1RhcmdldFRvU2hvdyhhKT93LmFwaS5mb2N1cyhhKTp3LmFwaS5yZXZlcnQoKSl9KS5vbihcIm1vdXNlb3ZlclwiLGZ1bmN0aW9uKGEpe3cuZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoaS5sZWdlbmRJdGVtRm9jdXNlZCwhMCksIXcudHJhbnNpdGluZyYmdy5pc1RhcmdldFRvU2hvdyhhKSYmdy5hcGkuZm9jdXMoYSkseC5sZWdlbmRfaXRlbV9vbm1vdXNlb3ZlciYmeC5sZWdlbmRfaXRlbV9vbm1vdXNlb3Zlci5jYWxsKHcsYSl9KS5vbihcIm1vdXNlb3V0XCIsZnVuY3Rpb24oYSl7dy5kMy5zZWxlY3QodGhpcykuY2xhc3NlZChpLmxlZ2VuZEl0ZW1Gb2N1c2VkLCExKSx3LmFwaS5yZXZlcnQoKSx4LmxlZ2VuZF9pdGVtX29ubW91c2VvdXQmJngubGVnZW5kX2l0ZW1fb25tb3VzZW91dC5jYWxsKHcsYSl9KSxvLmFwcGVuZChcInRleHRcIikudGV4dChmdW5jdGlvbihhKXtyZXR1cm4gbih4LmRhdGFfbmFtZXNbYV0pP3guZGF0YV9uYW1lc1thXTphfSkuZWFjaChmdW5jdGlvbihhLGIpe2UodGhpcyxhLGIpfSkuc3R5bGUoXCJwb2ludGVyLWV2ZW50c1wiLFwibm9uZVwiKS5hdHRyKFwieFwiLHcuaXNMZWdlbmRSaWdodHx8dy5pc0xlZ2VuZEluc2V0P2c6LTIwMCkuYXR0cihcInlcIix3LmlzTGVnZW5kUmlnaHR8fHcuaXNMZWdlbmRJbnNldD8tMjAwOmwpLG8uYXBwZW5kKFwicmVjdFwiKS5hdHRyKFwiY2xhc3NcIixpLmxlZ2VuZEl0ZW1FdmVudCkuc3R5bGUoXCJmaWxsLW9wYWNpdHlcIiwwKS5hdHRyKFwieFwiLHcuaXNMZWdlbmRSaWdodHx8dy5pc0xlZ2VuZEluc2V0P2o6LTIwMCkuYXR0cihcInlcIix3LmlzTGVnZW5kUmlnaHR8fHcuaXNMZWdlbmRJbnNldD8tMjAwOm0pLG8uYXBwZW5kKFwicmVjdFwiKS5hdHRyKFwiY2xhc3NcIixpLmxlZ2VuZEl0ZW1UaWxlKS5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsXCJub25lXCIpLnN0eWxlKFwiZmlsbFwiLHcuY29sb3IpLmF0dHIoXCJ4XCIsdy5pc0xlZ2VuZFJpZ2h0fHx3LmlzTGVnZW5kSW5zZXQ/ZzotMjAwKS5hdHRyKFwieVwiLHcuaXNMZWdlbmRSaWdodHx8dy5pc0xlZ2VuZEluc2V0Py0yMDA6aykuYXR0cihcIndpZHRoXCIsMTApLmF0dHIoXCJoZWlnaHRcIiwxMCksdj13LmxlZ2VuZC5zZWxlY3QoXCIuXCIraS5sZWdlbmRCYWNrZ3JvdW5kK1wiIHJlY3RcIiksdy5pc0xlZ2VuZEluc2V0JiZBPjAmJjA9PT12LnNpemUoKSYmKHY9dy5sZWdlbmQuaW5zZXJ0KFwiZ1wiLFwiLlwiK2kubGVnZW5kSXRlbSkuYXR0cihcImNsYXNzXCIsaS5sZWdlbmRCYWNrZ3JvdW5kKS5hcHBlbmQoXCJyZWN0XCIpKSxyPXcubGVnZW5kLnNlbGVjdEFsbChcInRleHRcIikuZGF0YShhKS50ZXh0KGZ1bmN0aW9uKGEpe3JldHVybiBuKHguZGF0YV9uYW1lc1thXSk/eC5kYXRhX25hbWVzW2FdOmF9KS5lYWNoKGZ1bmN0aW9uKGEsYil7ZSh0aGlzLGEsYil9KSwocD9yLnRyYW5zaXRpb24oKTpyKS5hdHRyKFwieFwiLGcpLmF0dHIoXCJ5XCIsbCkscz13LmxlZ2VuZC5zZWxlY3RBbGwoXCJyZWN0LlwiK2kubGVnZW5kSXRlbUV2ZW50KS5kYXRhKGEpLChwP3MudHJhbnNpdGlvbigpOnMpLmF0dHIoXCJ3aWR0aFwiLGZ1bmN0aW9uKGEpe3JldHVybiBHW2FdfSkuYXR0cihcImhlaWdodFwiLGZ1bmN0aW9uKGEpe3JldHVybiBIW2FdfSkuYXR0cihcInhcIixqKS5hdHRyKFwieVwiLG0pLHU9dy5sZWdlbmQuc2VsZWN0QWxsKFwicmVjdC5cIitpLmxlZ2VuZEl0ZW1UaWxlKS5kYXRhKGEpLChwP3UudHJhbnNpdGlvbigpOnUpLnN0eWxlKFwiZmlsbFwiLHcuY29sb3IpLmF0dHIoXCJ4XCIsZikuYXR0cihcInlcIixrKSx2JiYocD92LnRyYW5zaXRpb24oKTp2KS5hdHRyKFwiaGVpZ2h0XCIsdy5nZXRMZWdlbmRIZWlnaHQoKS0xMikuYXR0cihcIndpZHRoXCIsQSooSysxKSsxMCksdy5sZWdlbmQuc2VsZWN0QWxsKFwiLlwiK2kubGVnZW5kSXRlbSkuY2xhc3NlZChpLmxlZ2VuZEl0ZW1IaWRkZW4sZnVuY3Rpb24oYSl7cmV0dXJuIXcuaXNUYXJnZXRUb1Nob3coYSl9KS50cmFuc2l0aW9uKCkuc3R5bGUoXCJvcGFjaXR5XCIsZnVuY3Rpb24oYSl7dmFyIGI9dy5kMy5zZWxlY3QodGhpcyk7cmV0dXJuIHcuaXNUYXJnZXRUb1Nob3coYSk/IUx8fGIuY2xhc3NlZChpLmxlZ2VuZEl0ZW1Gb2N1c2VkKT93Lm9wYWNpdHlGb3JMZWdlbmQoYik6dy5vcGFjaXR5Rm9yVW5mb2N1c2VkTGVnZW5kKGIpOm51bGx9KSx3LnVwZGF0ZUxlZ2VuZEl0ZW1XaWR0aChBKSx3LnVwZGF0ZUxlZ2VuZEl0ZW1IZWlnaHQoQiksdy51cGRhdGVMZWdlbmRTdGVwKEspLHcudXBkYXRlU2l6ZXMoKSx3LnVwZGF0ZVNjYWxlcygpLHcudXBkYXRlU3ZnU2l6ZSgpLHcudHJhbnNmb3JtQWxsKHEsYyksdy5sZWdlbmRIYXNSZW5kZXJlZD0hMH0sZi5pbml0QXhpcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZyxjPWEubWFpbjthLmF4ZXMueD1jLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsaS5heGlzK1wiIFwiK2kuYXhpc1gpLmF0dHIoXCJjbGlwLXBhdGhcIixhLmNsaXBQYXRoRm9yWEF4aXMpLmF0dHIoXCJ0cmFuc2Zvcm1cIixhLmdldFRyYW5zbGF0ZShcInhcIikpLnN0eWxlKFwidmlzaWJpbGl0eVwiLGIuYXhpc194X3Nob3c/XCJ2aXNpYmxlXCI6XCJoaWRkZW5cIiksYS5heGVzLnguYXBwZW5kKFwidGV4dFwiKS5hdHRyKFwiY2xhc3NcIixpLmF4aXNYTGFiZWwpLmF0dHIoXCJ0cmFuc2Zvcm1cIixiLmF4aXNfcm90YXRlZD9cInJvdGF0ZSgtOTApXCI6XCJcIikuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLGEudGV4dEFuY2hvckZvclhBeGlzTGFiZWwuYmluZChhKSksYS5heGVzLnk9Yy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGkuYXhpcytcIiBcIitpLmF4aXNZKS5hdHRyKFwiY2xpcC1wYXRoXCIsYi5heGlzX3lfaW5uZXI/XCJcIjphLmNsaXBQYXRoRm9yWUF4aXMpLmF0dHIoXCJ0cmFuc2Zvcm1cIixhLmdldFRyYW5zbGF0ZShcInlcIikpLnN0eWxlKFwidmlzaWJpbGl0eVwiLGIuYXhpc195X3Nob3c/XCJ2aXNpYmxlXCI6XCJoaWRkZW5cIiksYS5heGVzLnkuYXBwZW5kKFwidGV4dFwiKS5hdHRyKFwiY2xhc3NcIixpLmF4aXNZTGFiZWwpLmF0dHIoXCJ0cmFuc2Zvcm1cIixiLmF4aXNfcm90YXRlZD9cIlwiOlwicm90YXRlKC05MClcIikuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLGEudGV4dEFuY2hvckZvcllBeGlzTGFiZWwuYmluZChhKSksYS5heGVzLnkyPWMuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixpLmF4aXMrXCIgXCIraS5heGlzWTIpLmF0dHIoXCJ0cmFuc2Zvcm1cIixhLmdldFRyYW5zbGF0ZShcInkyXCIpKS5zdHlsZShcInZpc2liaWxpdHlcIixiLmF4aXNfeTJfc2hvdz9cInZpc2libGVcIjpcImhpZGRlblwiKSxhLmF4ZXMueTIuYXBwZW5kKFwidGV4dFwiKS5hdHRyKFwiY2xhc3NcIixpLmF4aXNZMkxhYmVsKS5hdHRyKFwidHJhbnNmb3JtXCIsYi5heGlzX3JvdGF0ZWQ/XCJcIjpcInJvdGF0ZSgtOTApXCIpLnN0eWxlKFwidGV4dC1hbmNob3JcIixhLnRleHRBbmNob3JGb3JZMkF4aXNMYWJlbC5iaW5kKGEpKX0sZi5nZXRYQXhpcz1mdW5jdGlvbihhLGIsYyxlLGYsZyl7dmFyIGg9dGhpcyxpPWguY29uZmlnLGo9e2lzQ2F0ZWdvcnk6aC5pc0NhdGVnb3JpemVkKCksd2l0aE91dGVyVGljazpmLHRpY2tNdWx0aWxpbmU6aS5heGlzX3hfdGlja19tdWx0aWxpbmUsdGlja1dpZHRoOmkuYXhpc194X3RpY2tfd2lkdGgsd2l0aG91dFRyYW5zaXRpb246Z30saz1kKGguZDMsaikuc2NhbGUoYSkub3JpZW50KGIpO3JldHVybiBoLmlzVGltZVNlcmllcygpJiZlJiYoZT1lLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gaC5wYXJzZURhdGUoYSl9KSksay50aWNrRm9ybWF0KGMpLnRpY2tWYWx1ZXMoZSksaC5pc0NhdGVnb3JpemVkKCk/KGsudGlja0NlbnRlcmVkKGkuYXhpc194X3RpY2tfY2VudGVyZWQpLHIoaS5heGlzX3hfdGlja19jdWxsaW5nKSYmKGkuYXhpc194X3RpY2tfY3VsbGluZz0hMSkpOmsudGlja09mZnNldD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuc2NhbGUoKSxiPWguZ2V0RWRnZVgoaC5kYXRhLnRhcmdldHMpLGM9YShiWzFdKS1hKGJbMF0pLGQ9Yz9jOmkuYXhpc19yb3RhdGVkP2guaGVpZ2h0Omgud2lkdGg7cmV0dXJuIGQvaC5nZXRNYXhEYXRhQ291bnQoKS8yfSxrfSxmLnVwZGF0ZVhBeGlzVGlja1ZhbHVlcz1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9dGhpcyxlPWQuY29uZmlnO3JldHVybihlLmF4aXNfeF90aWNrX2ZpdHx8ZS5heGlzX3hfdGlja19jb3VudCkmJihjPWQuZ2VuZXJhdGVUaWNrVmFsdWVzKGQubWFwVGFyZ2V0c1RvVW5pcXVlWHMoYSksZS5heGlzX3hfdGlja19jb3VudCxkLmlzVGltZVNlcmllcygpKSksYj9iLnRpY2tWYWx1ZXMoYyk6KGQueEF4aXMudGlja1ZhbHVlcyhjKSxkLnN1YlhBeGlzLnRpY2tWYWx1ZXMoYykpLGN9LGYuZ2V0WUF4aXM9ZnVuY3Rpb24oYSxiLGMsZSxmKXt2YXIgZz17d2l0aE91dGVyVGljazpmfSxoPWQodGhpcy5kMyxnKS5zY2FsZShhKS5vcmllbnQoYikudGlja0Zvcm1hdChjKTtyZXR1cm4gdGhpcy5pc1RpbWVTZXJpZXNZKCk/aC50aWNrcyh0aGlzLmQzLnRpbWVbdGhpcy5jb25maWcuYXhpc195X3RpY2tfdGltZV92YWx1ZV0sdGhpcy5jb25maWcuYXhpc195X3RpY2tfdGltZV9pbnRlcnZhbCk6aC50aWNrVmFsdWVzKGUpLGh9LGYuZ2V0QXhpc0lkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29uZmlnO3JldHVybiBhIGluIGIuZGF0YV9heGVzP2IuZGF0YV9heGVzW2FdOlwieVwifSxmLmdldFhBeGlzVGlja0Zvcm1hdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZyxjPWEuaXNUaW1lU2VyaWVzKCk/YS5kZWZhdWx0QXhpc1RpbWVGb3JtYXQ6YS5pc0NhdGVnb3JpemVkKCk/YS5jYXRlZ29yeU5hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIDA+YT9hLnRvRml4ZWQoMCk6YX07cmV0dXJuIGIuYXhpc194X3RpY2tfZm9ybWF0JiYoayhiLmF4aXNfeF90aWNrX2Zvcm1hdCk/Yz1iLmF4aXNfeF90aWNrX2Zvcm1hdDphLmlzVGltZVNlcmllcygpJiYoYz1mdW5jdGlvbihjKXtyZXR1cm4gYz9hLmF4aXNUaW1lRm9ybWF0KGIuYXhpc194X3RpY2tfZm9ybWF0KShjKTpcIlwifSkpLGsoYyk/ZnVuY3Rpb24oYil7cmV0dXJuIGMuY2FsbChhLGIpfTpjfSxmLmdldEF4aXNUaWNrVmFsdWVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE/YTpiP2IudGlja1ZhbHVlcygpOnZvaWQgMH0sZi5nZXRYQXhpc1RpY2tWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBeGlzVGlja1ZhbHVlcyh0aGlzLmNvbmZpZy5heGlzX3hfdGlja192YWx1ZXMsdGhpcy54QXhpcyl9LGYuZ2V0WUF4aXNUaWNrVmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QXhpc1RpY2tWYWx1ZXModGhpcy5jb25maWcuYXhpc195X3RpY2tfdmFsdWVzLHRoaXMueUF4aXMpfSxmLmdldFkyQXhpc1RpY2tWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBeGlzVGlja1ZhbHVlcyh0aGlzLmNvbmZpZy5heGlzX3kyX3RpY2tfdmFsdWVzLHRoaXMueTJBeGlzKX0sZi5nZXRBeGlzTGFiZWxPcHRpb25CeUF4aXNJZD1mdW5jdGlvbihhKXt2YXIgYixjPXRoaXMsZD1jLmNvbmZpZztyZXR1cm5cInlcIj09PWE/Yj1kLmF4aXNfeV9sYWJlbDpcInkyXCI9PT1hP2I9ZC5heGlzX3kyX2xhYmVsOlwieFwiPT09YSYmKGI9ZC5heGlzX3hfbGFiZWwpLGJ9LGYuZ2V0QXhpc0xhYmVsVGV4dD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEF4aXNMYWJlbE9wdGlvbkJ5QXhpc0lkKGEpO3JldHVybiBsKGIpP2I6Yj9iLnRleHQ6bnVsbH0sZi5zZXRBeGlzTGFiZWxUZXh0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuY29uZmlnLGU9Yy5nZXRBeGlzTGFiZWxPcHRpb25CeUF4aXNJZChhKTtsKGUpP1wieVwiPT09YT9kLmF4aXNfeV9sYWJlbD1iOlwieTJcIj09PWE/ZC5heGlzX3kyX2xhYmVsPWI6XCJ4XCI9PT1hJiYoZC5heGlzX3hfbGFiZWw9Yik6ZSYmKGUudGV4dD1iKX0sZi5nZXRBeGlzTGFiZWxQb3NpdGlvbj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0QXhpc0xhYmVsT3B0aW9uQnlBeGlzSWQoYSksZD1jJiZcIm9iamVjdFwiPT10eXBlb2YgYyYmYy5wb3NpdGlvbj9jLnBvc2l0aW9uOmI7cmV0dXJue2lzSW5uZXI6ZC5pbmRleE9mKFwiaW5uZXJcIik+PTAsaXNPdXRlcjpkLmluZGV4T2YoXCJvdXRlclwiKT49MCxpc0xlZnQ6ZC5pbmRleE9mKFwibGVmdFwiKT49MCxpc0NlbnRlcjpkLmluZGV4T2YoXCJjZW50ZXJcIik+PTAsaXNSaWdodDpkLmluZGV4T2YoXCJyaWdodFwiKT49MCxpc1RvcDpkLmluZGV4T2YoXCJ0b3BcIik+PTAsaXNNaWRkbGU6ZC5pbmRleE9mKFwibWlkZGxlXCIpPj0wLGlzQm90dG9tOmQuaW5kZXhPZihcImJvdHRvbVwiKT49MH19LGYuZ2V0WEF4aXNMYWJlbFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QXhpc0xhYmVsUG9zaXRpb24oXCJ4XCIsdGhpcy5jb25maWcuYXhpc19yb3RhdGVkP1wiaW5uZXItdG9wXCI6XCJpbm5lci1yaWdodFwiKX0sZi5nZXRZQXhpc0xhYmVsUG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBeGlzTGFiZWxQb3NpdGlvbihcInlcIix0aGlzLmNvbmZpZy5heGlzX3JvdGF0ZWQ/XCJpbm5lci1yaWdodFwiOlwiaW5uZXItdG9wXCIpfSxmLmdldFkyQXhpc0xhYmVsUG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBeGlzTGFiZWxQb3NpdGlvbihcInkyXCIsdGhpcy5jb25maWcuYXhpc19yb3RhdGVkP1wiaW5uZXItcmlnaHRcIjpcImlubmVyLXRvcFwiKX0sZi5nZXRBeGlzTGFiZWxQb3NpdGlvbkJ5SWQ9ZnVuY3Rpb24oYSl7cmV0dXJuXCJ5MlwiPT09YT90aGlzLmdldFkyQXhpc0xhYmVsUG9zaXRpb24oKTpcInlcIj09PWE/dGhpcy5nZXRZQXhpc0xhYmVsUG9zaXRpb24oKTp0aGlzLmdldFhBeGlzTGFiZWxQb3NpdGlvbigpfSxmLnRleHRGb3JYQXhpc0xhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QXhpc0xhYmVsVGV4dChcInhcIil9LGYudGV4dEZvcllBeGlzTGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBeGlzTGFiZWxUZXh0KFwieVwiKX0sZi50ZXh0Rm9yWTJBeGlzTGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBeGlzTGFiZWxUZXh0KFwieTJcIil9LGYueEZvckF4aXNMYWJlbD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7cmV0dXJuIGE/Yi5pc0xlZnQ/MDpiLmlzQ2VudGVyP2Mud2lkdGgvMjpjLndpZHRoOmIuaXNCb3R0b20/LWMuaGVpZ2h0OmIuaXNNaWRkbGU/LWMuaGVpZ2h0LzI6MH0sZi5keEZvckF4aXNMYWJlbD1mdW5jdGlvbihhLGIpe3JldHVybiBhP2IuaXNMZWZ0P1wiMC41ZW1cIjpiLmlzUmlnaHQ/XCItMC41ZW1cIjpcIjBcIjpiLmlzVG9wP1wiLTAuNWVtXCI6Yi5pc0JvdHRvbT9cIjAuNWVtXCI6XCIwXCJ9LGYudGV4dEFuY2hvckZvckF4aXNMYWJlbD1mdW5jdGlvbihhLGIpe3JldHVybiBhP2IuaXNMZWZ0P1wic3RhcnRcIjpiLmlzQ2VudGVyP1wibWlkZGxlXCI6XCJlbmRcIjpiLmlzQm90dG9tP1wic3RhcnRcIjpiLmlzTWlkZGxlP1wibWlkZGxlXCI6XCJlbmRcIn0sZi54Rm9yWEF4aXNMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhGb3JBeGlzTGFiZWwoIXRoaXMuY29uZmlnLmF4aXNfcm90YXRlZCx0aGlzLmdldFhBeGlzTGFiZWxQb3NpdGlvbigpKX0sZi54Rm9yWUF4aXNMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhGb3JBeGlzTGFiZWwodGhpcy5jb25maWcuYXhpc19yb3RhdGVkLHRoaXMuZ2V0WUF4aXNMYWJlbFBvc2l0aW9uKCkpfSxmLnhGb3JZMkF4aXNMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhGb3JBeGlzTGFiZWwodGhpcy5jb25maWcuYXhpc19yb3RhdGVkLHRoaXMuZ2V0WTJBeGlzTGFiZWxQb3NpdGlvbigpKX0sZi5keEZvclhBeGlzTGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5keEZvckF4aXNMYWJlbCghdGhpcy5jb25maWcuYXhpc19yb3RhdGVkLHRoaXMuZ2V0WEF4aXNMYWJlbFBvc2l0aW9uKCkpfSxmLmR4Rm9yWUF4aXNMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmR4Rm9yQXhpc0xhYmVsKHRoaXMuY29uZmlnLmF4aXNfcm90YXRlZCx0aGlzLmdldFlBeGlzTGFiZWxQb3NpdGlvbigpKX0sZi5keEZvclkyQXhpc0xhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHhGb3JBeGlzTGFiZWwodGhpcy5jb25maWcuYXhpc19yb3RhdGVkLHRoaXMuZ2V0WTJBeGlzTGFiZWxQb3NpdGlvbigpKX0sZi5keUZvclhBeGlzTGFiZWw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25maWcsYz1hLmdldFhBeGlzTGFiZWxQb3NpdGlvbigpO3JldHVybiBiLmF4aXNfcm90YXRlZD9jLmlzSW5uZXI/XCIxLjJlbVwiOi0yNS1hLmdldE1heFRpY2tXaWR0aChcInhcIik6Yy5pc0lubmVyP1wiLTAuNWVtXCI6Yi5heGlzX3hfaGVpZ2h0P2IuYXhpc194X2hlaWdodC0xMDpcIjNlbVwifSxmLmR5Rm9yWUF4aXNMYWJlbD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmdldFlBeGlzTGFiZWxQb3NpdGlvbigpO3JldHVybiBhLmNvbmZpZy5heGlzX3JvdGF0ZWQ/Yi5pc0lubmVyP1wiLTAuNWVtXCI6XCIzZW1cIjpiLmlzSW5uZXI/XCIxLjJlbVwiOi0xMC0oYS5jb25maWcuYXhpc195X2lubmVyPzA6YS5nZXRNYXhUaWNrV2lkdGgoXCJ5XCIpKzEwKX0sZi5keUZvclkyQXhpc0xhYmVsPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZ2V0WTJBeGlzTGFiZWxQb3NpdGlvbigpO3JldHVybiBhLmNvbmZpZy5heGlzX3JvdGF0ZWQ/Yi5pc0lubmVyP1wiMS4yZW1cIjpcIi0yLjJlbVwiOmIuaXNJbm5lcj9cIi0wLjVlbVwiOjE1KyhhLmNvbmZpZy5heGlzX3kyX2lubmVyPzA6dGhpcy5nZXRNYXhUaWNrV2lkdGgoXCJ5MlwiKSsxNSl9LGYudGV4dEFuY2hvckZvclhBeGlzTGFiZWw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBhLnRleHRBbmNob3JGb3JBeGlzTGFiZWwoIWEuY29uZmlnLmF4aXNfcm90YXRlZCxhLmdldFhBeGlzTGFiZWxQb3NpdGlvbigpKX0sZi50ZXh0QW5jaG9yRm9yWUF4aXNMYWJlbD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEudGV4dEFuY2hvckZvckF4aXNMYWJlbChhLmNvbmZpZy5heGlzX3JvdGF0ZWQsYS5nZXRZQXhpc0xhYmVsUG9zaXRpb24oKSl9LGYudGV4dEFuY2hvckZvclkyQXhpc0xhYmVsPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gYS50ZXh0QW5jaG9yRm9yQXhpc0xhYmVsKGEuY29uZmlnLmF4aXNfcm90YXRlZCxhLmdldFkyQXhpc0xhYmVsUG9zaXRpb24oKSl9LGYueEZvclJvdGF0ZWRUaWNrVGV4dD1mdW5jdGlvbihhKXtyZXR1cm4gOCpNYXRoLnNpbihNYXRoLlBJKihhLzE4MCkpfSxmLnlGb3JSb3RhdGVkVGlja1RleHQ9ZnVuY3Rpb24oYSl7cmV0dXJuIDExLjUtMi41KihhLzE1KSooYT4wPzE6LTEpfSxmLnJvdGF0ZVRpY2tUZXh0PWZ1bmN0aW9uKGEsYixjKXthLnNlbGVjdEFsbChcIi50aWNrIHRleHRcIikuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLGM+MD9cInN0YXJ0XCI6XCJlbmRcIiksYi5zZWxlY3RBbGwoXCIudGljayB0ZXh0XCIpLmF0dHIoXCJ5XCIsdGhpcy55Rm9yUm90YXRlZFRpY2tUZXh0KGMpKS5hdHRyKFwidHJhbnNmb3JtXCIsXCJyb3RhdGUoXCIrYytcIilcIikuc2VsZWN0QWxsKFwidHNwYW5cIikuYXR0cihcImR4XCIsdGhpcy54Rm9yUm90YXRlZFRpY2tUZXh0KGMpKX0sZi5nZXRNYXhUaWNrV2lkdGg9ZnVuY3Rpb24oYixjKXt2YXIgZCxlLGYsZyxoLGk9dGhpcyxqPWkuY29uZmlnLGs9MDtyZXR1cm4gYyYmaS5jdXJyZW50TWF4VGlja1dpZHRoc1tiXT9pLmN1cnJlbnRNYXhUaWNrV2lkdGhzW2JdOihpLnN2ZyYmKGQ9aS5maWx0ZXJUYXJnZXRzVG9TaG93KGkuZGF0YS50YXJnZXRzKSxcInlcIj09PWI/KGU9aS55LmNvcHkoKS5kb21haW4oaS5nZXRZRG9tYWluKGQsXCJ5XCIpKSxmPWkuZ2V0WUF4aXMoZSxpLnlPcmllbnQsai5heGlzX3lfdGlja19mb3JtYXQsaS55QXhpc1RpY2tWYWx1ZXMpKTpcInkyXCI9PT1iPyhlPWkueTIuY29weSgpLmRvbWFpbihpLmdldFlEb21haW4oZCxcInkyXCIpKSxmPWkuZ2V0WUF4aXMoZSxpLnkyT3JpZW50LGouYXhpc195Ml90aWNrX2Zvcm1hdCxpLnkyQXhpc1RpY2tWYWx1ZXMpKTooZT1pLnguY29weSgpLmRvbWFpbihpLmdldFhEb21haW4oZCkpLGY9aS5nZXRYQXhpcyhlLGkueE9yaWVudCxpLnhBeGlzVGlja0Zvcm1hdCxpLnhBeGlzVGlja1ZhbHVlcyksaS51cGRhdGVYQXhpc1RpY2tWYWx1ZXMoZCxmKSksZz10aGlzLmQzLnNlbGVjdChcImJvZHlcIikuY2xhc3NlZChcImMzXCIsITApLGg9Zy5hcHBlbmQoXCJzdmdcIikuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIiksaC5hcHBlbmQoXCJnXCIpLmNhbGwoZikuZWFjaChmdW5jdGlvbigpe2kuZDMuc2VsZWN0KHRoaXMpLnNlbGVjdEFsbChcInRleHQgdHNwYW5cIikuZWFjaChmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7YS5sZWZ0Pj0wJiZrPGEud2lkdGgmJihrPWEud2lkdGgpfSl9KSxhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtoLnJlbW92ZSgpfSwxMDApLGcuY2xhc3NlZChcImMzXCIsITEpKSxpLmN1cnJlbnRNYXhUaWNrV2lkdGhzW2JdPTA+PWs/aS5jdXJyZW50TWF4VGlja1dpZHRoc1tiXTprLGkuY3VycmVudE1heFRpY2tXaWR0aHNbYl0pfSxmLnVwZGF0ZUF4aXNMYWJlbHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIubWFpbi5zZWxlY3QoXCIuXCIraS5heGlzWCtcIiAuXCIraS5heGlzWExhYmVsKSxkPWIubWFpbi5zZWxlY3QoXCIuXCIraS5heGlzWStcIiAuXCIraS5heGlzWUxhYmVsKSxlPWIubWFpbi5zZWxlY3QoXCIuXCIraS5heGlzWTIrXCIgLlwiK2kuYXhpc1kyTGFiZWwpOyhhP2MudHJhbnNpdGlvbigpOmMpLmF0dHIoXCJ4XCIsYi54Rm9yWEF4aXNMYWJlbC5iaW5kKGIpKS5hdHRyKFwiZHhcIixiLmR4Rm9yWEF4aXNMYWJlbC5iaW5kKGIpKS5hdHRyKFwiZHlcIixiLmR5Rm9yWEF4aXNMYWJlbC5iaW5kKGIpKS50ZXh0KGIudGV4dEZvclhBeGlzTGFiZWwuYmluZChiKSksKGE/ZC50cmFuc2l0aW9uKCk6ZCkuYXR0cihcInhcIixiLnhGb3JZQXhpc0xhYmVsLmJpbmQoYikpLmF0dHIoXCJkeFwiLGIuZHhGb3JZQXhpc0xhYmVsLmJpbmQoYikpLmF0dHIoXCJkeVwiLGIuZHlGb3JZQXhpc0xhYmVsLmJpbmQoYikpLnRleHQoYi50ZXh0Rm9yWUF4aXNMYWJlbC5iaW5kKGIpKSwoYT9lLnRyYW5zaXRpb24oKTplKS5hdHRyKFwieFwiLGIueEZvclkyQXhpc0xhYmVsLmJpbmQoYikpLmF0dHIoXCJkeFwiLGIuZHhGb3JZMkF4aXNMYWJlbC5iaW5kKGIpKS5hdHRyKFwiZHlcIixiLmR5Rm9yWTJBeGlzTGFiZWwuYmluZChiKSkudGV4dChiLnRleHRGb3JZMkF4aXNMYWJlbC5iaW5kKGIpKX0sZi5nZXRBeGlzUGFkZGluZz1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gaihhW2JdKT9cInJhdGlvXCI9PT1hLnVuaXQ/YVtiXSpkOnRoaXMuY29udmVydFBpeGVsc1RvQXhpc1BhZGRpbmcoYVtiXSxkKTpjfSxmLmNvbnZlcnRQaXhlbHNUb0F4aXNQYWRkaW5nPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jb25maWcuYXhpc19yb3RhdGVkP3RoaXMud2lkdGg6dGhpcy5oZWlnaHQ7cmV0dXJuIGIqKGEvYyl9LGYuZ2VuZXJhdGVUaWNrVmFsdWVzPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixsPWE7aWYoYilpZihkPWsoYik/YigpOmIsMT09PWQpbD1bYVswXV07ZWxzZSBpZigyPT09ZClsPVthWzBdLGFbYS5sZW5ndGgtMV1dO2Vsc2UgaWYoZD4yKXtmb3IoZz1kLTIsZT1hWzBdLGY9YVthLmxlbmd0aC0xXSxoPShmLWUpLyhnKzEpLGw9W2VdLGk9MDtnPmk7aSsrKWo9K2UraCooaSsxKSxsLnB1c2goYz9uZXcgRGF0ZShqKTpqKTtsLnB1c2goZil9cmV0dXJuIGN8fChsPWwuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLWJ9KSksbH0sZi5nZW5lcmF0ZUF4aXNUcmFuc2l0aW9ucz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5heGVzO3JldHVybntheGlzWDphP2MueC50cmFuc2l0aW9uKCkuZHVyYXRpb24oYSk6Yy54LGF4aXNZOmE/Yy55LnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKTpjLnksYXhpc1kyOmE/Yy55Mi50cmFuc2l0aW9uKCkuZHVyYXRpb24oYSk6Yy55MixheGlzU3ViWDphP2Muc3VieC50cmFuc2l0aW9uKCkuZHVyYXRpb24oYSk6Yy5zdWJ4fX0sZi5yZWRyYXdBeGlzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuY29uZmlnO2MuYXhlcy54LnN0eWxlKFwib3BhY2l0eVwiLGI/MDoxKSxjLmF4ZXMueS5zdHlsZShcIm9wYWNpdHlcIixiPzA6MSksYy5heGVzLnkyLnN0eWxlKFwib3BhY2l0eVwiLGI/MDoxKSxjLmF4ZXMuc3VieC5zdHlsZShcIm9wYWNpdHlcIixiPzA6MSksYS5heGlzWC5jYWxsKGMueEF4aXMpLGEuYXhpc1kuY2FsbChjLnlBeGlzKSxhLmF4aXNZMi5jYWxsKGMueTJBeGlzKSxhLmF4aXNTdWJYLmNhbGwoYy5zdWJYQXhpcyksIWQuYXhpc19yb3RhdGVkJiZkLmF4aXNfeF90aWNrX3JvdGF0ZSYmKGMucm90YXRlVGlja1RleHQoYy5heGVzLngsYS5heGlzWCxkLmF4aXNfeF90aWNrX3JvdGF0ZSksYy5yb3RhdGVUaWNrVGV4dChjLmF4ZXMuc3VieCxhLmF4aXNTdWJYLGQuYXhpc194X3RpY2tfcm90YXRlKSl9LGYuZ2V0Q2xpcFBhdGg9ZnVuY3Rpb24oYil7dmFyIGM9YS5uYXZpZ2F0b3IuYXBwVmVyc2lvbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJtc2llIDkuXCIpPj0wO3JldHVyblwidXJsKFwiKyhjP1wiXCI6ZG9jdW1lbnQuVVJMLnNwbGl0KFwiI1wiKVswXSkrXCIjXCIrYitcIilcIn0sZi5hcHBlbmRDbGlwPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYXBwZW5kKFwiY2xpcFBhdGhcIikuYXR0cihcImlkXCIsYikuYXBwZW5kKFwicmVjdFwiKX0sZi5nZXRBeGlzQ2xpcFg9ZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoMzAsdGhpcy5tYXJnaW4ubGVmdCk7cmV0dXJuIGE/LSgxK2IpOi0oYi0xKX0sZi5nZXRBeGlzQ2xpcFk9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/LTIwOi10aGlzLm1hcmdpbi50b3B9LGYuZ2V0WEF4aXNDbGlwWD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEuZ2V0QXhpc0NsaXBYKCFhLmNvbmZpZy5heGlzX3JvdGF0ZWQpfSxmLmdldFhBeGlzQ2xpcFk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBhLmdldEF4aXNDbGlwWSghYS5jb25maWcuYXhpc19yb3RhdGVkKX0sZi5nZXRZQXhpc0NsaXBYPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gYS5jb25maWcuYXhpc195X2lubmVyPy0xOmEuZ2V0QXhpc0NsaXBYKGEuY29uZmlnLmF4aXNfcm90YXRlZCl9LGYuZ2V0WUF4aXNDbGlwWT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEuZ2V0QXhpc0NsaXBZKGEuY29uZmlnLmF4aXNfcm90YXRlZCl9LGYuZ2V0QXhpc0NsaXBXaWR0aD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9TWF0aC5tYXgoMzAsYi5tYXJnaW4ubGVmdCksZD1NYXRoLm1heCgzMCxiLm1hcmdpbi5yaWdodCk7cmV0dXJuIGE/Yi53aWR0aCsyK2MrZDpiLm1hcmdpbi5sZWZ0KzIwfSxmLmdldEF4aXNDbGlwSGVpZ2h0PWZ1bmN0aW9uKGEpe3JldHVybihhP3RoaXMubWFyZ2luLmJvdHRvbTp0aGlzLm1hcmdpbi50b3ArdGhpcy5oZWlnaHQpKzIwfSxmLmdldFhBeGlzQ2xpcFdpZHRoPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gYS5nZXRBeGlzQ2xpcFdpZHRoKCFhLmNvbmZpZy5heGlzX3JvdGF0ZWQpfSxmLmdldFhBeGlzQ2xpcEhlaWdodD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEuZ2V0QXhpc0NsaXBIZWlnaHQoIWEuY29uZmlnLmF4aXNfcm90YXRlZCl9LGYuZ2V0WUF4aXNDbGlwV2lkdGg9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBhLmdldEF4aXNDbGlwV2lkdGgoYS5jb25maWcuYXhpc19yb3RhdGVkKSsoYS5jb25maWcuYXhpc195X2lubmVyPzIwOjApfSxmLmdldFlBeGlzQ2xpcEhlaWdodD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEuZ2V0QXhpc0NsaXBIZWlnaHQoYS5jb25maWcuYXhpc19yb3RhdGVkKX0sZi5pbml0UGllPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZDMsYz1hLmNvbmZpZzthLnBpZT1iLmxheW91dC5waWUoKS52YWx1ZShmdW5jdGlvbihhKXtyZXR1cm4gYS52YWx1ZXMucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErYi52YWx1ZX0sMCl9KSxjLmRhdGFfb3JkZXJ8fGEucGllLnNvcnQobnVsbCl9LGYudXBkYXRlUmFkaXVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnLGM9Yi5nYXVnZV93aWR0aHx8Yi5kb251dF93aWR0aDthLnJhZGl1c0V4cGFuZGVkPU1hdGgubWluKGEuYXJjV2lkdGgsYS5hcmNIZWlnaHQpLzIsYS5yYWRpdXM9Ljk1KmEucmFkaXVzRXhwYW5kZWQsYS5pbm5lclJhZGl1c1JhdGlvPWM/KGEucmFkaXVzLWMpL2EucmFkaXVzOi42LGEuaW5uZXJSYWRpdXM9YS5oYXNUeXBlKFwiZG9udXRcIil8fGEuaGFzVHlwZShcImdhdWdlXCIpP2EucmFkaXVzKmEuaW5uZXJSYWRpdXNSYXRpbzowfSxmLnVwZGF0ZUFyYz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5zdmdBcmM9YS5nZXRTdmdBcmMoKSxhLnN2Z0FyY0V4cGFuZGVkPWEuZ2V0U3ZnQXJjRXhwYW5kZWQoKSxhLnN2Z0FyY0V4cGFuZGVkU3ViPWEuZ2V0U3ZnQXJjRXhwYW5kZWQoLjk4KX0sZi51cGRhdGVBbmdsZT1mdW5jdGlvbihhKXt2YXIgYixjLGQ9dGhpcyxlPWQuY29uZmlnLGY9ITEsZz0wLGg9ZS5nYXVnZV9taW4saT1lLmdhdWdlX21heDtyZXR1cm4gZC5waWUoZC5maWx0ZXJUYXJnZXRzVG9TaG93KGQuZGF0YS50YXJnZXRzKSkuZm9yRWFjaChmdW5jdGlvbihiKXtmfHxiLmRhdGEuaWQhPT1hLmRhdGEuaWR8fChmPSEwLGE9YixhLmluZGV4PWcpLGcrK30pLGlzTmFOKGEuZW5kQW5nbGUpJiYoYS5lbmRBbmdsZT1hLnN0YXJ0QW5nbGUpLGQuaXNHYXVnZVR5cGUoYS5kYXRhKSYmKGI9TWF0aC5QSS8oaS1oKSxjPWEudmFsdWU8aD8wOmEudmFsdWU8aT9hLnZhbHVlLWg6aS1oLGEuc3RhcnRBbmdsZT0tMSooTWF0aC5QSS8yKSxhLmVuZEFuZ2xlPWEuc3RhcnRBbmdsZStiKmMpLGY/YTpudWxsfSxmLmdldFN2Z0FyYz1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmQzLnN2Zy5hcmMoKS5vdXRlclJhZGl1cyhhLnJhZGl1cykuaW5uZXJSYWRpdXMoYS5pbm5lclJhZGl1cyksYz1mdW5jdGlvbihjLGQpe3ZhciBlO3JldHVybiBkP2IoYyk6KGU9YS51cGRhdGVBbmdsZShjKSxlP2IoZSk6XCJNIDAgMFwiKX07cmV0dXJuIGMuY2VudHJvaWQ9Yi5jZW50cm9pZCxjfSxmLmdldFN2Z0FyY0V4cGFuZGVkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmQzLnN2Zy5hcmMoKS5vdXRlclJhZGl1cyhiLnJhZGl1c0V4cGFuZGVkKihhP2E6MSkpLmlubmVyUmFkaXVzKGIuaW5uZXJSYWRpdXMpO3JldHVybiBmdW5jdGlvbihhKXt2YXIgZD1iLnVwZGF0ZUFuZ2xlKGEpO3JldHVybiBkP2MoZCk6XCJNIDAgMFwifX0sZi5nZXRBcmM9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHx0aGlzLmlzQXJjVHlwZShhLmRhdGEpP3RoaXMuc3ZnQXJjKGEsYik6XCJNIDAgMFwifSxmLnRyYW5zZm9ybUZvckFyY0xhYmVsPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZz10aGlzLGg9Zy51cGRhdGVBbmdsZShhKSxpPVwiXCI7cmV0dXJuIGgmJiFnLmhhc1R5cGUoXCJnYXVnZVwiKSYmKGI9dGhpcy5zdmdBcmMuY2VudHJvaWQoaCksYz1pc05hTihiWzBdKT8wOmJbMF0sZD1pc05hTihiWzFdKT8wOmJbMV0sZT1NYXRoLnNxcnQoYypjK2QqZCksZj1nLnJhZGl1cyYmZT8oMzYvZy5yYWRpdXM+LjM3NT8xLjE3NS0zNi9nLnJhZGl1czouOCkqZy5yYWRpdXMvZTowLGk9XCJ0cmFuc2xhdGUoXCIrYypmK1wiLFwiK2QqZitcIilcIiksaX0sZi5nZXRBcmNSYXRpbz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5oYXNUeXBlKFwiZ2F1Z2VcIik/TWF0aC5QSToyKk1hdGguUEk7cmV0dXJuIGE/KGEuZW5kQW5nbGUtYS5zdGFydEFuZ2xlKS9jOm51bGx9LGYuY29udmVydFRvQXJjRGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGROYW1lKHtpZDphLmRhdGEuaWQsdmFsdWU6YS52YWx1ZSxyYXRpbzp0aGlzLmdldEFyY1JhdGlvKGEpLGluZGV4OmEuaW5kZXh9KX0sZi50ZXh0Rm9yQXJjTGFiZWw9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnPXRoaXM7cmV0dXJuIGcuc2hvdWxkU2hvd0FyY0xhYmVsKCk/KGI9Zy51cGRhdGVBbmdsZShhKSxjPWI/Yi52YWx1ZTpudWxsLGQ9Zy5nZXRBcmNSYXRpbyhiKSxlPWEuZGF0YS5pZCxnLmhhc1R5cGUoXCJnYXVnZVwiKXx8Zy5tZWV0c0FyY0xhYmVsVGhyZXNob2xkKGQpPyhmPWcuZ2V0QXJjTGFiZWxGb3JtYXQoKSxmP2YoYyxkLGUpOmcuZGVmYXVsdEFyY1ZhbHVlRm9ybWF0KGMsZCkpOlwiXCIpOlwiXCJ9LGYuZXhwYW5kQXJjPWZ1bmN0aW9uKGIpe3ZhciBjLGQ9dGhpcztyZXR1cm4gZC50cmFuc2l0aW5nP3ZvaWQoYz1hLnNldEludGVydmFsKGZ1bmN0aW9uKCl7ZC50cmFuc2l0aW5nfHwoYS5jbGVhckludGVydmFsKGMpLGQubGVnZW5kLnNlbGVjdEFsbChcIi5jMy1sZWdlbmQtaXRlbS1mb2N1c2VkXCIpLnNpemUoKT4wJiZkLmV4cGFuZEFyYyhiKSl9LDEwKSk6KGI9ZC5tYXBUb1RhcmdldElkcyhiKSx2b2lkIGQuc3ZnLnNlbGVjdEFsbChkLnNlbGVjdG9yVGFyZ2V0cyhiLFwiLlwiK2kuY2hhcnRBcmMpKS5lYWNoKGZ1bmN0aW9uKGEpe2Quc2hvdWxkRXhwYW5kKGEuZGF0YS5pZCkmJmQuZDMuc2VsZWN0KHRoaXMpLnNlbGVjdEFsbChcInBhdGhcIikudHJhbnNpdGlvbigpLmR1cmF0aW9uKDUwKS5hdHRyKFwiZFwiLGQuc3ZnQXJjRXhwYW5kZWQpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDApLmF0dHIoXCJkXCIsZC5zdmdBcmNFeHBhbmRlZFN1YikuZWFjaChmdW5jdGlvbihhKXtkLmlzRG9udXRUeXBlKGEuZGF0YSlcbn0pfSkpfSxmLnVuZXhwYW5kQXJjPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi50cmFuc2l0aW5nfHwoYT1iLm1hcFRvVGFyZ2V0SWRzKGEpLGIuc3ZnLnNlbGVjdEFsbChiLnNlbGVjdG9yVGFyZ2V0cyhhLFwiLlwiK2kuY2hhcnRBcmMpKS5zZWxlY3RBbGwoXCJwYXRoXCIpLnRyYW5zaXRpb24oKS5kdXJhdGlvbig1MCkuYXR0cihcImRcIixiLnN2Z0FyYyksYi5zdmcuc2VsZWN0QWxsKFwiLlwiK2kuYXJjKS5zdHlsZShcIm9wYWNpdHlcIiwxKSl9LGYuc2hvdWxkRXhwYW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZztyZXR1cm4gYi5pc0RvbnV0VHlwZShhKSYmYy5kb251dF9leHBhbmR8fGIuaXNHYXVnZVR5cGUoYSkmJmMuZ2F1Z2VfZXhwYW5kfHxiLmlzUGllVHlwZShhKSYmYy5waWVfZXhwYW5kfSxmLnNob3VsZFNob3dBcmNMYWJlbD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZyxjPSEwO3JldHVybiBhLmhhc1R5cGUoXCJkb251dFwiKT9jPWIuZG9udXRfbGFiZWxfc2hvdzphLmhhc1R5cGUoXCJwaWVcIikmJihjPWIucGllX2xhYmVsX3Nob3cpLGN9LGYubWVldHNBcmNMYWJlbFRocmVzaG9sZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWcsZD1iLmhhc1R5cGUoXCJkb251dFwiKT9jLmRvbnV0X2xhYmVsX3RocmVzaG9sZDpjLnBpZV9sYWJlbF90aHJlc2hvbGQ7cmV0dXJuIGE+PWR9LGYuZ2V0QXJjTGFiZWxGb3JtYXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25maWcsYz1iLnBpZV9sYWJlbF9mb3JtYXQ7cmV0dXJuIGEuaGFzVHlwZShcImdhdWdlXCIpP2M9Yi5nYXVnZV9sYWJlbF9mb3JtYXQ6YS5oYXNUeXBlKFwiZG9udXRcIikmJihjPWIuZG9udXRfbGFiZWxfZm9ybWF0KSxjfSxmLmdldEFyY1RpdGxlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gYS5oYXNUeXBlKFwiZG9udXRcIik/YS5jb25maWcuZG9udXRfdGl0bGU6XCJcIn0sZi51cGRhdGVUYXJnZXRzRm9yQXJjPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD10aGlzLGU9ZC5tYWluLGY9ZC5jbGFzc0NoYXJ0QXJjLmJpbmQoZCksZz1kLmNsYXNzQXJjcy5iaW5kKGQpLGg9ZC5jbGFzc0ZvY3VzLmJpbmQoZCk7Yj1lLnNlbGVjdChcIi5cIitpLmNoYXJ0QXJjcykuc2VsZWN0QWxsKFwiLlwiK2kuY2hhcnRBcmMpLmRhdGEoZC5waWUoYSkpLmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKGEpe3JldHVybiBmKGEpK2goYS5kYXRhKX0pLGM9Yi5lbnRlcigpLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsZiksYy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGcpLGMuYXBwZW5kKFwidGV4dFwiKS5hdHRyKFwiZHlcIixkLmhhc1R5cGUoXCJnYXVnZVwiKT9cIi0uMWVtXCI6XCIuMzVlbVwiKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5zdHlsZShcInRleHQtYW5jaG9yXCIsXCJtaWRkbGVcIikuc3R5bGUoXCJwb2ludGVyLWV2ZW50c1wiLFwibm9uZVwiKX0sZi5pbml0QXJjPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmFyY3M9YS5tYWluLnNlbGVjdChcIi5cIitpLmNoYXJ0KS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGkuY2hhcnRBcmNzKS5hdHRyKFwidHJhbnNmb3JtXCIsYS5nZXRUcmFuc2xhdGUoXCJhcmNcIikpLGEuYXJjcy5hcHBlbmQoXCJ0ZXh0XCIpLmF0dHIoXCJjbGFzc1wiLGkuY2hhcnRBcmNzVGl0bGUpLnN0eWxlKFwidGV4dC1hbmNob3JcIixcIm1pZGRsZVwiKS50ZXh0KGEuZ2V0QXJjVGl0bGUoKSl9LGYucmVkcmF3QXJjPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPXRoaXMsZj1lLmQzLGc9ZS5jb25maWcsaD1lLm1haW47ZD1oLnNlbGVjdEFsbChcIi5cIitpLmFyY3MpLnNlbGVjdEFsbChcIi5cIitpLmFyYykuZGF0YShlLmFyY0RhdGEuYmluZChlKSksZC5lbnRlcigpLmFwcGVuZChcInBhdGhcIikuYXR0cihcImNsYXNzXCIsZS5jbGFzc0FyYy5iaW5kKGUpKS5zdHlsZShcImZpbGxcIixmdW5jdGlvbihhKXtyZXR1cm4gZS5jb2xvcihhLmRhdGEpfSkuc3R5bGUoXCJjdXJzb3JcIixmdW5jdGlvbihhKXtyZXR1cm4gZy5pbnRlcmFjdGlvbl9lbmFibGVkJiZnLmRhdGFfc2VsZWN0aW9uX2lzc2VsZWN0YWJsZShhKT9cInBvaW50ZXJcIjpudWxsfSkuc3R5bGUoXCJvcGFjaXR5XCIsMCkuZWFjaChmdW5jdGlvbihhKXtlLmlzR2F1Z2VUeXBlKGEuZGF0YSkmJihhLnN0YXJ0QW5nbGU9YS5lbmRBbmdsZT0tMSooTWF0aC5QSS8yKSksdGhpcy5fY3VycmVudD1hfSksZC5hdHRyKFwidHJhbnNmb3JtXCIsZnVuY3Rpb24oYSl7cmV0dXJuIWUuaXNHYXVnZVR5cGUoYS5kYXRhKSYmYz9cInNjYWxlKDApXCI6XCJcIn0pLnN0eWxlKFwib3BhY2l0eVwiLGZ1bmN0aW9uKGEpe3JldHVybiBhPT09dGhpcy5fY3VycmVudD8wOjF9KS5vbihcIm1vdXNlb3ZlclwiLGcuaW50ZXJhY3Rpb25fZW5hYmxlZD9mdW5jdGlvbihhKXt2YXIgYixjO2UudHJhbnNpdGluZ3x8KGI9ZS51cGRhdGVBbmdsZShhKSxjPWUuY29udmVydFRvQXJjRGF0YShiKSxlLmV4cGFuZEFyYyhiLmRhdGEuaWQpLGUuYXBpLmZvY3VzKGIuZGF0YS5pZCksZS50b2dnbGVGb2N1c0xlZ2VuZChiLmRhdGEuaWQsITApLGUuY29uZmlnLmRhdGFfb25tb3VzZW92ZXIoYyx0aGlzKSl9Om51bGwpLm9uKFwibW91c2Vtb3ZlXCIsZy5pbnRlcmFjdGlvbl9lbmFibGVkP2Z1bmN0aW9uKGEpe3ZhciBiPWUudXBkYXRlQW5nbGUoYSksYz1lLmNvbnZlcnRUb0FyY0RhdGEoYiksZD1bY107ZS5zaG93VG9vbHRpcChkLHRoaXMpfTpudWxsKS5vbihcIm1vdXNlb3V0XCIsZy5pbnRlcmFjdGlvbl9lbmFibGVkP2Z1bmN0aW9uKGEpe3ZhciBiLGM7ZS50cmFuc2l0aW5nfHwoYj1lLnVwZGF0ZUFuZ2xlKGEpLGM9ZS5jb252ZXJ0VG9BcmNEYXRhKGIpLGUudW5leHBhbmRBcmMoYi5kYXRhLmlkKSxlLmFwaS5yZXZlcnQoKSxlLnJldmVydExlZ2VuZCgpLGUuaGlkZVRvb2x0aXAoKSxlLmNvbmZpZy5kYXRhX29ubW91c2VvdXQoYyx0aGlzKSl9Om51bGwpLm9uKFwiY2xpY2tcIixnLmludGVyYWN0aW9uX2VuYWJsZWQ/ZnVuY3Rpb24oYSxiKXt2YXIgYz1lLnVwZGF0ZUFuZ2xlKGEpLGQ9ZS5jb252ZXJ0VG9BcmNEYXRhKGMpO2UudG9nZ2xlU2hhcGUmJmUudG9nZ2xlU2hhcGUodGhpcyxkLGIpLGUuY29uZmlnLmRhdGFfb25jbGljay5jYWxsKGUuYXBpLGQsdGhpcyl9Om51bGwpLmVhY2goZnVuY3Rpb24oKXtlLnRyYW5zaXRpbmc9ITB9KS50cmFuc2l0aW9uKCkuZHVyYXRpb24oYSkuYXR0clR3ZWVuKFwiZFwiLGZ1bmN0aW9uKGEpe3ZhciBiLGM9ZS51cGRhdGVBbmdsZShhKTtyZXR1cm4gYz8oaXNOYU4odGhpcy5fY3VycmVudC5lbmRBbmdsZSkmJih0aGlzLl9jdXJyZW50LmVuZEFuZ2xlPXRoaXMuX2N1cnJlbnQuc3RhcnRBbmdsZSksYj1mLmludGVycG9sYXRlKHRoaXMuX2N1cnJlbnQsYyksdGhpcy5fY3VycmVudD1iKDApLGZ1bmN0aW9uKGMpe3ZhciBkPWIoYyk7cmV0dXJuIGQuZGF0YT1hLmRhdGEsZS5nZXRBcmMoZCwhMCl9KTpmdW5jdGlvbigpe3JldHVyblwiTSAwIDBcIn19KS5hdHRyKFwidHJhbnNmb3JtXCIsYz9cInNjYWxlKDEpXCI6XCJcIikuc3R5bGUoXCJmaWxsXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGUubGV2ZWxDb2xvcj9lLmxldmVsQ29sb3IoYS5kYXRhLnZhbHVlc1swXS52YWx1ZSk6ZS5jb2xvcihhLmRhdGEuaWQpfSkuc3R5bGUoXCJvcGFjaXR5XCIsMSkuY2FsbChlLmVuZGFsbCxmdW5jdGlvbigpe2UudHJhbnNpdGluZz0hMX0pLGQuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbihiKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5yZW1vdmUoKSxoLnNlbGVjdEFsbChcIi5cIitpLmNoYXJ0QXJjKS5zZWxlY3QoXCJ0ZXh0XCIpLnN0eWxlKFwib3BhY2l0eVwiLDApLmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKGEpe3JldHVybiBlLmlzR2F1Z2VUeXBlKGEuZGF0YSk/aS5nYXVnZVZhbHVlOlwiXCJ9KS50ZXh0KGUudGV4dEZvckFyY0xhYmVsLmJpbmQoZSkpLmF0dHIoXCJ0cmFuc2Zvcm1cIixlLnRyYW5zZm9ybUZvckFyY0xhYmVsLmJpbmQoZSkpLnN0eWxlKFwiZm9udC1zaXplXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGUuaXNHYXVnZVR5cGUoYS5kYXRhKT9NYXRoLnJvdW5kKGUucmFkaXVzLzUpK1wicHhcIjpcIlwifSkudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpLnN0eWxlKFwib3BhY2l0eVwiLGZ1bmN0aW9uKGEpe3JldHVybiBlLmlzVGFyZ2V0VG9TaG93KGEuZGF0YS5pZCkmJmUuaXNBcmNUeXBlKGEuZGF0YSk/MTowfSksaC5zZWxlY3QoXCIuXCIraS5jaGFydEFyY3NUaXRsZSkuc3R5bGUoXCJvcGFjaXR5XCIsZS5oYXNUeXBlKFwiZG9udXRcIil8fGUuaGFzVHlwZShcImdhdWdlXCIpPzE6MCksZS5oYXNUeXBlKFwiZ2F1Z2VcIikmJihlLmFyY3Muc2VsZWN0KFwiLlwiK2kuY2hhcnRBcmNzQmFja2dyb3VuZCkuYXR0cihcImRcIixmdW5jdGlvbigpe3ZhciBhPXtkYXRhOlt7dmFsdWU6Zy5nYXVnZV9tYXh9XSxzdGFydEFuZ2xlOi0xKihNYXRoLlBJLzIpLGVuZEFuZ2xlOk1hdGguUEkvMn07cmV0dXJuIGUuZ2V0QXJjKGEsITAsITApfSksZS5hcmNzLnNlbGVjdChcIi5cIitpLmNoYXJ0QXJjc0dhdWdlVW5pdCkuYXR0cihcImR5XCIsXCIuNzVlbVwiKS50ZXh0KGcuZ2F1Z2VfbGFiZWxfc2hvdz9nLmdhdWdlX3VuaXRzOlwiXCIpLGUuYXJjcy5zZWxlY3QoXCIuXCIraS5jaGFydEFyY3NHYXVnZU1pbikuYXR0cihcImR4XCIsLTEqKGUuaW5uZXJSYWRpdXMrKGUucmFkaXVzLWUuaW5uZXJSYWRpdXMpLzIpK1wicHhcIikuYXR0cihcImR5XCIsXCIxLjJlbVwiKS50ZXh0KGcuZ2F1Z2VfbGFiZWxfc2hvdz9nLmdhdWdlX21pbjpcIlwiKSxlLmFyY3Muc2VsZWN0KFwiLlwiK2kuY2hhcnRBcmNzR2F1Z2VNYXgpLmF0dHIoXCJkeFwiLGUuaW5uZXJSYWRpdXMrKGUucmFkaXVzLWUuaW5uZXJSYWRpdXMpLzIrXCJweFwiKS5hdHRyKFwiZHlcIixcIjEuMmVtXCIpLnRleHQoZy5nYXVnZV9sYWJlbF9zaG93P2cuZ2F1Z2VfbWF4OlwiXCIpKX0sZi5pbml0R2F1Z2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmFyY3M7dGhpcy5oYXNUeXBlKFwiZ2F1Z2VcIikmJihhLmFwcGVuZChcInBhdGhcIikuYXR0cihcImNsYXNzXCIsaS5jaGFydEFyY3NCYWNrZ3JvdW5kKSxhLmFwcGVuZChcInRleHRcIikuYXR0cihcImNsYXNzXCIsaS5jaGFydEFyY3NHYXVnZVVuaXQpLnN0eWxlKFwidGV4dC1hbmNob3JcIixcIm1pZGRsZVwiKS5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsXCJub25lXCIpLGEuYXBwZW5kKFwidGV4dFwiKS5hdHRyKFwiY2xhc3NcIixpLmNoYXJ0QXJjc0dhdWdlTWluKS5zdHlsZShcInRleHQtYW5jaG9yXCIsXCJtaWRkbGVcIikuc3R5bGUoXCJwb2ludGVyLWV2ZW50c1wiLFwibm9uZVwiKSxhLmFwcGVuZChcInRleHRcIikuYXR0cihcImNsYXNzXCIsaS5jaGFydEFyY3NHYXVnZU1heCkuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLFwibWlkZGxlXCIpLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIixcIm5vbmVcIikpfSxmLmdldEdhdWdlTGFiZWxIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWcuZ2F1Z2VfbGFiZWxfc2hvdz8yMDowfSxmLmluaXRSZWdpb249ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EucmVnaW9uPWEubWFpbi5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGlwLXBhdGhcIixhLmNsaXBQYXRoKS5hdHRyKFwiY2xhc3NcIixpLnJlZ2lvbnMpfSxmLnVwZGF0ZVJlZ2lvbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWc7Yi5yZWdpb24uc3R5bGUoXCJ2aXNpYmlsaXR5XCIsYi5oYXNBcmNUeXBlKCk/XCJoaWRkZW5cIjpcInZpc2libGVcIiksYi5tYWluUmVnaW9uPWIubWFpbi5zZWxlY3QoXCIuXCIraS5yZWdpb25zKS5zZWxlY3RBbGwoXCIuXCIraS5yZWdpb24pLmRhdGEoYy5yZWdpb25zKSxiLm1haW5SZWdpb24uZW50ZXIoKS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGIuY2xhc3NSZWdpb24uYmluZChiKSkuYXBwZW5kKFwicmVjdFwiKS5zdHlsZShcImZpbGwtb3BhY2l0eVwiLDApLGIubWFpblJlZ2lvbi5leGl0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpLnN0eWxlKFwib3BhY2l0eVwiLDApLnJlbW92ZSgpfSxmLnJlZHJhd1JlZ2lvbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5tYWluUmVnaW9uLnNlbGVjdEFsbChcInJlY3RcIiksZD1iLnJlZ2lvblguYmluZChiKSxlPWIucmVnaW9uWS5iaW5kKGIpLGY9Yi5yZWdpb25XaWR0aC5iaW5kKGIpLGc9Yi5yZWdpb25IZWlnaHQuYmluZChiKTtyZXR1cm5bKGE/Yy50cmFuc2l0aW9uKCk6YykuYXR0cihcInhcIixkKS5hdHRyKFwieVwiLGUpLmF0dHIoXCJ3aWR0aFwiLGYpLmF0dHIoXCJoZWlnaHRcIixnKS5zdHlsZShcImZpbGwtb3BhY2l0eVwiLGZ1bmN0aW9uKGEpe3JldHVybiBqKGEub3BhY2l0eSk/YS5vcGFjaXR5Oi4xfSldfSxmLnJlZ2lvblg9ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLGQ9Yy5jb25maWcsZT1cInlcIj09PWEuYXhpcz9jLnk6Yy55MjtyZXR1cm4gYj1cInlcIj09PWEuYXhpc3x8XCJ5MlwiPT09YS5heGlzP2QuYXhpc19yb3RhdGVkJiZcInN0YXJ0XCJpbiBhP2UoYS5zdGFydCk6MDpkLmF4aXNfcm90YXRlZD8wOlwic3RhcnRcImluIGE/Yy54KGMuaXNUaW1lU2VyaWVzKCk/Yy5wYXJzZURhdGUoYS5zdGFydCk6YS5zdGFydCk6MH0sZi5yZWdpb25ZPWZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcyxkPWMuY29uZmlnLGU9XCJ5XCI9PT1hLmF4aXM/Yy55OmMueTI7cmV0dXJuIGI9XCJ5XCI9PT1hLmF4aXN8fFwieTJcIj09PWEuYXhpcz9kLmF4aXNfcm90YXRlZD8wOlwiZW5kXCJpbiBhP2UoYS5lbmQpOjA6ZC5heGlzX3JvdGF0ZWQmJlwic3RhcnRcImluIGE/Yy54KGMuaXNUaW1lU2VyaWVzKCk/Yy5wYXJzZURhdGUoYS5zdGFydCk6YS5zdGFydCk6MH0sZi5yZWdpb25XaWR0aD1mdW5jdGlvbihhKXt2YXIgYixjPXRoaXMsZD1jLmNvbmZpZyxlPWMucmVnaW9uWChhKSxmPVwieVwiPT09YS5heGlzP2MueTpjLnkyO3JldHVybiBiPVwieVwiPT09YS5heGlzfHxcInkyXCI9PT1hLmF4aXM/ZC5heGlzX3JvdGF0ZWQmJlwiZW5kXCJpbiBhP2YoYS5lbmQpOmMud2lkdGg6ZC5heGlzX3JvdGF0ZWQ/Yy53aWR0aDpcImVuZFwiaW4gYT9jLngoYy5pc1RpbWVTZXJpZXMoKT9jLnBhcnNlRGF0ZShhLmVuZCk6YS5lbmQpOmMud2lkdGgsZT5iPzA6Yi1lfSxmLnJlZ2lvbkhlaWdodD1mdW5jdGlvbihhKXt2YXIgYixjPXRoaXMsZD1jLmNvbmZpZyxlPXRoaXMucmVnaW9uWShhKSxmPVwieVwiPT09YS5heGlzP2MueTpjLnkyO3JldHVybiBiPVwieVwiPT09YS5heGlzfHxcInkyXCI9PT1hLmF4aXM/ZC5heGlzX3JvdGF0ZWQ/Yy5oZWlnaHQ6XCJzdGFydFwiaW4gYT9mKGEuc3RhcnQpOmMuaGVpZ2h0OmQuYXhpc19yb3RhdGVkJiZcImVuZFwiaW4gYT9jLngoYy5pc1RpbWVTZXJpZXMoKT9jLnBhcnNlRGF0ZShhLmVuZCk6YS5lbmQpOmMuaGVpZ2h0LGU+Yj8wOmItZX0sZi5pc1JlZ2lvbk9uWD1mdW5jdGlvbihhKXtyZXR1cm4hYS5heGlzfHxcInhcIj09PWEuYXhpc30sZi5kcmFnPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGosaz10aGlzLGw9ay5jb25maWcsbT1rLm1haW4sbj1rLmQzO2suaGFzQXJjVHlwZSgpfHxsLmRhdGFfc2VsZWN0aW9uX2VuYWJsZWQmJighbC56b29tX2VuYWJsZWR8fGsuem9vbS5hbHREb21haW4pJiZsLmRhdGFfc2VsZWN0aW9uX211bHRpcGxlJiYoYj1rLmRyYWdTdGFydFswXSxjPWsuZHJhZ1N0YXJ0WzFdLGQ9YVswXSxlPWFbMV0sZj1NYXRoLm1pbihiLGQpLGc9TWF0aC5tYXgoYixkKSxoPWwuZGF0YV9zZWxlY3Rpb25fZ3JvdXBlZD9rLm1hcmdpbi50b3A6TWF0aC5taW4oYyxlKSxqPWwuZGF0YV9zZWxlY3Rpb25fZ3JvdXBlZD9rLmhlaWdodDpNYXRoLm1heChjLGUpLG0uc2VsZWN0KFwiLlwiK2kuZHJhZ2FyZWEpLmF0dHIoXCJ4XCIsZikuYXR0cihcInlcIixoKS5hdHRyKFwid2lkdGhcIixnLWYpLmF0dHIoXCJoZWlnaHRcIixqLWgpLG0uc2VsZWN0QWxsKFwiLlwiK2kuc2hhcGVzKS5zZWxlY3RBbGwoXCIuXCIraS5zaGFwZSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBsLmRhdGFfc2VsZWN0aW9uX2lzc2VsZWN0YWJsZShhKX0pLmVhY2goZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsbCxtLG8scD1uLnNlbGVjdCh0aGlzKSxxPXAuY2xhc3NlZChpLlNFTEVDVEVEKSxyPXAuY2xhc3NlZChpLklOQ0xVREVEKSxzPSExO2lmKHAuY2xhc3NlZChpLmNpcmNsZSkpYz0xKnAuYXR0cihcImN4XCIpLGQ9MSpwLmF0dHIoXCJjeVwiKSxtPWsudG9nZ2xlUG9pbnQscz1jPmYmJmc+YyYmZD5oJiZqPmQ7ZWxzZXtpZighcC5jbGFzc2VkKGkuYmFyKSlyZXR1cm47bz12KHRoaXMpLGM9by54LGQ9by55LGU9by53aWR0aCxsPW8uaGVpZ2h0LG09ay50b2dnbGVQYXRoLHM9IShjPmd8fGY+YytlfHxkPmp8fGg+ZCtsKX1zXnImJihwLmNsYXNzZWQoaS5JTkNMVURFRCwhcikscC5jbGFzc2VkKGkuU0VMRUNURUQsIXEpLG0uY2FsbChrLCFxLHAsYSxiKSl9KSl9LGYuZHJhZ3N0YXJ0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZztiLmhhc0FyY1R5cGUoKXx8Yy5kYXRhX3NlbGVjdGlvbl9lbmFibGVkJiYoYi5kcmFnU3RhcnQ9YSxiLm1haW4uc2VsZWN0KFwiLlwiK2kuY2hhcnQpLmFwcGVuZChcInJlY3RcIikuYXR0cihcImNsYXNzXCIsaS5kcmFnYXJlYSkuc3R5bGUoXCJvcGFjaXR5XCIsLjEpLGIuZHJhZ2dpbmc9ITApfSxmLmRyYWdlbmQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25maWc7YS5oYXNBcmNUeXBlKCl8fGIuZGF0YV9zZWxlY3Rpb25fZW5hYmxlZCYmKGEubWFpbi5zZWxlY3QoXCIuXCIraS5kcmFnYXJlYSkudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMCkuc3R5bGUoXCJvcGFjaXR5XCIsMCkucmVtb3ZlKCksYS5tYWluLnNlbGVjdEFsbChcIi5cIitpLnNoYXBlKS5jbGFzc2VkKGkuSU5DTFVERUQsITEpLGEuZHJhZ2dpbmc9ITEpfSxmLnNlbGVjdFBvaW50PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9ZC5jb25maWcsZj0oZS5heGlzX3JvdGF0ZWQ/ZC5jaXJjbGVZOmQuY2lyY2xlWCkuYmluZChkKSxnPShlLmF4aXNfcm90YXRlZD9kLmNpcmNsZVg6ZC5jaXJjbGVZKS5iaW5kKGQpLGg9ZC5wb2ludFNlbGVjdFIuYmluZChkKTtlLmRhdGFfb25zZWxlY3RlZC5jYWxsKGQuYXBpLGIsYS5ub2RlKCkpLGQubWFpbi5zZWxlY3QoXCIuXCIraS5zZWxlY3RlZENpcmNsZXMrZC5nZXRUYXJnZXRTZWxlY3RvclN1ZmZpeChiLmlkKSkuc2VsZWN0QWxsKFwiLlwiK2kuc2VsZWN0ZWRDaXJjbGUrXCItXCIrYykuZGF0YShbYl0pLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpLmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIGQuZ2VuZXJhdGVDbGFzcyhpLnNlbGVjdGVkQ2lyY2xlLGMpfSkuYXR0cihcImN4XCIsZikuYXR0cihcImN5XCIsZykuYXR0cihcInN0cm9rZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGQuY29sb3IoYil9KS5hdHRyKFwiclwiLGZ1bmN0aW9uKGEpe3JldHVybiAxLjQqZC5wb2ludFNlbGVjdFIoYSl9KS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTAwKS5hdHRyKFwiclwiLGgpfSxmLnVuc2VsZWN0UG9pbnQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXM7ZC5jb25maWcuZGF0YV9vbnVuc2VsZWN0ZWQoYixhLm5vZGUoKSksZC5tYWluLnNlbGVjdChcIi5cIitpLnNlbGVjdGVkQ2lyY2xlcytkLmdldFRhcmdldFNlbGVjdG9yU3VmZml4KGIuaWQpKS5zZWxlY3RBbGwoXCIuXCIraS5zZWxlY3RlZENpcmNsZStcIi1cIitjKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTAwKS5hdHRyKFwiclwiLDApLnJlbW92ZSgpfSxmLnRvZ2dsZVBvaW50PWZ1bmN0aW9uKGEsYixjLGQpe2E/dGhpcy5zZWxlY3RQb2ludChiLGMsZCk6dGhpcy51bnNlbGVjdFBvaW50KGIsYyxkKX0sZi5zZWxlY3RQYXRoPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztjLmNvbmZpZy5kYXRhX29uc2VsZWN0ZWQuY2FsbChjLGIsYS5ub2RlKCkpLGEudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMCkuc3R5bGUoXCJmaWxsXCIsZnVuY3Rpb24oKXtyZXR1cm4gYy5kMy5yZ2IoYy5jb2xvcihiKSkuYnJpZ2h0ZXIoLjc1KX0pfSxmLnVuc2VsZWN0UGF0aD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7Yy5jb25maWcuZGF0YV9vbnVuc2VsZWN0ZWQuY2FsbChjLGIsYS5ub2RlKCkpLGEudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMCkuc3R5bGUoXCJmaWxsXCIsZnVuY3Rpb24oKXtyZXR1cm4gYy5jb2xvcihiKX0pfSxmLnRvZ2dsZVBhdGg9ZnVuY3Rpb24oYSxiLGMsZCl7YT90aGlzLnNlbGVjdFBhdGgoYixjLGQpOnRoaXMudW5zZWxlY3RQYXRoKGIsYyxkKX0sZi5nZXRUb2dnbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXRoaXM7cmV0dXJuXCJjaXJjbGVcIj09PWEubm9kZU5hbWU/Yz1kLmlzU3RlcFR5cGUoYik/ZnVuY3Rpb24oKXt9OmQudG9nZ2xlUG9pbnQ6XCJwYXRoXCI9PT1hLm5vZGVOYW1lJiYoYz1kLnRvZ2dsZVBhdGgpLGN9LGYudG9nZ2xlU2hhcGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMsZT1kLmQzLGY9ZC5jb25maWcsZz1lLnNlbGVjdChhKSxoPWcuY2xhc3NlZChpLlNFTEVDVEVEKSxqPWQuZ2V0VG9nZ2xlKGEsYikuYmluZChkKTtmLmRhdGFfc2VsZWN0aW9uX2VuYWJsZWQmJmYuZGF0YV9zZWxlY3Rpb25faXNzZWxlY3RhYmxlKGIpJiYoZi5kYXRhX3NlbGVjdGlvbl9tdWx0aXBsZXx8ZC5tYWluLnNlbGVjdEFsbChcIi5cIitpLnNoYXBlcysoZi5kYXRhX3NlbGVjdGlvbl9ncm91cGVkP2QuZ2V0VGFyZ2V0U2VsZWN0b3JTdWZmaXgoYi5pZCk6XCJcIikpLnNlbGVjdEFsbChcIi5cIitpLnNoYXBlKS5lYWNoKGZ1bmN0aW9uKGEsYil7dmFyIGM9ZS5zZWxlY3QodGhpcyk7Yy5jbGFzc2VkKGkuU0VMRUNURUQpJiZqKCExLGMuY2xhc3NlZChpLlNFTEVDVEVELCExKSxhLGIpfSksZy5jbGFzc2VkKGkuU0VMRUNURUQsIWgpLGooIWgsZyxiLGMpKX0sZi5pbml0QnJ1c2g9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5kMzthLmJydXNoPWIuc3ZnLmJydXNoKCkub24oXCJicnVzaFwiLGZ1bmN0aW9uKCl7YS5yZWRyYXdGb3JCcnVzaCgpfSksYS5icnVzaC51cGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5jb250ZXh0JiZhLmNvbnRleHQuc2VsZWN0KFwiLlwiK2kuYnJ1c2gpLmNhbGwodGhpcyksdGhpc30sYS5icnVzaC5zY2FsZT1mdW5jdGlvbihiKXtyZXR1cm4gYS5jb25maWcuYXhpc19yb3RhdGVkP3RoaXMueShiKTp0aGlzLngoYil9fSxmLmluaXRTdWJjaGFydD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZyxjPWEuY29udGV4dD1hLnN2Zy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJ0cmFuc2Zvcm1cIixhLmdldFRyYW5zbGF0ZShcImNvbnRleHRcIikpO2Muc3R5bGUoXCJ2aXNpYmlsaXR5XCIsYi5zdWJjaGFydF9zaG93P1widmlzaWJsZVwiOlwiaGlkZGVuXCIpLGMuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xpcC1wYXRoXCIsYS5jbGlwUGF0aEZvclN1YmNoYXJ0KS5hdHRyKFwiY2xhc3NcIixpLmNoYXJ0KSxjLnNlbGVjdChcIi5cIitpLmNoYXJ0KS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGkuY2hhcnRCYXJzKSxjLnNlbGVjdChcIi5cIitpLmNoYXJ0KS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGkuY2hhcnRMaW5lcyksYy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGlwLXBhdGhcIixhLmNsaXBQYXRoKS5hdHRyKFwiY2xhc3NcIixpLmJydXNoKS5jYWxsKGEuYnJ1c2gpLGEuYXhlcy5zdWJ4PWMuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixpLmF4aXNYKS5hdHRyKFwidHJhbnNmb3JtXCIsYS5nZXRUcmFuc2xhdGUoXCJzdWJ4XCIpKS5hdHRyKFwiY2xpcC1wYXRoXCIsYi5heGlzX3JvdGF0ZWQ/XCJcIjphLmNsaXBQYXRoRm9yWEF4aXMpfSxmLnVwZGF0ZVRhcmdldHNGb3JTdWJjaGFydD1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmPXRoaXMsZz1mLmNvbnRleHQsaD1mLmNvbmZpZyxqPWYuY2xhc3NDaGFydEJhci5iaW5kKGYpLGs9Zi5jbGFzc0JhcnMuYmluZChmKSxsPWYuY2xhc3NDaGFydExpbmUuYmluZChmKSxtPWYuY2xhc3NMaW5lcy5iaW5kKGYpLG49Zi5jbGFzc0FyZWFzLmJpbmQoZik7aC5zdWJjaGFydF9zaG93JiYoZT1nLnNlbGVjdChcIi5cIitpLmNoYXJ0QmFycykuc2VsZWN0QWxsKFwiLlwiK2kuY2hhcnRCYXIpLmRhdGEoYSkuYXR0cihcImNsYXNzXCIsaiksZD1lLmVudGVyKCkuYXBwZW5kKFwiZ1wiKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5hdHRyKFwiY2xhc3NcIixqKSxkLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsayksYz1nLnNlbGVjdChcIi5cIitpLmNoYXJ0TGluZXMpLnNlbGVjdEFsbChcIi5cIitpLmNoYXJ0TGluZSkuZGF0YShhKS5hdHRyKFwiY2xhc3NcIixsKSxiPWMuZW50ZXIoKS5hcHBlbmQoXCJnXCIpLnN0eWxlKFwib3BhY2l0eVwiLDApLmF0dHIoXCJjbGFzc1wiLGwpLGIuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixtKSxiLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsbiksZy5zZWxlY3RBbGwoXCIuXCIraS5icnVzaCtcIiByZWN0XCIpLmF0dHIoaC5heGlzX3JvdGF0ZWQ/XCJ3aWR0aFwiOlwiaGVpZ2h0XCIsaC5heGlzX3JvdGF0ZWQ/Zi53aWR0aDI6Zi5oZWlnaHQyKSl9LGYudXBkYXRlQmFyRm9yU3ViY2hhcnQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztiLmNvbnRleHRCYXI9Yi5jb250ZXh0LnNlbGVjdEFsbChcIi5cIitpLmJhcnMpLnNlbGVjdEFsbChcIi5cIitpLmJhcikuZGF0YShiLmJhckRhdGEuYmluZChiKSksYi5jb250ZXh0QmFyLmVudGVyKCkuYXBwZW5kKFwicGF0aFwiKS5hdHRyKFwiY2xhc3NcIixiLmNsYXNzQmFyLmJpbmQoYikpLnN0eWxlKFwic3Ryb2tlXCIsXCJub25lXCIpLnN0eWxlKFwiZmlsbFwiLGIuY29sb3IpLGIuY29udGV4dEJhci5zdHlsZShcIm9wYWNpdHlcIixiLmluaXRpYWxPcGFjaXR5LmJpbmQoYikpLGIuY29udGV4dEJhci5leGl0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpLnN0eWxlKFwib3BhY2l0eVwiLDApLnJlbW92ZSgpfSxmLnJlZHJhd0JhckZvclN1YmNoYXJ0PWZ1bmN0aW9uKGEsYixjKXsoYj90aGlzLmNvbnRleHRCYXIudHJhbnNpdGlvbigpLmR1cmF0aW9uKGMpOnRoaXMuY29udGV4dEJhcikuYXR0cihcImRcIixhKS5zdHlsZShcIm9wYWNpdHlcIiwxKX0sZi51cGRhdGVMaW5lRm9yU3ViY2hhcnQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztiLmNvbnRleHRMaW5lPWIuY29udGV4dC5zZWxlY3RBbGwoXCIuXCIraS5saW5lcykuc2VsZWN0QWxsKFwiLlwiK2kubGluZSkuZGF0YShiLmxpbmVEYXRhLmJpbmQoYikpLGIuY29udGV4dExpbmUuZW50ZXIoKS5hcHBlbmQoXCJwYXRoXCIpLmF0dHIoXCJjbGFzc1wiLGIuY2xhc3NMaW5lLmJpbmQoYikpLnN0eWxlKFwic3Ryb2tlXCIsYi5jb2xvciksYi5jb250ZXh0TGluZS5zdHlsZShcIm9wYWNpdHlcIixiLmluaXRpYWxPcGFjaXR5LmJpbmQoYikpLGIuY29udGV4dExpbmUuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5yZW1vdmUoKX0sZi5yZWRyYXdMaW5lRm9yU3ViY2hhcnQ9ZnVuY3Rpb24oYSxiLGMpeyhiP3RoaXMuY29udGV4dExpbmUudHJhbnNpdGlvbigpLmR1cmF0aW9uKGMpOnRoaXMuY29udGV4dExpbmUpLmF0dHIoXCJkXCIsYSkuc3R5bGUoXCJvcGFjaXR5XCIsMSl9LGYudXBkYXRlQXJlYUZvclN1YmNoYXJ0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmQzO2IuY29udGV4dEFyZWE9Yi5jb250ZXh0LnNlbGVjdEFsbChcIi5cIitpLmFyZWFzKS5zZWxlY3RBbGwoXCIuXCIraS5hcmVhKS5kYXRhKGIubGluZURhdGEuYmluZChiKSksYi5jb250ZXh0QXJlYS5lbnRlcigpLmFwcGVuZChcInBhdGhcIikuYXR0cihcImNsYXNzXCIsYi5jbGFzc0FyZWEuYmluZChiKSkuc3R5bGUoXCJmaWxsXCIsYi5jb2xvcikuc3R5bGUoXCJvcGFjaXR5XCIsZnVuY3Rpb24oKXtyZXR1cm4gYi5vcmdBcmVhT3BhY2l0eT0rYy5zZWxlY3QodGhpcykuc3R5bGUoXCJvcGFjaXR5XCIpLDB9KSxiLmNvbnRleHRBcmVhLnN0eWxlKFwib3BhY2l0eVwiLDApLGIuY29udGV4dEFyZWEuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5yZW1vdmUoKX0sZi5yZWRyYXdBcmVhRm9yU3ViY2hhcnQ9ZnVuY3Rpb24oYSxiLGMpeyhiP3RoaXMuY29udGV4dEFyZWEudHJhbnNpdGlvbigpLmR1cmF0aW9uKGMpOnRoaXMuY29udGV4dEFyZWEpLmF0dHIoXCJkXCIsYSkuc3R5bGUoXCJmaWxsXCIsdGhpcy5jb2xvcikuc3R5bGUoXCJvcGFjaXR5XCIsdGhpcy5vcmdBcmVhT3BhY2l0eSl9LGYucmVkcmF3U3ViY2hhcnQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGgsaSxqLGs9dGhpcyxsPWsuZDMsbT1rLmNvbmZpZztrLmNvbnRleHQuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsbS5zdWJjaGFydF9zaG93P1widmlzaWJsZVwiOlwiaGlkZGVuXCIpLG0uc3ViY2hhcnRfc2hvdyYmKGwuZXZlbnQmJlwiem9vbVwiPT09bC5ldmVudC50eXBlJiZrLmJydXNoLmV4dGVudChrLngub3JnRG9tYWluKCkpLnVwZGF0ZSgpLGEmJihrLmJydXNoLmVtcHR5KCl8fGsuYnJ1c2guZXh0ZW50KGsueC5vcmdEb21haW4oKSkudXBkYXRlKCksaD1rLmdlbmVyYXRlRHJhd0FyZWEoZSwhMCksaT1rLmdlbmVyYXRlRHJhd0JhcihmLCEwKSxqPWsuZ2VuZXJhdGVEcmF3TGluZShnLCEwKSxrLnVwZGF0ZUJhckZvclN1YmNoYXJ0KGMpLGsudXBkYXRlTGluZUZvclN1YmNoYXJ0KGMpLGsudXBkYXRlQXJlYUZvclN1YmNoYXJ0KGMpLGsucmVkcmF3QmFyRm9yU3ViY2hhcnQoaSxjLGMpLGsucmVkcmF3TGluZUZvclN1YmNoYXJ0KGosYyxjKSxrLnJlZHJhd0FyZWFGb3JTdWJjaGFydChoLGMsYykpKX0sZi5yZWRyYXdGb3JCcnVzaD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLng7YS5yZWRyYXcoe3dpdGhUcmFuc2l0aW9uOiExLHdpdGhZOmEuY29uZmlnLnpvb21fcmVzY2FsZSx3aXRoU3ViY2hhcnQ6ITEsd2l0aFVwZGF0ZVhEb21haW46ITAsd2l0aERpbWVuc2lvbjohMX0pLGEuY29uZmlnLnN1YmNoYXJ0X29uYnJ1c2guY2FsbChhLmFwaSxiLm9yZ0RvbWFpbigpKX0sZi50cmFuc2Zvcm1Db250ZXh0PWZ1bmN0aW9uKGEsYil7dmFyIGMsZD10aGlzO2ImJmIuYXhpc1N1Ylg/Yz1iLmF4aXNTdWJYOihjPWQuY29udGV4dC5zZWxlY3QoXCIuXCIraS5heGlzWCksYSYmKGM9Yy50cmFuc2l0aW9uKCkpKSxkLmNvbnRleHQuYXR0cihcInRyYW5zZm9ybVwiLGQuZ2V0VHJhbnNsYXRlKFwiY29udGV4dFwiKSksYy5hdHRyKFwidHJhbnNmb3JtXCIsZC5nZXRUcmFuc2xhdGUoXCJzdWJ4XCIpKX0sZi5nZXREZWZhdWx0RXh0ZW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnLGM9ayhiLmF4aXNfeF9leHRlbnQpP2IuYXhpc194X2V4dGVudChhLmdldFhEb21haW4oYS5kYXRhLnRhcmdldHMpKTpiLmF4aXNfeF9leHRlbnQ7cmV0dXJuIGEuaXNUaW1lU2VyaWVzKCkmJihjPVthLnBhcnNlRGF0ZShjWzBdKSxhLnBhcnNlRGF0ZShjWzFdKV0pLGN9LGYuaW5pdFpvb209ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMsYz1iLmQzLGQ9Yi5jb25maWc7Yi56b29tPWMuYmVoYXZpb3Iuem9vbSgpLm9uKFwiem9vbXN0YXJ0XCIsZnVuY3Rpb24oKXthPWMuZXZlbnQuc291cmNlRXZlbnQsYi56b29tLmFsdERvbWFpbj1jLmV2ZW50LnNvdXJjZUV2ZW50LmFsdEtleT9iLngub3JnRG9tYWluKCk6bnVsbCxkLnpvb21fb256b29tc3RhcnQuY2FsbChiLmFwaSxjLmV2ZW50LnNvdXJjZUV2ZW50KX0pLm9uKFwiem9vbVwiLGZ1bmN0aW9uKCl7Yi5yZWRyYXdGb3Jab29tLmNhbGwoYil9KS5vbihcInpvb21lbmRcIixmdW5jdGlvbigpe3ZhciBlPWMuZXZlbnQuc291cmNlRXZlbnQ7ZSYmYS5jbGllbnRYPT09ZS5jbGllbnRYJiZhLmNsaWVudFk9PT1lLmNsaWVudFl8fChiLnJlZHJhd0V2ZW50UmVjdCgpLGIudXBkYXRlWm9vbSgpLGQuem9vbV9vbnpvb21lbmQuY2FsbChiLmFwaSxiLngub3JnRG9tYWluKCkpKX0pLGIuem9vbS5zY2FsZT1mdW5jdGlvbihhKXtyZXR1cm4gZC5heGlzX3JvdGF0ZWQ/dGhpcy55KGEpOnRoaXMueChhKX0sYi56b29tLm9yZ1NjYWxlRXh0ZW50PWZ1bmN0aW9uKCl7dmFyIGE9ZC56b29tX2V4dGVudD9kLnpvb21fZXh0ZW50OlsxLDEwXTtyZXR1cm5bYVswXSxNYXRoLm1heChiLmdldE1heERhdGFDb3VudCgpL2FbMV0sYVsxXSldfSxiLnpvb20udXBkYXRlU2NhbGVFeHRlbnQ9ZnVuY3Rpb24oKXt2YXIgYT1xKGIueC5vcmdEb21haW4oKSkvcShiLm9yZ1hEb21haW4pLGM9dGhpcy5vcmdTY2FsZUV4dGVudCgpO3JldHVybiB0aGlzLnNjYWxlRXh0ZW50KFtjWzBdKmEsY1sxXSphXSksdGhpc319LGYudXBkYXRlWm9vbT1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZy56b29tX2VuYWJsZWQ/YS56b29tOmZ1bmN0aW9uKCl7fTthLm1haW4uc2VsZWN0KFwiLlwiK2kuem9vbVJlY3QpLmNhbGwoYikub24oXCJkYmxjbGljay56b29tXCIsbnVsbCksYS5tYWluLnNlbGVjdEFsbChcIi5cIitpLmV2ZW50UmVjdCkuY2FsbChiKS5vbihcImRibGNsaWNrLnpvb21cIixudWxsKX0sZi5yZWRyYXdGb3Jab29tPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZDMsYz1hLmNvbmZpZyxkPWEuem9vbSxlPWEueDtpZihjLnpvb21fZW5hYmxlZCYmMCE9PWEuZmlsdGVyVGFyZ2V0c1RvU2hvdyhhLmRhdGEudGFyZ2V0cykubGVuZ3RoKXtpZihcIm1vdXNlbW92ZVwiPT09Yi5ldmVudC5zb3VyY2VFdmVudC50eXBlJiZkLmFsdERvbWFpbilyZXR1cm4gZS5kb21haW4oZC5hbHREb21haW4pLHZvaWQgZC5zY2FsZShlKS51cGRhdGVTY2FsZUV4dGVudCgpO2EuaXNDYXRlZ29yaXplZCgpJiZlLm9yZ0RvbWFpbigpWzBdPT09YS5vcmdYRG9tYWluWzBdJiZlLmRvbWFpbihbYS5vcmdYRG9tYWluWzBdLTFlLTEwLGUub3JnRG9tYWluKClbMV1dKSxhLnJlZHJhdyh7d2l0aFRyYW5zaXRpb246ITEsd2l0aFk6Yy56b29tX3Jlc2NhbGUsd2l0aFN1YmNoYXJ0OiExLHdpdGhFdmVudFJlY3Q6ITEsd2l0aERpbWVuc2lvbjohMX0pLFwibW91c2Vtb3ZlXCI9PT1iLmV2ZW50LnNvdXJjZUV2ZW50LnR5cGUmJihhLmNhbmNlbENsaWNrPSEwKSxjLnpvb21fb256b29tLmNhbGwoYS5hcGksZS5vcmdEb21haW4oKSl9fSxmLmdlbmVyYXRlQ29sb3I9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25maWcsYz1hLmQzLGQ9Yi5kYXRhX2NvbG9ycyxlPXMoYi5jb2xvcl9wYXR0ZXJuKT9iLmNvbG9yX3BhdHRlcm46Yy5zY2FsZS5jYXRlZ29yeTEwKCkucmFuZ2UoKSxmPWIuZGF0YV9jb2xvcixnPVtdO3JldHVybiBmdW5jdGlvbihhKXt2YXIgYixjPWEuaWR8fGEuZGF0YSYmYS5kYXRhLmlkfHxhO3JldHVybiBkW2NdaW5zdGFuY2VvZiBGdW5jdGlvbj9iPWRbY10oYSk6ZFtjXT9iPWRbY106KGcuaW5kZXhPZihjKTwwJiZnLnB1c2goYyksYj1lW2cuaW5kZXhPZihjKSVlLmxlbmd0aF0sZFtjXT1iKSxmIGluc3RhbmNlb2YgRnVuY3Rpb24/ZihiLGEpOmJ9fSxmLmdlbmVyYXRlTGV2ZWxDb2xvcj1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZyxjPWIuY29sb3JfcGF0dGVybixkPWIuY29sb3JfdGhyZXNob2xkLGU9XCJ2YWx1ZVwiPT09ZC51bml0LGY9ZC52YWx1ZXMmJmQudmFsdWVzLmxlbmd0aD9kLnZhbHVlczpbXSxnPWQubWF4fHwxMDA7cmV0dXJuIHMoYi5jb2xvcl90aHJlc2hvbGQpP2Z1bmN0aW9uKGEpe3ZhciBiLGQsaD1jW2MubGVuZ3RoLTFdO2ZvcihiPTA7YjxmLmxlbmd0aDtiKyspaWYoZD1lP2E6MTAwKmEvZyxkPGZbYl0pe2g9Y1tiXTticmVha31yZXR1cm4gaH06bnVsbH0sZi5nZXRZRm9ybWF0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1hJiYhYi5oYXNUeXBlKFwiZ2F1Z2VcIik/Yi5kZWZhdWx0QXJjVmFsdWVGb3JtYXQ6Yi55Rm9ybWF0LGQ9YSYmIWIuaGFzVHlwZShcImdhdWdlXCIpP2IuZGVmYXVsdEFyY1ZhbHVlRm9ybWF0OmIueTJGb3JtYXQ7cmV0dXJuIGZ1bmN0aW9uKGEsZSxmKXt2YXIgZz1cInkyXCI9PT1iLmdldEF4aXNJZChmKT9kOmM7cmV0dXJuIGcuY2FsbChiLGEsZSl9fSxmLnlGb3JtYXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnLGQ9Yy5heGlzX3lfdGlja19mb3JtYXQ/Yy5heGlzX3lfdGlja19mb3JtYXQ6Yi5kZWZhdWx0VmFsdWVGb3JtYXQ7cmV0dXJuIGQoYSl9LGYueTJGb3JtYXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnLGQ9Yy5heGlzX3kyX3RpY2tfZm9ybWF0P2MuYXhpc195Ml90aWNrX2Zvcm1hdDpiLmRlZmF1bHRWYWx1ZUZvcm1hdDtyZXR1cm4gZChhKX0sZi5kZWZhdWx0VmFsdWVGb3JtYXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGooYSk/K2E6XCJcIn0sZi5kZWZhdWx0QXJjVmFsdWVGb3JtYXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4oMTAwKmIpLnRvRml4ZWQoMSkrXCIlXCJ9LGYuZGF0YUxhYmVsRm9ybWF0PWZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcyxkPWMuY29uZmlnLmRhdGFfbGFiZWxzLGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGooYSk/K2E6XCJcIn07cmV0dXJuIGI9XCJmdW5jdGlvblwiPT10eXBlb2YgZC5mb3JtYXQ/ZC5mb3JtYXQ6XCJvYmplY3RcIj09dHlwZW9mIGQuZm9ybWF0P2QuZm9ybWF0W2FdP2QuZm9ybWF0W2FdPT09ITA/ZTpkLmZvcm1hdFthXTpmdW5jdGlvbigpe3JldHVyblwiXCJ9OmV9LGYuaGFzQ2FjaGVzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWlmKCEoYVtiXWluIHRoaXMuY2FjaGUpKXJldHVybiExO3JldHVybiEwfSxmLmFkZENhY2hlPWZ1bmN0aW9uKGEsYil7dGhpcy5jYWNoZVthXT10aGlzLmNsb25lVGFyZ2V0KGIpfSxmLmdldENhY2hlcz1mdW5jdGlvbihhKXt2YXIgYixjPVtdO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspYVtiXWluIHRoaXMuY2FjaGUmJmMucHVzaCh0aGlzLmNsb25lVGFyZ2V0KHRoaXMuY2FjaGVbYVtiXV0pKTtyZXR1cm4gY307dmFyIGk9Zi5DTEFTUz17dGFyZ2V0OlwiYzMtdGFyZ2V0XCIsY2hhcnQ6XCJjMy1jaGFydFwiLGNoYXJ0TGluZTpcImMzLWNoYXJ0LWxpbmVcIixjaGFydExpbmVzOlwiYzMtY2hhcnQtbGluZXNcIixjaGFydEJhcjpcImMzLWNoYXJ0LWJhclwiLGNoYXJ0QmFyczpcImMzLWNoYXJ0LWJhcnNcIixjaGFydFRleHQ6XCJjMy1jaGFydC10ZXh0XCIsY2hhcnRUZXh0czpcImMzLWNoYXJ0LXRleHRzXCIsY2hhcnRBcmM6XCJjMy1jaGFydC1hcmNcIixjaGFydEFyY3M6XCJjMy1jaGFydC1hcmNzXCIsY2hhcnRBcmNzVGl0bGU6XCJjMy1jaGFydC1hcmNzLXRpdGxlXCIsY2hhcnRBcmNzQmFja2dyb3VuZDpcImMzLWNoYXJ0LWFyY3MtYmFja2dyb3VuZFwiLGNoYXJ0QXJjc0dhdWdlVW5pdDpcImMzLWNoYXJ0LWFyY3MtZ2F1Z2UtdW5pdFwiLGNoYXJ0QXJjc0dhdWdlTWF4OlwiYzMtY2hhcnQtYXJjcy1nYXVnZS1tYXhcIixjaGFydEFyY3NHYXVnZU1pbjpcImMzLWNoYXJ0LWFyY3MtZ2F1Z2UtbWluXCIsc2VsZWN0ZWRDaXJjbGU6XCJjMy1zZWxlY3RlZC1jaXJjbGVcIixzZWxlY3RlZENpcmNsZXM6XCJjMy1zZWxlY3RlZC1jaXJjbGVzXCIsZXZlbnRSZWN0OlwiYzMtZXZlbnQtcmVjdFwiLGV2ZW50UmVjdHM6XCJjMy1ldmVudC1yZWN0c1wiLGV2ZW50UmVjdHNTaW5nbGU6XCJjMy1ldmVudC1yZWN0cy1zaW5nbGVcIixldmVudFJlY3RzTXVsdGlwbGU6XCJjMy1ldmVudC1yZWN0cy1tdWx0aXBsZVwiLHpvb21SZWN0OlwiYzMtem9vbS1yZWN0XCIsYnJ1c2g6XCJjMy1icnVzaFwiLGZvY3VzZWQ6XCJjMy1mb2N1c2VkXCIsZGVmb2N1c2VkOlwiYzMtZGVmb2N1c2VkXCIscmVnaW9uOlwiYzMtcmVnaW9uXCIscmVnaW9uczpcImMzLXJlZ2lvbnNcIix0b29sdGlwQ29udGFpbmVyOlwiYzMtdG9vbHRpcC1jb250YWluZXJcIix0b29sdGlwOlwiYzMtdG9vbHRpcFwiLHRvb2x0aXBOYW1lOlwiYzMtdG9vbHRpcC1uYW1lXCIsc2hhcGU6XCJjMy1zaGFwZVwiLHNoYXBlczpcImMzLXNoYXBlc1wiLGxpbmU6XCJjMy1saW5lXCIsbGluZXM6XCJjMy1saW5lc1wiLGJhcjpcImMzLWJhclwiLGJhcnM6XCJjMy1iYXJzXCIsY2lyY2xlOlwiYzMtY2lyY2xlXCIsY2lyY2xlczpcImMzLWNpcmNsZXNcIixhcmM6XCJjMy1hcmNcIixhcmNzOlwiYzMtYXJjc1wiLGFyZWE6XCJjMy1hcmVhXCIsYXJlYXM6XCJjMy1hcmVhc1wiLGVtcHR5OlwiYzMtZW1wdHlcIix0ZXh0OlwiYzMtdGV4dFwiLHRleHRzOlwiYzMtdGV4dHNcIixnYXVnZVZhbHVlOlwiYzMtZ2F1Z2UtdmFsdWVcIixncmlkOlwiYzMtZ3JpZFwiLGdyaWRMaW5lczpcImMzLWdyaWQtbGluZXNcIix4Z3JpZDpcImMzLXhncmlkXCIseGdyaWRzOlwiYzMteGdyaWRzXCIseGdyaWRMaW5lOlwiYzMteGdyaWQtbGluZVwiLHhncmlkTGluZXM6XCJjMy14Z3JpZC1saW5lc1wiLHhncmlkRm9jdXM6XCJjMy14Z3JpZC1mb2N1c1wiLHlncmlkOlwiYzMteWdyaWRcIix5Z3JpZHM6XCJjMy15Z3JpZHNcIix5Z3JpZExpbmU6XCJjMy15Z3JpZC1saW5lXCIseWdyaWRMaW5lczpcImMzLXlncmlkLWxpbmVzXCIsYXhpczpcImMzLWF4aXNcIixheGlzWDpcImMzLWF4aXMteFwiLGF4aXNYTGFiZWw6XCJjMy1heGlzLXgtbGFiZWxcIixheGlzWTpcImMzLWF4aXMteVwiLGF4aXNZTGFiZWw6XCJjMy1heGlzLXktbGFiZWxcIixheGlzWTI6XCJjMy1heGlzLXkyXCIsYXhpc1kyTGFiZWw6XCJjMy1heGlzLXkyLWxhYmVsXCIsbGVnZW5kQmFja2dyb3VuZDpcImMzLWxlZ2VuZC1iYWNrZ3JvdW5kXCIsbGVnZW5kSXRlbTpcImMzLWxlZ2VuZC1pdGVtXCIsbGVnZW5kSXRlbUV2ZW50OlwiYzMtbGVnZW5kLWl0ZW0tZXZlbnRcIixsZWdlbmRJdGVtVGlsZTpcImMzLWxlZ2VuZC1pdGVtLXRpbGVcIixsZWdlbmRJdGVtSGlkZGVuOlwiYzMtbGVnZW5kLWl0ZW0taGlkZGVuXCIsbGVnZW5kSXRlbUZvY3VzZWQ6XCJjMy1sZWdlbmQtaXRlbS1mb2N1c2VkXCIsZHJhZ2FyZWE6XCJjMy1kcmFnYXJlYVwiLEVYUEFOREVEOlwiX2V4cGFuZGVkX1wiLFNFTEVDVEVEOlwiX3NlbGVjdGVkX1wiLElOQ0xVREVEOlwiX2luY2x1ZGVkX1wifTtmLmdlbmVyYXRlQ2xhc3M9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cIiBcIithK1wiIFwiK2ErdGhpcy5nZXRUYXJnZXRTZWxlY3RvclN1ZmZpeChiKX0sZi5jbGFzc1RleHQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2VuZXJhdGVDbGFzcyhpLnRleHQsYS5pbmRleCl9LGYuY2xhc3NUZXh0cz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZW5lcmF0ZUNsYXNzKGkudGV4dHMsYS5pZCl9LGYuY2xhc3NTaGFwZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZW5lcmF0ZUNsYXNzKGkuc2hhcGUsYS5pbmRleCl9LGYuY2xhc3NTaGFwZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2VuZXJhdGVDbGFzcyhpLnNoYXBlcyxhLmlkKX0sZi5jbGFzc0xpbmU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2xhc3NTaGFwZShhKSt0aGlzLmdlbmVyYXRlQ2xhc3MoaS5saW5lLGEuaWQpfSxmLmNsYXNzTGluZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2xhc3NTaGFwZXMoYSkrdGhpcy5nZW5lcmF0ZUNsYXNzKGkubGluZXMsYS5pZCl9LGYuY2xhc3NDaXJjbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2xhc3NTaGFwZShhKSt0aGlzLmdlbmVyYXRlQ2xhc3MoaS5jaXJjbGUsYS5pbmRleCl9LGYuY2xhc3NDaXJjbGVzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNsYXNzU2hhcGVzKGEpK3RoaXMuZ2VuZXJhdGVDbGFzcyhpLmNpcmNsZXMsYS5pZCl9LGYuY2xhc3NCYXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2xhc3NTaGFwZShhKSt0aGlzLmdlbmVyYXRlQ2xhc3MoaS5iYXIsYS5pbmRleCl9LGYuY2xhc3NCYXJzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNsYXNzU2hhcGVzKGEpK3RoaXMuZ2VuZXJhdGVDbGFzcyhpLmJhcnMsYS5pZCl9LGYuY2xhc3NBcmM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2xhc3NTaGFwZShhLmRhdGEpK3RoaXMuZ2VuZXJhdGVDbGFzcyhpLmFyYyxhLmRhdGEuaWQpfSxmLmNsYXNzQXJjcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jbGFzc1NoYXBlcyhhLmRhdGEpK3RoaXMuZ2VuZXJhdGVDbGFzcyhpLmFyY3MsYS5kYXRhLmlkKX0sZi5jbGFzc0FyZWE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2xhc3NTaGFwZShhKSt0aGlzLmdlbmVyYXRlQ2xhc3MoaS5hcmVhLGEuaWQpfSxmLmNsYXNzQXJlYXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2xhc3NTaGFwZXMoYSkrdGhpcy5nZW5lcmF0ZUNsYXNzKGkuYXJlYXMsYS5pZCl9LGYuY2xhc3NSZWdpb249ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5nZW5lcmF0ZUNsYXNzKGkucmVnaW9uLGIpK1wiIFwiKyhcImNsYXNzXCJpbiBhP2FbXCJjbGFzc1wiXTpcIlwiKX0sZi5jbGFzc0V2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdlbmVyYXRlQ2xhc3MoaS5ldmVudFJlY3QsYS5pbmRleCl9LGYuY2xhc3NUYXJnZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnLmRhdGFfY2xhc3Nlc1thXSxkPVwiXCI7cmV0dXJuIGMmJihkPVwiIFwiK2kudGFyZ2V0K1wiLVwiK2MpLGIuZ2VuZXJhdGVDbGFzcyhpLnRhcmdldCxhKStkfSxmLmNsYXNzRm9jdXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2xhc3NGb2N1c2VkKGEpK3RoaXMuY2xhc3NEZWZvY3VzZWQoYSl9LGYuY2xhc3NGb2N1c2VkPWZ1bmN0aW9uKGEpe3JldHVyblwiIFwiKyh0aGlzLmZvY3VzZWRUYXJnZXRJZHMuaW5kZXhPZihhLmlkKT49MD9pLmZvY3VzZWQ6XCJcIil9LGYuY2xhc3NEZWZvY3VzZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuXCIgXCIrKHRoaXMuZGVmb2N1c2VkVGFyZ2V0SWRzLmluZGV4T2YoYS5pZCk+PTA/aS5kZWZvY3VzZWQ6XCJcIil9LGYuY2xhc3NDaGFydFRleHQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGkuY2hhcnRUZXh0K3RoaXMuY2xhc3NUYXJnZXQoYS5pZCl9LGYuY2xhc3NDaGFydExpbmU9ZnVuY3Rpb24oYSl7cmV0dXJuIGkuY2hhcnRMaW5lK3RoaXMuY2xhc3NUYXJnZXQoYS5pZCl9LGYuY2xhc3NDaGFydEJhcj1mdW5jdGlvbihhKXtyZXR1cm4gaS5jaGFydEJhcit0aGlzLmNsYXNzVGFyZ2V0KGEuaWQpfSxmLmNsYXNzQ2hhcnRBcmM9ZnVuY3Rpb24oYSl7cmV0dXJuIGkuY2hhcnRBcmMrdGhpcy5jbGFzc1RhcmdldChhLmRhdGEuaWQpfSxmLmdldFRhcmdldFNlbGVjdG9yU3VmZml4PWZ1bmN0aW9uKGEpe3JldHVybiBhfHwwPT09YT8oXCItXCIrYSkucmVwbGFjZSgvW1xccz8hQCMkJV4mKigpXz0rLC48PidcIjo7XFxbXFxdXFwvfH5ge31cXFxcXS9nLFwiLVwiKTpcIlwifSxmLnNlbGVjdG9yVGFyZ2V0PWZ1bmN0aW9uKGEsYil7cmV0dXJuKGJ8fFwiXCIpK1wiLlwiK2kudGFyZ2V0K3RoaXMuZ2V0VGFyZ2V0U2VsZWN0b3JTdWZmaXgoYSl9LGYuc2VsZWN0b3JUYXJnZXRzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztyZXR1cm4gYT1hfHxbXSxhLmxlbmd0aD9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYy5zZWxlY3RvclRhcmdldChhLGIpfSk6bnVsbH0sZi5zZWxlY3RvckxlZ2VuZD1mdW5jdGlvbihhKXtyZXR1cm5cIi5cIitpLmxlZ2VuZEl0ZW0rdGhpcy5nZXRUYXJnZXRTZWxlY3RvclN1ZmZpeChhKX0sZi5zZWxlY3RvckxlZ2VuZHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gYSYmYS5sZW5ndGg/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGIuc2VsZWN0b3JMZWdlbmQoYSl9KTpudWxsfTt2YXIgaj1mLmlzVmFsdWU9ZnVuY3Rpb24oYSl7cmV0dXJuIGF8fDA9PT1hfSxrPWYuaXNGdW5jdGlvbj1mdW5jdGlvbihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBhfSxsPWYuaXNTdHJpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGF9LG09Zi5pc1VuZGVmaW5lZD1mdW5jdGlvbihhKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgYX0sbj1mLmlzRGVmaW5lZD1mdW5jdGlvbihhKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgYX0sbz1mLmNlaWwxMD1mdW5jdGlvbihhKXtyZXR1cm4gMTAqTWF0aC5jZWlsKGEvMTApfSxwPWYuYXNIYWxmUGl4ZWw9ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGguY2VpbChhKSsuNX0scT1mLmRpZmZEb21haW49ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV0tYVswXX0scj1mLmlzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIWF8fGwoYSkmJjA9PT1hLmxlbmd0aHx8XCJvYmplY3RcIj09dHlwZW9mIGEmJjA9PT1PYmplY3Qua2V5cyhhKS5sZW5ndGh9LHM9Zi5ub3RFbXB0eT1mdW5jdGlvbihhKXtyZXR1cm4gT2JqZWN0LmtleXMoYSkubGVuZ3RoPjB9LHQ9Zi5nZXRPcHRpb249ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuKGFbYl0pP2FbYl06Y30sdT1mLmhhc1ZhbHVlPWZ1bmN0aW9uKGEsYil7dmFyIGM9ITE7cmV0dXJuIE9iamVjdC5rZXlzKGEpLmZvckVhY2goZnVuY3Rpb24oZCl7YVtkXT09PWImJihjPSEwKX0pLGN9LHY9Zi5nZXRQYXRoQm94PWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYz1bYS5wYXRoU2VnTGlzdC5nZXRJdGVtKDApLGEucGF0aFNlZ0xpc3QuZ2V0SXRlbSgxKV0sZD1jWzBdLngsZT1NYXRoLm1pbihjWzBdLnksY1sxXS55KTtyZXR1cm57eDpkLHk6ZSx3aWR0aDpiLndpZHRoLGhlaWdodDpiLmhlaWdodH19O2UuZm9jdXM9ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLmludGVybmFsO2E9Yy5tYXBUb1RhcmdldElkcyhhKSxiPWMuc3ZnLnNlbGVjdEFsbChjLnNlbGVjdG9yVGFyZ2V0cyhhLmZpbHRlcihjLmlzVGFyZ2V0VG9TaG93LGMpKSksdGhpcy5yZXZlcnQoKSx0aGlzLmRlZm9jdXMoKSxiLmNsYXNzZWQoaS5mb2N1c2VkLCEwKS5jbGFzc2VkKGkuZGVmb2N1c2VkLCExKSxjLmhhc0FyY1R5cGUoKSYmYy5leHBhbmRBcmMoYSksYy50b2dnbGVGb2N1c0xlZ2VuZChhLCEwKSxjLmZvY3VzZWRUYXJnZXRJZHM9YSxjLmRlZm9jdXNlZFRhcmdldElkcz1jLmRlZm9jdXNlZFRhcmdldElkcy5maWx0ZXIoZnVuY3Rpb24oYil7cmV0dXJuIGEuaW5kZXhPZihiKTwwfSl9LGUuZGVmb2N1cz1mdW5jdGlvbihhKXt2YXIgYixjPXRoaXMuaW50ZXJuYWw7YT1jLm1hcFRvVGFyZ2V0SWRzKGEpLGI9Yy5zdmcuc2VsZWN0QWxsKGMuc2VsZWN0b3JUYXJnZXRzKGEuZmlsdGVyKGMuaXNUYXJnZXRUb1Nob3csYykpKSx0aGlzLnJldmVydCgpLGIuY2xhc3NlZChpLmZvY3VzZWQsITEpLmNsYXNzZWQoaS5kZWZvY3VzZWQsITApLGMuaGFzQXJjVHlwZSgpJiZjLnVuZXhwYW5kQXJjKGEpLGMudG9nZ2xlRm9jdXNMZWdlbmQoYSwhMSksYy5mb2N1c2VkVGFyZ2V0SWRzPWMuZm9jdXNlZFRhcmdldElkcy5maWx0ZXIoZnVuY3Rpb24oYil7cmV0dXJuIGEuaW5kZXhPZihiKTwwfSksYy5kZWZvY3VzZWRUYXJnZXRJZHM9YX0sZS5yZXZlcnQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLmludGVybmFsO2E9Yy5tYXBUb1RhcmdldElkcyhhKSxiPWMuc3ZnLnNlbGVjdEFsbChjLnNlbGVjdG9yVGFyZ2V0cyhhKSksYi5jbGFzc2VkKGkuZm9jdXNlZCwhMSkuY2xhc3NlZChpLmRlZm9jdXNlZCwhMSksYy5oYXNBcmNUeXBlKCkmJmMudW5leHBhbmRBcmMoYSksYy5jb25maWcubGVnZW5kX3Nob3cmJmMuc2hvd0xlZ2VuZChhLmZpbHRlcihjLmlzTGVnZW5kVG9TaG93LmJpbmQoYykpKSxjLmZvY3VzZWRUYXJnZXRJZHM9W10sYy5kZWZvY3VzZWRUYXJnZXRJZHM9W119LGUuc2hvdz1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9dGhpcy5pbnRlcm5hbDthPWQubWFwVG9UYXJnZXRJZHMoYSksYj1ifHx7fSxkLnJlbW92ZUhpZGRlblRhcmdldElkcyhhKSxjPWQuc3ZnLnNlbGVjdEFsbChkLnNlbGVjdG9yVGFyZ2V0cyhhKSksYy50cmFuc2l0aW9uKCkuc3R5bGUoXCJvcGFjaXR5XCIsMSxcImltcG9ydGFudFwiKS5jYWxsKGQuZW5kYWxsLGZ1bmN0aW9uKCl7Yy5zdHlsZShcIm9wYWNpdHlcIixudWxsKS5zdHlsZShcIm9wYWNpdHlcIiwxKX0pLGIud2l0aExlZ2VuZCYmZC5zaG93TGVnZW5kKGEpLGQucmVkcmF3KHt3aXRoVXBkYXRlT3JnWERvbWFpbjohMCx3aXRoVXBkYXRlWERvbWFpbjohMCx3aXRoTGVnZW5kOiEwfSl9LGUuaGlkZT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9dGhpcy5pbnRlcm5hbDthPWQubWFwVG9UYXJnZXRJZHMoYSksYj1ifHx7fSxkLmFkZEhpZGRlblRhcmdldElkcyhhKSxjPWQuc3ZnLnNlbGVjdEFsbChkLnNlbGVjdG9yVGFyZ2V0cyhhKSksYy50cmFuc2l0aW9uKCkuc3R5bGUoXCJvcGFjaXR5XCIsMCxcImltcG9ydGFudFwiKS5jYWxsKGQuZW5kYWxsLGZ1bmN0aW9uKCl7Yy5zdHlsZShcIm9wYWNpdHlcIixudWxsKS5zdHlsZShcIm9wYWNpdHlcIiwwKX0pLGIud2l0aExlZ2VuZCYmZC5oaWRlTGVnZW5kKGEpLGQucmVkcmF3KHt3aXRoVXBkYXRlT3JnWERvbWFpbjohMCx3aXRoVXBkYXRlWERvbWFpbjohMCx3aXRoTGVnZW5kOiEwfSl9LGUudG9nZ2xlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPXRoaXMuaW50ZXJuYWw7ZC5tYXBUb1RhcmdldElkcyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2QuaXNUYXJnZXRUb1Nob3coYSk/Yy5oaWRlKGEsYik6Yy5zaG93KGEsYil9KX0sZS56b29tPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWw7cmV0dXJuIGEmJihiLmlzVGltZVNlcmllcygpJiYoYT1hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYi5wYXJzZURhdGUoYSl9KSksYi5icnVzaC5leHRlbnQoYSksYi5yZWRyYXcoe3dpdGhVcGRhdGVYRG9tYWluOiEwLHdpdGhZOmIuY29uZmlnLnpvb21fcmVzY2FsZX0pLGIuY29uZmlnLnpvb21fb256b29tLmNhbGwodGhpcyxiLngub3JnRG9tYWluKCkpKSxiLmJydXNoLmV4dGVudCgpfSxlLnpvb20uZW5hYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWw7Yi5jb25maWcuem9vbV9lbmFibGVkPWEsYi51cGRhdGVBbmRSZWRyYXcoKX0sZS51bnpvb209ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmludGVybmFsO2EuYnJ1c2guY2xlYXIoKS51cGRhdGUoKSxhLnJlZHJhdyh7d2l0aFVwZGF0ZVhEb21haW46ITB9KX0sZS5sb2FkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWwsYz1iLmNvbmZpZztyZXR1cm4gYS54cyYmYi5hZGRYcyhhLnhzKSxcImNsYXNzZXNcImluIGEmJk9iamVjdC5rZXlzKGEuY2xhc3NlcykuZm9yRWFjaChmdW5jdGlvbihiKXtjLmRhdGFfY2xhc3Nlc1tiXT1hLmNsYXNzZXNbYl19KSxcImNhdGVnb3JpZXNcImluIGEmJmIuaXNDYXRlZ29yaXplZCgpJiYoYy5heGlzX3hfY2F0ZWdvcmllcz1hLmNhdGVnb3JpZXMpLFwiYXhlc1wiaW4gYSYmT2JqZWN0LmtleXMoYS5heGVzKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2MuZGF0YV9heGVzW2JdPWEuYXhlc1tiXX0pLFwiY2FjaGVJZHNcImluIGEmJmIuaGFzQ2FjaGVzKGEuY2FjaGVJZHMpP3ZvaWQgYi5sb2FkKGIuZ2V0Q2FjaGVzKGEuY2FjaGVJZHMpLGEuZG9uZSk6dm9pZChcInVubG9hZFwiaW4gYT9iLnVubG9hZChiLm1hcFRvVGFyZ2V0SWRzKFwiYm9vbGVhblwiPT10eXBlb2YgYS51bmxvYWQmJmEudW5sb2FkP251bGw6YS51bmxvYWQpLGZ1bmN0aW9uKCl7Yi5sb2FkRnJvbUFyZ3MoYSl9KTpiLmxvYWRGcm9tQXJncyhhKSl9LGUudW5sb2FkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWw7YT1hfHx7fSxhIGluc3RhbmNlb2YgQXJyYXk/YT17aWRzOmF9Olwic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT17aWRzOlthXX0pLGIudW5sb2FkKGIubWFwVG9UYXJnZXRJZHMoYS5pZHMpLGZ1bmN0aW9uKCl7Yi5yZWRyYXcoe3dpdGhVcGRhdGVPcmdYRG9tYWluOiEwLHdpdGhVcGRhdGVYRG9tYWluOiEwLHdpdGhMZWdlbmQ6ITB9KSxhLmRvbmUmJmEuZG9uZSgpfSl9LGUuZmxvdz1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpLGs9dGhpcy5pbnRlcm5hbCxsPVtdLG09ay5nZXRNYXhEYXRhQ291bnQoKSxvPTAscD0wO2lmKGEuanNvbiljPWsuY29udmVydEpzb25Ub0RhdGEoYS5qc29uLGEua2V5cyk7ZWxzZSBpZihhLnJvd3MpYz1rLmNvbnZlcnRSb3dzVG9EYXRhKGEucm93cyk7ZWxzZXtpZighYS5jb2x1bW5zKXJldHVybjtjPWsuY29udmVydENvbHVtbnNUb0RhdGEoYS5jb2x1bW5zKX1iPWsuY29udmVydERhdGFUb1RhcmdldHMoYywhMCksay5kYXRhLnRhcmdldHMuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYyxkLGU9ITE7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKylpZihhLmlkPT09YltjXS5pZCl7Zm9yKGU9ITAsYS52YWx1ZXNbYS52YWx1ZXMubGVuZ3RoLTFdJiYocD1hLnZhbHVlc1thLnZhbHVlcy5sZW5ndGgtMV0uaW5kZXgrMSksbz1iW2NdLnZhbHVlcy5sZW5ndGgsZD0wO28+ZDtkKyspYltjXS52YWx1ZXNbZF0uaW5kZXg9cCtkLGsuaXNUaW1lU2VyaWVzKCl8fChiW2NdLnZhbHVlc1tkXS54PXArZCk7YS52YWx1ZXM9YS52YWx1ZXMuY29uY2F0KGJbY10udmFsdWVzKSxiLnNwbGljZShjLDEpO2JyZWFrfWV8fGwucHVzaChhLmlkKX0pLGsuZGF0YS50YXJnZXRzLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGIsYztmb3IoYj0wO2I8bC5sZW5ndGg7YisrKWlmKGEuaWQ9PT1sW2JdKWZvcihwPWEudmFsdWVzW2EudmFsdWVzLmxlbmd0aC0xXS5pbmRleCsxLGM9MDtvPmM7YysrKWEudmFsdWVzLnB1c2goe2lkOmEuaWQsaW5kZXg6cCtjLHg6ay5pc1RpbWVTZXJpZXMoKT9rLmdldE90aGVyVGFyZ2V0WChwK2MpOnArYyx2YWx1ZTpudWxsfSl9KSxrLmRhdGEudGFyZ2V0cy5sZW5ndGgmJmIuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYixjPVtdO2ZvcihiPWsuZGF0YS50YXJnZXRzWzBdLnZhbHVlc1swXS5pbmRleDtwPmI7YisrKWMucHVzaCh7aWQ6YS5pZCxpbmRleDpiLHg6ay5pc1RpbWVTZXJpZXMoKT9rLmdldE90aGVyVGFyZ2V0WChiKTpiLHZhbHVlOm51bGx9KTthLnZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuaW5kZXgrPXAsay5pc1RpbWVTZXJpZXMoKXx8KGEueCs9cCl9KSxhLnZhbHVlcz1jLmNvbmNhdChhLnZhbHVlcyl9KSxrLmRhdGEudGFyZ2V0cz1rLmRhdGEudGFyZ2V0cy5jb25jYXQoYiksZD1rLmdldE1heERhdGFDb3VudCgpLGY9ay5kYXRhLnRhcmdldHNbMF0sZz1mLnZhbHVlc1swXSxuKGEudG8pPyhvPTAsaT1rLmlzVGltZVNlcmllcygpP2sucGFyc2VEYXRlKGEudG8pOmEudG8sZi52YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihhKXthLng8aSYmbysrfSkpOm4oYS5sZW5ndGgpJiYobz1hLmxlbmd0aCksbT8xPT09bSYmay5pc1RpbWVTZXJpZXMoKSYmKGg9KGYudmFsdWVzW2YudmFsdWVzLmxlbmd0aC0xXS54LWcueCkvMixlPVtuZXcgRGF0ZSgrZy54LWgpLG5ldyBEYXRlKCtnLngraCldLGsudXBkYXRlWERvbWFpbihudWxsLCEwLCEwLCExLGUpKTooaD1rLmlzVGltZVNlcmllcygpP2YudmFsdWVzLmxlbmd0aD4xP2YudmFsdWVzW2YudmFsdWVzLmxlbmd0aC0xXS54LWcueDpnLngtay5nZXRYRG9tYWluKGsuZGF0YS50YXJnZXRzKVswXToxLGU9W2cueC1oLGcueF0say51cGRhdGVYRG9tYWluKG51bGwsITAsITAsITEsZSkpLGsudXBkYXRlVGFyZ2V0cyhrLmRhdGEudGFyZ2V0cyksay5yZWRyYXcoe2Zsb3c6e2luZGV4OmcuaW5kZXgsbGVuZ3RoOm8sZHVyYXRpb246aihhLmR1cmF0aW9uKT9hLmR1cmF0aW9uOmsuY29uZmlnLnRyYW5zaXRpb25fZHVyYXRpb24sZG9uZTphLmRvbmUsb3JnRGF0YUNvdW50Om19LHdpdGhMZWdlbmQ6ITAsd2l0aFRyYW5zaXRpb246bT4xLHdpdGhUcmltWERvbWFpbjohMSx3aXRoVXBkYXRlWEF4aXM6ITB9KX0sZi5nZW5lcmF0ZUZsb3c9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnLGQ9Yi5kMztyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZSxmLGcsaD1hLnRhcmdldHMsaj1hLmZsb3csaz1hLmRyYXdCYXIsbD1hLmRyYXdMaW5lLG09YS5kcmF3QXJlYSxuPWEuY3gsbz1hLmN5LHA9YS54dixyPWEueEZvclRleHQscz1hLnlGb3JUZXh0LHQ9YS5kdXJhdGlvbix1PTEsdj1qLmluZGV4LHc9ai5sZW5ndGgseD1iLmdldFZhbHVlT25JbmRleChiLmRhdGEudGFyZ2V0c1swXS52YWx1ZXMsdikseT1iLmdldFZhbHVlT25JbmRleChiLmRhdGEudGFyZ2V0c1swXS52YWx1ZXMsdit3KSx6PWIueC5kb21haW4oKSxBPWouZHVyYXRpb258fHQsQj1qLmRvbmV8fGZ1bmN0aW9uKCl7fSxDPWIuZ2VuZXJhdGVXYWl0KCksRD1iLnhncmlkfHxkLnNlbGVjdEFsbChbXSksRT1iLnhncmlkTGluZXN8fGQuc2VsZWN0QWxsKFtdKSxGPWIubWFpblJlZ2lvbnx8ZC5zZWxlY3RBbGwoW10pLEc9Yi5tYWluVGV4dHx8ZC5zZWxlY3RBbGwoW10pLEg9Yi5tYWluQmFyfHxkLnNlbGVjdEFsbChbXSksST1iLm1haW5MaW5lfHxkLnNlbGVjdEFsbChbXSksSj1iLm1haW5BcmVhfHxkLnNlbGVjdEFsbChbXSksSz1iLm1haW5DaXJjbGV8fGQuc2VsZWN0QWxsKFtdKTtiLmZsb3dpbmc9ITAsYi5kYXRhLnRhcmdldHMuZm9yRWFjaChmdW5jdGlvbihhKXthLnZhbHVlcy5zcGxpY2UoMCx3KX0pLGc9Yi51cGRhdGVYRG9tYWluKGgsITAsITApLGIudXBkYXRlWEdyaWQmJmIudXBkYXRlWEdyaWQoITApLGoub3JnRGF0YUNvdW50P2U9MT09PWoub3JnRGF0YUNvdW50fHx4Lng9PT15Lng/Yi54KHpbMF0pLWIueChnWzBdKTpiLmlzVGltZVNlcmllcygpP2IueCh6WzBdKS1iLngoZ1swXSk6Yi54KHgueCktYi54KHkueCk6MSE9PWIuZGF0YS50YXJnZXRzWzBdLnZhbHVlcy5sZW5ndGg/ZT1iLngoelswXSktYi54KGdbMF0pOmIuaXNUaW1lU2VyaWVzKCk/KHg9Yi5nZXRWYWx1ZU9uSW5kZXgoYi5kYXRhLnRhcmdldHNbMF0udmFsdWVzLDApLHk9Yi5nZXRWYWx1ZU9uSW5kZXgoYi5kYXRhLnRhcmdldHNbMF0udmFsdWVzLGIuZGF0YS50YXJnZXRzWzBdLnZhbHVlcy5sZW5ndGgtMSksZT1iLngoeC54KS1iLngoeS54KSk6ZT1xKGcpLzIsdT1xKHopL3EoZyksZj1cInRyYW5zbGF0ZShcIitlK1wiLDApIHNjYWxlKFwiK3UrXCIsMSlcIixiLmhpZGVYR3JpZEZvY3VzKCksYi5oaWRlVG9vbHRpcCgpLGQudHJhbnNpdGlvbigpLmVhc2UoXCJsaW5lYXJcIikuZHVyYXRpb24oQSkuZWFjaChmdW5jdGlvbigpe0MuYWRkKGIuYXhlcy54LnRyYW5zaXRpb24oKS5jYWxsKGIueEF4aXMpKSxDLmFkZChILnRyYW5zaXRpb24oKS5hdHRyKFwidHJhbnNmb3JtXCIsZikpLEMuYWRkKEkudHJhbnNpdGlvbigpLmF0dHIoXCJ0cmFuc2Zvcm1cIixmKSksQy5hZGQoSi50cmFuc2l0aW9uKCkuYXR0cihcInRyYW5zZm9ybVwiLGYpKSxDLmFkZChLLnRyYW5zaXRpb24oKS5hdHRyKFwidHJhbnNmb3JtXCIsZikpLEMuYWRkKEcudHJhbnNpdGlvbigpLmF0dHIoXCJ0cmFuc2Zvcm1cIixmKSksQy5hZGQoRi5maWx0ZXIoYi5pc1JlZ2lvbk9uWCkudHJhbnNpdGlvbigpLmF0dHIoXCJ0cmFuc2Zvcm1cIixmKSksQy5hZGQoRC50cmFuc2l0aW9uKCkuYXR0cihcInRyYW5zZm9ybVwiLGYpKSxDLmFkZChFLnRyYW5zaXRpb24oKS5hdHRyKFwidHJhbnNmb3JtXCIsZikpfSkuY2FsbChDLGZ1bmN0aW9uKCl7dmFyIGEsZD1bXSxlPVtdLGY9W107aWYodyl7Zm9yKGE9MDt3PmE7YSsrKWQucHVzaChcIi5cIitpLnNoYXBlK1wiLVwiKyh2K2EpKSxlLnB1c2goXCIuXCIraS50ZXh0K1wiLVwiKyh2K2EpKSxmLnB1c2goXCIuXCIraS5ldmVudFJlY3QrXCItXCIrKHYrYSkpO2Iuc3ZnLnNlbGVjdEFsbChcIi5cIitpLnNoYXBlcykuc2VsZWN0QWxsKGQpLnJlbW92ZSgpLGIuc3ZnLnNlbGVjdEFsbChcIi5cIitpLnRleHRzKS5zZWxlY3RBbGwoZSkucmVtb3ZlKCksYi5zdmcuc2VsZWN0QWxsKFwiLlwiK2kuZXZlbnRSZWN0cykuc2VsZWN0QWxsKGYpLnJlbW92ZSgpLGIuc3ZnLnNlbGVjdChcIi5cIitpLnhncmlkKS5yZW1vdmUoKX1ELmF0dHIoXCJ0cmFuc2Zvcm1cIixudWxsKS5hdHRyKGIueGdyaWRBdHRyKSxFLmF0dHIoXCJ0cmFuc2Zvcm1cIixudWxsKSxFLnNlbGVjdChcImxpbmVcIikuYXR0cihcIngxXCIsYy5heGlzX3JvdGF0ZWQ/MDpwKS5hdHRyKFwieDJcIixjLmF4aXNfcm90YXRlZD9iLndpZHRoOnApLEUuc2VsZWN0KFwidGV4dFwiKS5hdHRyKFwieFwiLGMuYXhpc19yb3RhdGVkP2Iud2lkdGg6MCkuYXR0cihcInlcIixwKSxILmF0dHIoXCJ0cmFuc2Zvcm1cIixudWxsKS5hdHRyKFwiZFwiLGspLEkuYXR0cihcInRyYW5zZm9ybVwiLG51bGwpLmF0dHIoXCJkXCIsbCksSi5hdHRyKFwidHJhbnNmb3JtXCIsbnVsbCkuYXR0cihcImRcIixtKSxLLmF0dHIoXCJ0cmFuc2Zvcm1cIixudWxsKS5hdHRyKFwiY3hcIixuKS5hdHRyKFwiY3lcIixvKSxHLmF0dHIoXCJ0cmFuc2Zvcm1cIixudWxsKS5hdHRyKFwieFwiLHIpLmF0dHIoXCJ5XCIscykuc3R5bGUoXCJmaWxsLW9wYWNpdHlcIixiLm9wYWNpdHlGb3JUZXh0LmJpbmQoYikpLEYuYXR0cihcInRyYW5zZm9ybVwiLG51bGwpLEYuc2VsZWN0KFwicmVjdFwiKS5maWx0ZXIoYi5pc1JlZ2lvbk9uWCkuYXR0cihcInhcIixiLnJlZ2lvblguYmluZChiKSkuYXR0cihcIndpZHRoXCIsYi5yZWdpb25XaWR0aC5iaW5kKGIpKSxjLmludGVyYWN0aW9uX2VuYWJsZWQmJmIucmVkcmF3RXZlbnRSZWN0KCksQigpLGIuZmxvd2luZz0hMX0pfX0sZS5zZWxlY3RlZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsLGM9Yi5kMztyZXR1cm4gYy5tZXJnZShiLm1haW4uc2VsZWN0QWxsKFwiLlwiK2kuc2hhcGVzK2IuZ2V0VGFyZ2V0U2VsZWN0b3JTdWZmaXgoYSkpLnNlbGVjdEFsbChcIi5cIitpLnNoYXBlKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gYy5zZWxlY3QodGhpcykuY2xhc3NlZChpLlNFTEVDVEVEKX0pLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5tYXAoZnVuY3Rpb24oYSl7dmFyIGI9YS5fX2RhdGFfXztyZXR1cm4gYi5kYXRhP2IuZGF0YTpifSl9KSl9LGUuc2VsZWN0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmludGVybmFsLGU9ZC5kMyxmPWQuY29uZmlnO2YuZGF0YV9zZWxlY3Rpb25fZW5hYmxlZCYmZC5tYWluLnNlbGVjdEFsbChcIi5cIitpLnNoYXBlcykuc2VsZWN0QWxsKFwiLlwiK2kuc2hhcGUpLmVhY2goZnVuY3Rpb24oZyxoKXt2YXIgaj1lLnNlbGVjdCh0aGlzKSxrPWcuZGF0YT9nLmRhdGEuaWQ6Zy5pZCxsPWQuZ2V0VG9nZ2xlKHRoaXMsZykuYmluZChkKSxtPWYuZGF0YV9zZWxlY3Rpb25fZ3JvdXBlZHx8IWF8fGEuaW5kZXhPZihrKT49MCxvPSFifHxiLmluZGV4T2YoaCk+PTAscD1qLmNsYXNzZWQoaS5TRUxFQ1RFRCk7XG5qLmNsYXNzZWQoaS5saW5lKXx8ai5jbGFzc2VkKGkuYXJlYSl8fChtJiZvP2YuZGF0YV9zZWxlY3Rpb25faXNzZWxlY3RhYmxlKGcpJiYhcCYmbCghMCxqLmNsYXNzZWQoaS5TRUxFQ1RFRCwhMCksZyxoKTpuKGMpJiZjJiZwJiZsKCExLGouY2xhc3NlZChpLlNFTEVDVEVELCExKSxnLGgpKX0pfSxlLnVuc2VsZWN0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5pbnRlcm5hbCxkPWMuZDMsZT1jLmNvbmZpZztlLmRhdGFfc2VsZWN0aW9uX2VuYWJsZWQmJmMubWFpbi5zZWxlY3RBbGwoXCIuXCIraS5zaGFwZXMpLnNlbGVjdEFsbChcIi5cIitpLnNoYXBlKS5lYWNoKGZ1bmN0aW9uKGYsZyl7dmFyIGg9ZC5zZWxlY3QodGhpcyksaj1mLmRhdGE/Zi5kYXRhLmlkOmYuaWQsaz1jLmdldFRvZ2dsZSh0aGlzLGYpLmJpbmQoYyksbD1lLmRhdGFfc2VsZWN0aW9uX2dyb3VwZWR8fCFhfHxhLmluZGV4T2Yoaik+PTAsbT0hYnx8Yi5pbmRleE9mKGcpPj0wLG49aC5jbGFzc2VkKGkuU0VMRUNURUQpO2guY2xhc3NlZChpLmxpbmUpfHxoLmNsYXNzZWQoaS5hcmVhKXx8bCYmbSYmZS5kYXRhX3NlbGVjdGlvbl9pc3NlbGVjdGFibGUoZikmJm4mJmsoITEsaC5jbGFzc2VkKGkuU0VMRUNURUQsITEpLGYsZyl9KX0sZS50cmFuc2Zvcm09ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmludGVybmFsLGQ9W1wicGllXCIsXCJkb251dFwiXS5pbmRleE9mKGEpPj0wP3t3aXRoVHJhbnNmb3JtOiEwfTpudWxsO2MudHJhbnNmb3JtVG8oYixhLGQpfSxmLnRyYW5zZm9ybVRvPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9IWQuaGFzQXJjVHlwZSgpLGY9Y3x8e3dpdGhUcmFuc2l0aW9uRm9yQXhpczplfTtmLndpdGhUcmFuc2l0aW9uRm9yVHJhbnNmb3JtPSExLGQudHJhbnNpdGluZz0hMSxkLnNldFRhcmdldFR5cGUoYSxiKSxkLnVwZGF0ZVRhcmdldHMoZC5kYXRhLnRhcmdldHMpLGQudXBkYXRlQW5kUmVkcmF3KGYpfSxlLmdyb3Vwcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsLGM9Yi5jb25maWc7cmV0dXJuIG0oYSk/Yy5kYXRhX2dyb3VwczooYy5kYXRhX2dyb3Vwcz1hLGIucmVkcmF3KCksYy5kYXRhX2dyb3Vwcyl9LGUueGdyaWRzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWwsYz1iLmNvbmZpZztyZXR1cm4gYT8oYy5ncmlkX3hfbGluZXM9YSxiLnJlZHJhd1dpdGhvdXRSZXNjYWxlKCksYy5ncmlkX3hfbGluZXMpOmMuZ3JpZF94X2xpbmVzfSxlLnhncmlkcy5hZGQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbDtyZXR1cm4gdGhpcy54Z3JpZHMoYi5jb25maWcuZ3JpZF94X2xpbmVzLmNvbmNhdChhP2E6W10pKX0sZS54Z3JpZHMucmVtb3ZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWw7Yi5yZW1vdmVHcmlkTGluZXMoYSwhMCl9LGUueWdyaWRzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWwsYz1iLmNvbmZpZztyZXR1cm4gYT8oYy5ncmlkX3lfbGluZXM9YSxiLnJlZHJhd1dpdGhvdXRSZXNjYWxlKCksYy5ncmlkX3lfbGluZXMpOmMuZ3JpZF95X2xpbmVzfSxlLnlncmlkcy5hZGQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbDtyZXR1cm4gdGhpcy55Z3JpZHMoYi5jb25maWcuZ3JpZF95X2xpbmVzLmNvbmNhdChhP2E6W10pKX0sZS55Z3JpZHMucmVtb3ZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWw7Yi5yZW1vdmVHcmlkTGluZXMoYSwhMSl9LGUucmVnaW9ucz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsLGM9Yi5jb25maWc7cmV0dXJuIGE/KGMucmVnaW9ucz1hLGIucmVkcmF3V2l0aG91dFJlc2NhbGUoKSxjLnJlZ2lvbnMpOmMucmVnaW9uc30sZS5yZWdpb25zLmFkZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsLGM9Yi5jb25maWc7cmV0dXJuIGE/KGMucmVnaW9ucz1jLnJlZ2lvbnMuY29uY2F0KGEpLGIucmVkcmF3V2l0aG91dFJlc2NhbGUoKSxjLnJlZ2lvbnMpOmMucmVnaW9uc30sZS5yZWdpb25zLnJlbW92ZT1mdW5jdGlvbihhKXt2YXIgYixjLGQsZT10aGlzLmludGVybmFsLGY9ZS5jb25maWc7cmV0dXJuIGE9YXx8e30sYj1lLmdldE9wdGlvbihhLFwiZHVyYXRpb25cIixmLnRyYW5zaXRpb25fZHVyYXRpb24pLGM9ZS5nZXRPcHRpb24oYSxcImNsYXNzZXNcIixbaS5yZWdpb25dKSxkPWUubWFpbi5zZWxlY3QoXCIuXCIraS5yZWdpb25zKS5zZWxlY3RBbGwoYy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuXCIuXCIrYX0pKSwoYj9kLnRyYW5zaXRpb24oKS5kdXJhdGlvbihiKTpkKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5yZW1vdmUoKSxmLnJlZ2lvbnM9Zi5yZWdpb25zLmZpbHRlcihmdW5jdGlvbihhKXt2YXIgYj0hMTtyZXR1cm4gYVtcImNsYXNzXCJdPyhhW1wiY2xhc3NcIl0uc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24oYSl7Yy5pbmRleE9mKGEpPj0wJiYoYj0hMCl9KSwhYik6ITB9KSxmLnJlZ2lvbnN9LGUuZGF0YT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsLmRhdGEudGFyZ2V0cztyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgYT9iOmIuZmlsdGVyKGZ1bmN0aW9uKGIpe3JldHVybltdLmNvbmNhdChhKS5pbmRleE9mKGIuaWQpPj0wfSl9LGUuZGF0YS5zaG93bj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbnRlcm5hbC5maWx0ZXJUYXJnZXRzVG9TaG93KHRoaXMuZGF0YShhKSl9LGUuZGF0YS52YWx1ZXM9ZnVuY3Rpb24oYSl7dmFyIGIsYz1udWxsO3JldHVybiBhJiYoYj10aGlzLmRhdGEoYSksYz1iWzBdP2JbMF0udmFsdWVzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52YWx1ZX0pOm51bGwpLGN9LGUuZGF0YS5uYW1lcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbnRlcm5hbC5jbGVhckxlZ2VuZEl0ZW1UZXh0Qm94Q2FjaGUoKSx0aGlzLmludGVybmFsLnVwZGF0ZURhdGFBdHRyaWJ1dGVzKFwibmFtZXNcIixhKX0sZS5kYXRhLmNvbG9ycz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbnRlcm5hbC51cGRhdGVEYXRhQXR0cmlidXRlcyhcImNvbG9yc1wiLGEpfSxlLmRhdGEuYXhlcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbnRlcm5hbC51cGRhdGVEYXRhQXR0cmlidXRlcyhcImF4ZXNcIixhKX0sZS5jYXRlZ29yeT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuaW50ZXJuYWwsZD1jLmNvbmZpZztyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4xJiYoZC5heGlzX3hfY2F0ZWdvcmllc1thXT1iLGMucmVkcmF3KCkpLGQuYXhpc194X2NhdGVnb3JpZXNbYV19LGUuY2F0ZWdvcmllcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsLGM9Yi5jb25maWc7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGMuYXhpc194X2NhdGVnb3JpZXM9YSxiLnJlZHJhdygpLGMuYXhpc194X2NhdGVnb3JpZXMpOmMuYXhpc194X2NhdGVnb3JpZXN9LGUuY29sb3I9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbDtyZXR1cm4gYi5jb2xvcihhKX0sZS54PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWw7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJihiLnVwZGF0ZVRhcmdldFgoYi5kYXRhLnRhcmdldHMsYSksYi5yZWRyYXcoe3dpdGhVcGRhdGVPcmdYRG9tYWluOiEwLHdpdGhVcGRhdGVYRG9tYWluOiEwfSkpLGIuZGF0YS54c30sZS54cz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsO3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiYoYi51cGRhdGVUYXJnZXRYcyhiLmRhdGEudGFyZ2V0cyxhKSxiLnJlZHJhdyh7d2l0aFVwZGF0ZU9yZ1hEb21haW46ITAsd2l0aFVwZGF0ZVhEb21haW46ITB9KSksYi5kYXRhLnhzfSxlLmF4aXM9ZnVuY3Rpb24oKXt9LGUuYXhpcy5sYWJlbHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbDthcmd1bWVudHMubGVuZ3RoJiYoT2JqZWN0LmtleXMoYSkuZm9yRWFjaChmdW5jdGlvbihjKXtiLnNldEF4aXNMYWJlbFRleHQoYyxhW2NdKX0pLGIudXBkYXRlQXhpc0xhYmVscygpKX0sZS5heGlzLm1heD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsLGM9Yi5jb25maWc7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KFwib2JqZWN0XCI9PXR5cGVvZiBhPyhqKGEueCkmJihjLmF4aXNfeF9tYXg9YS54KSxqKGEueSkmJihjLmF4aXNfeV9tYXg9YS55KSxqKGEueTIpJiYoYy5heGlzX3kyX21heD1hLnkyKSk6Yy5heGlzX3lfbWF4PWMuYXhpc195Ml9tYXg9YSx2b2lkIGIucmVkcmF3KHt3aXRoVXBkYXRlT3JnWERvbWFpbjohMCx3aXRoVXBkYXRlWERvbWFpbjohMH0pKTp7eDpjLmF4aXNfeF9tYXgseTpjLmF4aXNfeV9tYXgseTI6Yy5heGlzX3kyX21heH19LGUuYXhpcy5taW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbCxjPWIuY29uZmlnO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhcIm9iamVjdFwiPT10eXBlb2YgYT8oaihhLngpJiYoYy5heGlzX3hfbWluPWEueCksaihhLnkpJiYoYy5heGlzX3lfbWluPWEueSksaihhLnkyKSYmKGMuYXhpc195Ml9taW49YS55MikpOmMuYXhpc195X21pbj1jLmF4aXNfeTJfbWluPWEsdm9pZCBiLnJlZHJhdyh7d2l0aFVwZGF0ZU9yZ1hEb21haW46ITAsd2l0aFVwZGF0ZVhEb21haW46ITB9KSk6e3g6Yy5heGlzX3hfbWluLHk6Yy5heGlzX3lfbWluLHkyOmMuYXhpc195Ml9taW59fSxlLmF4aXMucmFuZ2U9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG4oYS5tYXgpJiZ0aGlzLmF4aXMubWF4KGEubWF4KSx2b2lkKG4oYS5taW4pJiZ0aGlzLmF4aXMubWluKGEubWluKSkpOnttYXg6dGhpcy5heGlzLm1heCgpLG1pbjp0aGlzLmF4aXMubWluKCl9fSxlLmxlZ2VuZD1mdW5jdGlvbigpe30sZS5sZWdlbmQuc2hvdz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsO2Iuc2hvd0xlZ2VuZChiLm1hcFRvVGFyZ2V0SWRzKGEpKSxiLnVwZGF0ZUFuZFJlZHJhdyh7d2l0aExlZ2VuZDohMH0pfSxlLmxlZ2VuZC5oaWRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWw7Yi5oaWRlTGVnZW5kKGIubWFwVG9UYXJnZXRJZHMoYSkpLGIudXBkYXRlQW5kUmVkcmF3KHt3aXRoTGVnZW5kOiEwfSl9LGUucmVzaXplPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWwsYz1iLmNvbmZpZztjLnNpemVfd2lkdGg9YT9hLndpZHRoOm51bGwsYy5zaXplX2hlaWdodD1hP2EuaGVpZ2h0Om51bGwsdGhpcy5mbHVzaCgpfSxlLmZsdXNoPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbnRlcm5hbDthLnVwZGF0ZUFuZFJlZHJhdyh7d2l0aExlZ2VuZDohMCx3aXRoVHJhbnNpdGlvbjohMSx3aXRoVHJhbnNpdGlvbkZvclRyYW5zZm9ybTohMX0pfSxlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmludGVybmFsO3JldHVybiBhLmNsZWFySW50ZXJ2YWwoYi5pbnRlcnZhbEZvck9ic2VydmVJbnNlcnRlZCksYS5vbnJlc2l6ZT1udWxsLGIuc2VsZWN0Q2hhcnQuY2xhc3NlZChcImMzXCIsITEpLmh0bWwoXCJcIiksT2JqZWN0LmtleXMoYikuZm9yRWFjaChmdW5jdGlvbihhKXtiW2FdPW51bGx9KSxudWxsfSxlLnRvb2x0aXA9ZnVuY3Rpb24oKXt9LGUudG9vbHRpcC5zaG93PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD10aGlzLmludGVybmFsO2EubW91c2UmJihjPWEubW91c2UpLGEuZGF0YT9kLmlzTXVsdGlwbGVYKCk/KGM9W2QueChhLmRhdGEueCksZC5nZXRZU2NhbGUoYS5kYXRhLmlkKShhLmRhdGEudmFsdWUpXSxiPW51bGwpOmI9aihhLmRhdGEuaW5kZXgpP2EuZGF0YS5pbmRleDpkLmdldEluZGV4QnlYKGEuZGF0YS54KTpcInVuZGVmaW5lZFwiIT10eXBlb2YgYS54P2I9ZC5nZXRJbmRleEJ5WChhLngpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmluZGV4JiYoYj1hLmluZGV4KSxkLmRpc3BhdGNoRXZlbnQoXCJtb3VzZW92ZXJcIixiLGMpLGQuZGlzcGF0Y2hFdmVudChcIm1vdXNlbW92ZVwiLGIsYyl9LGUudG9vbHRpcC5oaWRlPWZ1bmN0aW9uKCl7dGhpcy5pbnRlcm5hbC5kaXNwYXRjaEV2ZW50KFwibW91c2VvdXRcIiwwKX07dmFyIHc7RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGIuYXBwbHkoYSxhcmd1bWVudHMpfX0sXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImMzXCIsW1wiZDNcIl0sZyk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZzphLmMzPWd9KHdpbmRvdyk7Il0sImZpbGUiOiJjMy5qcyJ9
